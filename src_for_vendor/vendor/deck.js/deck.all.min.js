($=>{function stopPropagation(event){event.stopPropagation()}function updateStates(){var oldIndex,$newParents;oldIndex=$container.data("onSlide"),$container.removeClass(options.classes.onPrefix+oldIndex),$container.addClass(options.classes.onPrefix+currentIndex),$container.data("onSlide",currentIndex),oldIndex=$("."+options.classes.current).parentsUntil(options.selectors.container),$newParents=slides[currentIndex].parentsUntil(options.selectors.container),oldIndex.removeClass(options.classes.childCurrent),$newParents.addClass(options.classes.childCurrent),clsToRemove=[options.classes.before,options.classes.previous,options.classes.current,options.classes.next,options.classes.after];for(var idx=0;idx<clsToRemove.length;idx++)clsName=clsToRemove[idx],$("."+clsName).removeClass(clsName);slides[currentIndex].addClass(options.classes.current),0<currentIndex&&slides[currentIndex-1].addClass(options.classes.previous),currentIndex+1<slides.length&&slides[currentIndex+1].addClass(options.classes.next),1<currentIndex&&$.each(slides.slice(0,currentIndex-1),function(i,$slide){$slide.addClass(options.classes.before)}),currentIndex+2<slides.length&&$.each(slides.slice(currentIndex+2),function(i,$slide){$slide.addClass(options.classes.after)}),options.setAriaHiddens&&$(options.selectors.slides).each(function(){var $slide=$(this),isSub=$slide.closest("."+options.classes.childCurrent).length,isBefore=$slide.hasClass(options.classes.before)&&!isSub,isSub=$slide.hasClass(options.classes.previous)&&!isSub,isNext=$slide.hasClass(options.classes.next),isAfter=$slide.hasClass(options.classes.after);$slide.attr("aria-hidden",isBefore||isSub||isNext||isAfter)})}function initSlidesArray(elements){$.isArray(elements)?$.each(elements,function(i,element){slides.push($(element))}):$(elements).each(function(i,element){slides.push($(element))})}function indexInBounds(index){return"number"==typeof index&&0<=index&&index<slides.length}function goByHash(str){var id=str.substr(str.indexOf("#")+1);$.each(slides,function(i,$slide){if($slide.attr("id")===id)return $.deck("go",i),!1}),options.preventFragmentScroll&&$.deck("getContainer").scrollLeft(0).scrollTop(0)}function addContainerHashClass(id){$container.addClass(options.classes.onPrefix+id)}function setupHashBehaviors(){$fragmentLinks=$(),$.each(slides,function(i,$slide){((i,$slide)=>{var currentId=$slide.attr("id"),previouslyAssigned=$slide.data("deckAssignedId")===currentId;currentId&&!previouslyAssigned||($slide.attr("id",options.hashPrefix+i),$slide.data("deckAssignedId",options.hashPrefix+i))})(i,$slide),($slide="#"+$slide.attr("id"))===window.location.hash&&setTimeout(function(){$.deck("go",i)},1),$fragmentLinks=$fragmentLinks.add('a[href="'+$slide+'"]')}),slides.length&&addContainerHashClass($.deck("getSlide").attr("id"))}function changeHash(from,to){var hash="#"+$.deck("getSlide",to).attr("id"),hash=window.location.href.replace(/#.*/,"")+hash;from=$.deck("getSlide",from).attr("id"),$container.removeClass(options.classes.onPrefix+from),addContainerHashClass($.deck("getSlide",to).attr("id")),Modernizr.history&&window.history.replaceState({},"",hash)}var slides,currentIndex,$container,$fragmentLinks,events_beforeChange="deck.beforeChange",events_change="deck.change",events_beforeInitialize="deck.beforeInit",events_initialize="deck.init",options={},$document=$(document),$window=$(window),methods={init:function(opts){(event=$.Event(events_beforeInitialize)).locks=0,event.done=$.noop,event.lockInit=function(){++event.locks},event.releaseInit=function(){--event.locks,event.locks||event.done()};var event,beforeInitEvent=event,overrides=opts;$.isPlainObject(opts)||$.extend(!0,overrides=arguments[1]||{},{selectors:{slides:opts}}),options=$.extend(!0,{},$.deck.defaults,overrides),slides=[],currentIndex=0,($container=$(options.selectors.container)).addClass(options.classes.loading),initSlidesArray(options.selectors.slides),beforeInitEvent.done=function(){var startTouch,editables,tolerance,listenToHorizontal,listenToVertical;slides=[],initSlidesArray(options.selectors.slides),setupHashBehaviors(),editables=["input","textarea","select","button","meter","progress","[contentEditable]"].join(", "),$document.unbind("keydown.deck").bind("keydown.deck",function(event){var isNext=event.which===options.keys.next,isPrev=event.which===options.keys.previous,isNext=isNext||-1<$.inArray(event.which,options.keys.next),isPrev=isPrev||-1<$.inArray(event.which,options.keys.previous);isNext?(methods.next(),event.preventDefault()):isPrev&&(methods.prev(),event.preventDefault())}),$document.undelegate(editables,"keydown.deck",stopPropagation),$document.delegate(editables,"keydown.deck",stopPropagation),editables=options.touch.swipeDirection,tolerance=options.touch.swipeTolerance,listenToHorizontal={both:!0,horizontal:!0}[editables],listenToVertical={both:!0,vertical:!0}[editables],$container.unbind("touchstart.deck"),$container.bind("touchstart.deck",function(event){startTouch=startTouch||$.extend({},event.originalEvent.targetTouches[0])}),$container.unbind("touchmove.deck"),$container.bind("touchmove.deck",function(event){$.each(event.originalEvent.changedTouches,function(i,touch){var xDistance,rightToLeft,bottomToTop;return!startTouch||touch.identifier!==startTouch.identifier||(xDistance=touch.screenX-startTouch.screenX,touch=touch.screenY-startTouch.screenY,rightToLeft=xDistance<-tolerance&&listenToHorizontal,bottomToTop=touch<-tolerance&&listenToVertical,tolerance<xDistance&&listenToHorizontal||tolerance<touch&&listenToVertical?($.deck("prev"),startTouch=void 0):(rightToLeft||bottomToTop)&&($.deck("next"),startTouch=void 0),!1)}),listenToVertical&&event.preventDefault()}),$container.unbind("touchend.deck"),$container.bind("touchend.deck",function(event){$.each(event.originalEvent.changedTouches,function(i,touch){startTouch&&touch.identifier===startTouch.identifier&&(startTouch=void 0)})}),$container.scrollLeft(0).scrollTop(0),slides.length&&updateStates(),$container.removeClass(options.classes.loading),$document.trigger(events_initialize)},$document.trigger(beforeInitEvent),beforeInitEvent.locks||beforeInitEvent.done(),window.setTimeout(function(){beforeInitEvent.locks&&(window.console&&window.console.warn("Something locked deck initialization              without releasing it before the timeout. Proceeding with              initialization anyway."),beforeInitEvent.done())},options.initLockTimeout)},go:function(indexOrId){var index,beforeChangeEvent=$.Event(events_beforeChange);indexInBounds(indexOrId)?index=indexOrId:"string"==typeof indexOrId&&$.each(slides,function(i,$slide){if($slide.attr("id")===indexOrId)return index=i,!1}),void 0===index||($document.trigger(beforeChangeEvent,[currentIndex,index]),beforeChangeEvent.isDefaultPrevented())||($document.trigger(events_change,[currentIndex,index]),changeHash(currentIndex,index),currentIndex=index,updateStates())},next:function(){methods.go(currentIndex+1)},prev:function(){methods.go(currentIndex-1)},getSlide:function(index){return indexInBounds(index=void 0!==index?index:currentIndex)?slides[index]:null},getSlides:function(){return slides},getTopLevelSlides:function(){var topLevelSlides=[],slideSelector=options.selectors.slides,subSelector=[slideSelector,slideSelector].join(" ");return $.each(slides,function(i,$slide){$slide.is(subSelector)||topLevelSlides.push($slide)}),topLevelSlides},getNestedSlides:function(index){index=null==index?currentIndex:index,index=$.deck("getSlide",index).find(options.selectors.slides).get();return $.map(index,function(slide,i){return $(slide)})},getContainer:function(){return $container},getOptions:function(){return options},extend:function(name,method){methods[name]=method}};$.deck=function(method,arg){var args=Array.prototype.slice.call(arguments,1);return methods[method]?methods[method].apply(this,args):methods.init(method,arg)},$.deck.defaults={classes:{after:"deck-after",before:"deck-before",childCurrent:"deck-child-current",current:"deck-current",loading:"deck-loading",next:"deck-next",onPrefix:"on-slide-",previous:"deck-previous"},selectors:{container:".deck-container",slides:".slide"},keys:{next:[13,32,34,39,40],previous:[8,33,37,38]},touch:{swipeDirection:"horizontal",swipeTolerance:60},initLockTimeout:1e4,hashPrefix:"slide-",preventFragmentScroll:!0,setAriaHiddens:!0},$document.ready(function(){$("html").addClass("ready")}),$window.bind("hashchange.deck",function(event){event.originalEvent&&event.originalEvent.newURL?goByHash(event.originalEvent.newURL):goByHash(window.location.hash)}),$window.bind("load.deck",function(){options.preventFragmentScroll&&$container.scrollLeft(0).scrollTop(0)})})(jQuery),($=>{$(document).bind("deck.change",function(e,from,to){var $prev=$.deck("getSlide",to-1),$next=$.deck("getSlide",to+1),$oldprev=$.deck("getSlide",from-1),$oldnext=$.deck("getSlide",from+1),direction=to<from?"reverse":"forward";$.deck("getSlide",to).trigger("deck.becameCurrent",[direction,from,to]),$.deck("getSlide",from).trigger("deck.lostCurrent",[direction,from,to]),$prev&&$prev.trigger("deck.becamePrevious",[direction,from,to]),$next&&$next.trigger("deck.becameNext",[direction,from,to]),$oldprev&&$oldprev.trigger("deck.lostPrevious",[direction,from,to]),$oldnext&&$oldnext.trigger("deck.lostNext",[direction,from,to])})})(jQuery),(($,window)=>{function scaleDeck(){var opts=$.deck("getOptions"),addMarginX=2*opts.fitMarginX,addMarginY=2*opts.fitMarginY,fitMode=opts.fitMode,sdw=opts.designWidth,sdh=opts.designHeight,$container=$.deck("getContainer"),scaleX=$container.hasClass(opts.classes.globalscale)?$container.innerWidth()/(sdw+addMarginX):1,scaleY=$container.hasClass(opts.classes.globalscale)?$container.innerHeight()/(sdh+addMarginY):1,scale=($container.hasClass(opts.classes.globalscale)&&$container.innerWidth(),$container.hasClass(opts.classes.globalscale)&&$container.innerHeight(),scaleX<scaleY?scaleX:scaleY),rootSlides=[];$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el,i){return"."+el}).join(", "),$.each($.deck("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container).length||rootSlides.push($el)}),$.each(rootSlides,function(i,$slide){$slide.width(sdw),$slide.height(sdh),$.each("Webkit Moz O ms Khtml".split(" "),function(i,prefix){1==scale?$slide.css(prefix+"Transform",""):"left top"==fitMode||"top left"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%,50%) translate("+addMarginX/2+"px,"+addMarginY/2+"px)"):"center middle"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%, 50%) translate("+($container.innerWidth()/2/scale-sdw/2)+"px,"+($container.innerHeight()/2/scale-sdh/2)+"px)"):"right bottom"==fitMode||"bottom right"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%, 50%) translate("+($container.innerWidth()/scale-sdw-addMarginX/2)+"px,"+($container.innerHeight()/scale-sdh-addMarginY/2)+"px)"):"stretched"==fitMode&&$slide.css(prefix+"Transform","scale("+scaleX+" , "+scaleY+") translate("+($container.innerWidth()-sdw)/2/scaleX+"px,"+($container.innerHeight()-sdh)/2/scaleY+"px)")})})}var timer,$d=$(document),$w=$(window);$.extend(!0,$.deck.defaults,{classes:{globalscale:"deck-globalscale"},keys:{scale:83},designWidth:800,designHeight:600,fitMode:"center middle",fitMarginX:5,fitMarginY:5,scaleDebounce:200}),$.deck("extend","disableScale",function(){$.deck("getContainer").removeClass($.deck("getOptions").classes.globalscale),scaleDeck()}),$.deck("extend","enableScale",function(){$.deck("getContainer").addClass($.deck("getOptions").classes.globalscale),scaleDeck()}),$.deck("extend","toggleScale",function(){var $c=$.deck("getContainer");$.deck($c.hasClass($.deck("getOptions").classes.globalscale)?"disableScale":"enableScale")}),$d.bind("deck.init",function(){var opts=$.deck("getOptions");$w.unbind("resize.deckscale").bind("resize.deckscale",function(){window.clearTimeout(timer),timer=window.setTimeout(scaleDeck,opts.scaleDebounce)}).unbind("load.deckscale").bind("load.deckscale",scaleDeck),$d.unbind("keydown.deckscale").bind("keydown.deckscale",function(e){(e.which===opts.keys.scale||-1<$.inArray(e.which,opts.keys.scale))&&($.deck("toggleScale"),e.preventDefault())}),$.deck("enableScale")})})(jQuery,this),($=>{var rootSlides,$d=$(document);$.extend(!0,$.deck.defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),$.deck("extend","showMenu",function(){var $c=$.deck("getContainer"),opts=$.deck("getOptions");$c.hasClass(opts.classes.menu)||($c.addClass([opts.classes.loading,opts.classes.menu].join(" ")),Modernizr.csstransforms&&$.each(rootSlides,function(i,$slide){$slide.data("oldStyle",$slide.attr("style")),$slide.css({position:"absolute",left:i%4*25+2+"%",top:33*Math.floor(i/4)+"%"})}),window.setTimeout(function(){$c.removeClass(opts.classes.loading).scrollTop($.deck("getSlide").offset().top)},0))}),$.deck("extend","hideMenu",function(){var $c=$.deck("getContainer"),opts=$.deck("getOptions");$c.hasClass(opts.classes.menu)&&($c.removeClass(opts.classes.menu),$c.addClass(opts.classes.loading),Modernizr.csstransforms&&$.each(rootSlides,function(i,$slide){var oldStyle=$slide.data("oldStyle");$slide.attr("style",oldStyle||"")}),window.setTimeout(function(){$c.removeClass(opts.classes.loading).scrollTop(0)},0))}),$.deck("extend","toggleMenu",function(){$.deck("getContainer").hasClass($.deck("getOptions").classes.menu)?$.deck("hideMenu"):$.deck("showMenu")}),$d.bind("deck.init",function(){var currentSlide,opts=$.deck("getOptions"),touchEndTime=0,slideTest=$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el,i){return"."+el}).join(", ");rootSlides=[],$.each($.deck("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container,slideTest).length||rootSlides.push($el)}),$d.unbind("keydown.deckmenu").bind("keydown.deckmenu",function(e){(e.which===opts.keys.menu||-1<$.inArray(e.which,opts.keys.menu))&&($.deck("toggleMenu"),e.preventDefault())}),$.deck("getContainer").unbind("touchstart.deckmenu").bind("touchstart.deckmenu",function(e){currentSlide=$.deck("getSlide")}).unbind("touchend.deckmenu").bind("touchend.deckmenu",function(e){var now=Date.now();currentSlide===$.deck("getSlide")&&(now-touchEndTime<opts.touch.doubletapWindow&&($.deck("toggleMenu"),e.preventDefault()),touchEndTime=now)}),$.each($.deck("getSlides"),function(i,$s){$s.unbind("click.deckmenu").bind("click.deckmenu",function(e){$.deck("getContainer").hasClass(opts.classes.menu)&&($.deck("go",i),$.deck("hideMenu"),e.stopPropagation(),e.preventDefault())})})}).bind("deck.change",function(e,from,to){var container=$.deck("getContainer");container.hasClass($.deck("getOptions").classes.menu)&&container.scrollTop($.deck("getSlide",to).offset().top)})})(jQuery),(($,window)=>{function goByHash(str){var id=str.substr(str.indexOf("#")+1),str=$.deck("getSlides");$.each(str,function(i,$el){if($el.attr("id")===id)return $.deck("go",i),!1}),$.deck("getContainer").scrollLeft(0).scrollTop(0)}var $internals,$d=$(document),$window=$(window);$.extend(!0,$.deck.defaults,{selectors:{hashLink:".deck-permalink"},hashPrefix:"slide-",preventFragmentScroll:!0}),$d.bind("deck.init",function(){var opts=$.deck("getOptions");$internals=$(),slides=$.deck("getSlides"),$.each(slides,function(i,$el){$el.attr("id")&&$el.data("deckAssignedId")!==$el.attr("id")||($el.attr("id",opts.hashPrefix+i),$el.data("deckAssignedId",opts.hashPrefix+i)),($el="#"+$el.attr("id"))===window.location.hash&&setTimeout(function(){$.deck("go",i)},1),$internals=$internals.add('a[href="'+$el+'"]')}),Modernizr.hashchange||$internals.unbind("click.deckhash").bind("click.deckhash",function(e){goByHash($(this).attr("href"))}),slides.length&&$.deck("getContainer").addClass(opts.classes.onPrefix+$.deck("getSlide").attr("id"))}).bind("deck.change",function(e,from,to){var hash="#"+$.deck("getSlide",to).attr("id"),hash=window.location.href.replace(/#.*/,"")+hash,opts=$.deck("getOptions"),osp=opts.classes.onPrefix,$c=$.deck("getContainer");$c.removeClass(osp+$.deck("getSlide",from).attr("id")),$c.addClass(osp+$.deck("getSlide",to).attr("id")),$(opts.selectors.hashLink).attr("href",hash),Modernizr.history&&window.history.replaceState({},"",hash)}),$window.bind("hashchange.deckhash",function(e){e.originalEvent&&e.originalEvent.newURL?goByHash(e.originalEvent.newURL):goByHash(window.location.hash)}).bind("load",function(){$.deck("getOptions").preventFragmentScroll&&$.deck("getContainer").scrollLeft(0).scrollTop(0)})})(jQuery,this),($=>{var $d=$(document),findAndReplaceDOMText=($.extend(!0,$.deck.defaults,{classes:{notes:"deck-notes",handout:"deck-handout",notesContainer:"deck-notes-container",handoutContainer:"deck-handout-container"},keys:{notes:78,handout:72},selectors:{}}),(()=>{var PORTION_MODE_RETAIN="retain",doc=document;function exposed(){return function(regex,node,replacement,captureGroup,elFilter){if(node&&!node.nodeType&&arguments.length<=2)return!1;var isReplacementFunction="function"==typeof replacement;isReplacementFunction&&(replacement=(original=>function(portion,match){return original(portion.text,match.startIndex)})(replacement));var instance=findAndReplaceDOMText(node,{find:regex,wrap:isReplacementFunction?null:replacement,replace:isReplacementFunction?replacement:"$"+(captureGroup||"&"),prepMatch:function(m,mi){var cg;if(m[0])return 0<captureGroup&&(cg=m[captureGroup],m.index+=m[0].indexOf(cg),m[0]=cg),m.endIndex=m.index+m[0].length,m.startIndex=m.index,m.index=mi,m;throw"findAndReplaceDOMText cannot handle zero-length matches"},filterElements:elFilter});return exposed.revert=function(){return instance.revert()},!0}.apply(null,arguments)||findAndReplaceDOMText.apply(null,arguments)}function findAndReplaceDOMText(node,options){return new Finder(node,options)}function Finder(node,options){options.portionMode=options.portionMode||PORTION_MODE_RETAIN,this.node=node,this.options=options,this.prepMatch=options.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return(exposed.Finder=Finder).prototype={search:function(){var match,matchIndex=0,regex=this.options.find,text=this.getAggregateText(),matches=[];if((regex="string"==typeof regex?RegExp(String(regex).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"):regex).global)for(;match=regex.exec(text);)matches.push(this.prepMatch(match,matchIndex++));else(match=text.match(regex))&&matches.push(this.prepMatch(match,0));return matches},prepMatch:function(match,matchIndex){if(match[0])return match.endIndex=match.index+match[0].length,match.startIndex=match.index,match.index=matchIndex,match;throw new Error("findAndReplaceDOMText cannot handle zero-length matches")},getAggregateText:function(){var elementFilter=this.options.filterElements;return function getText(node){if(3===node.nodeType)return node.data;if(elementFilter&&!elementFilter(node))return"";var txt="";if(node=node.firstChild)for(;txt+=getText(node),node=node.nextSibling;);return txt}(this.node)},processMatches:function(){var startPortion,endPortion,doAvoidNode,matches=this.matches,node=this.node,elementFilter=this.options.filterElements,innerPortions=[],curNode=node,match=matches.shift(),atIndex=0,portionIndex=0;out:for(;;){if(3===curNode.nodeType&&(!endPortion&&curNode.length+atIndex>=match.endIndex?endPortion={node:curNode,index:portionIndex++,text:curNode.data.substring(match.startIndex-atIndex,match.endIndex-atIndex),indexInMatch:atIndex-match.startIndex,indexInNode:match.startIndex-atIndex,endIndexInNode:match.endIndex-atIndex,isEnd:!0}:startPortion&&innerPortions.push({node:curNode,index:portionIndex++,text:curNode.data,indexInMatch:atIndex-match.startIndex,indexInNode:0}),!startPortion&&curNode.length+atIndex>match.startIndex&&(startPortion={node:curNode,index:portionIndex++,indexInMatch:0,indexInNode:match.startIndex-atIndex,endIndexInNode:match.endIndex-atIndex,text:curNode.data.substring(match.startIndex-atIndex,match.endIndex-atIndex)}),atIndex+=curNode.data.length),doAvoidNode=1===curNode.nodeType&&elementFilter&&!elementFilter(curNode),startPortion&&endPortion){if(curNode=this.replaceMatch(match,startPortion,innerPortions,endPortion),atIndex-=endPortion.node.data.length-endPortion.endIndexInNode,endPortion=startPortion=null,innerPortions=[],portionIndex=0,!(match=matches.shift()))break}else if(!doAvoidNode&&(curNode.firstChild||curNode.nextSibling)){curNode=curNode.firstChild||curNode.nextSibling;continue}for(;;){if(curNode.nextSibling){curNode=curNode.nextSibling;break}if(curNode.parentNode===node)break out;curNode=curNode.parentNode}}},revert:function(){for(var l=this.reverts.length;l--;)this.reverts[l]();this.reverts=[]},prepareReplacementString:function(string,portion,match,matchIndex){var portionMode=this.options.portionMode;return"first"===portionMode&&0<portion.indexInMatch?"":(string=string.replace(/\$(\d+|&|`|')/g,function($0,t){var replacement;switch(t){case"&":replacement=match[0];break;case"`":replacement=match.input.substring(0,match.startIndex);break;case"'":replacement=match.input.substring(match.endIndex);break;default:replacement=match[+t]}return replacement}),"first"===portionMode?string:portion.isEnd?string.substring(portion.indexInMatch):string.substring(portion.indexInMatch,portion.indexInMatch+portion.text.length))},getPortionReplacementNode:function(portion,match,matchIndex){var clone,replacement=this.options.replace||"$&",wrapper=this.options.wrap;return wrapper&&wrapper.nodeType&&((clone=doc.createElement("div")).innerHTML=wrapper.outerHTML||(new XMLSerializer).serializeToString(wrapper),wrapper=clone.firstChild),"function"==typeof replacement?(replacement=replacement(portion,match,matchIndex))&&replacement.nodeType?replacement:doc.createTextNode(String(replacement)):(clone="string"==typeof wrapper?doc.createElement(wrapper):wrapper,replacement=doc.createTextNode(this.prepareReplacementString(replacement,portion,match,matchIndex)),clone?(clone.appendChild(replacement),clone):replacement)},replaceMatch:function(match,startPortion,innerPortions,endPortion){var node,newNode,matchStartNode=startPortion.node,matchEndNode=endPortion.node;if(matchStartNode===matchEndNode)return node=matchStartNode,0<startPortion.indexInNode&&(preceedingTextNode=doc.createTextNode(node.data.substring(0,startPortion.indexInNode)),node.parentNode.insertBefore(preceedingTextNode,node)),newNode=this.getPortionReplacementNode(endPortion,match),node.parentNode.insertBefore(newNode,node),endPortion.endIndexInNode<node.length&&(followingTextNode=doc.createTextNode(node.data.substring(endPortion.endIndexInNode)),node.parentNode.insertBefore(followingTextNode,node)),node.parentNode.removeChild(node),this.reverts.push(function(){preceedingTextNode===newNode.previousSibling&&preceedingTextNode.parentNode.removeChild(preceedingTextNode),followingTextNode===newNode.nextSibling&&followingTextNode.parentNode.removeChild(followingTextNode),newNode.parentNode.replaceChild(node,newNode)}),newNode;for(var preceedingTextNode=doc.createTextNode(matchStartNode.data.substring(0,startPortion.indexInNode)),followingTextNode=doc.createTextNode(matchEndNode.data.substring(endPortion.endIndexInNode)),firstNode=this.getPortionReplacementNode(startPortion,match),innerNodes=[],i=0,l=innerPortions.length;i<l;++i){var portion=innerPortions[i],innerNode=this.getPortionReplacementNode(portion,match);portion.node.parentNode.replaceChild(innerNode,portion.node),this.reverts.push(((portion,innerNode)=>function(){innerNode.parentNode.replaceChild(portion.node,innerNode)})(portion,innerNode)),innerNodes.push(innerNode)}var lastNode=this.getPortionReplacementNode(endPortion,match);return matchStartNode.parentNode.insertBefore(preceedingTextNode,matchStartNode),matchStartNode.parentNode.insertBefore(firstNode,matchStartNode),matchStartNode.parentNode.removeChild(matchStartNode),matchEndNode.parentNode.insertBefore(lastNode,matchEndNode),matchEndNode.parentNode.insertBefore(followingTextNode,matchEndNode),matchEndNode.parentNode.removeChild(matchEndNode),this.reverts.push(function(){preceedingTextNode.parentNode.removeChild(preceedingTextNode),firstNode.parentNode.replaceChild(matchStartNode,firstNode),followingTextNode.parentNode.removeChild(followingTextNode),lastNode.parentNode.replaceChild(matchEndNode,lastNode)}),lastNode}},exposed})());$.deck("extend","showNotes",function(){($notesEl=$("."+$.deck("getOptions").classes.notes)).show(),$(".notes-header-tex",$notesEl).hide(),$notesEl.hasClass("large-format")?$(".deck-container").css({transform:"translate(300px,-200px) scale(0.5,0.5)"}):$(".deck-container").css({transform:"translate(100px) scale(.8)"})}),$.deck("extend","showNotesExport",function(){($notesEl=$("."+$.deck("getOptions").classes.notes)).show(),$notesEl.addClass("notes-export"),$(".notes",$notesEl).show(),$(".notes-header-tex",$notesEl).show(),$(".notes-header",$notesEl).hide(),$(".deck-container").hide()}),$.deck("extend","showHandoutExport",function(){($handoutEl=$("."+$.deck("getOptions").classes.handout)).show(),$(".deck-container").hide()}),$.deck("extend","hideNotes",function(){$("."+$.deck("getOptions").classes.notes).hide(),$(".deck-container").css({transform:"translate(0)"})}),$.deck("extend","hideNotesExport",function(){($notesEl=$("."+$.deck("getOptions").classes.notes)).hide(),$notesEl.removeClass("notes-export"),$(".deck-container").show()}),$.deck("extend","hideHandoutExport",function(){($handoutEl=$("."+$.deck("getOptions").classes.handout)).hide(),$(".deck-container").show()}),$.deck("extend","toggleNotes",function(){$("."+$.deck("getOptions").classes.notes).is(":visible")?$.deck("hideNotes"):$.deck("showNotes")}),$.deck("extend","toggleNotesExport",function(){$("."+$.deck("getOptions").classes.notes).hasClass("notes-export")?$.deck("hideNotesExport"):$.deck("showNotesExport")}),$.deck("extend","toggleHandoutExport",function(){$("."+$.deck("getOptions").classes.handout).is(":visible")?$.deck("hideHandoutExport"):$.deck("showHandoutExport")}),$d.bind("deck.init",function(){var slide_id,opts=$.deck("getOptions"),show_notes=($.deck("getContainer"),-1!=window.location.search.search(/[\?&]notes([&=]|$)/)),large_notes=-1!=window.location.search.search(/[\?&]largenotes([&=]|$)/),$notesContainer=(large_notes&&($notesEl=$("."+$.deck("getOptions").classes.notes)).toggleClass("large-format"),(show_notes||large_notes)&&$.deck("toggleNotes"),$d.unbind("keydown.decknotes").bind("keydown.decknotes",function(e){(e.which===opts.keys.notes||-1<$.inArray(e.which,opts.keys.notes))&&(e.altKey&&($notesEl=$("."+$.deck("getOptions").classes.notes)).toggleClass("large-format"),e.shiftKey?$.deck("toggleNotesExport"):$.deck("toggleNotes"),e.preventDefault()),(e.which===opts.keys.handout||-1<$.inArray(e.which,opts.keys.handout))&&($.deck("toggleHandoutExport"),e.preventDefault())}),$("."+$.deck("getOptions").classes.notesContainer)),$notes=$(".deck-container .notes"),last_slide_id=-1,$handoutContainer=($notes.each(function(idx,note){var note=$(note),$slide=note.parents(".slide").first(),previous=note.siblings().splice(0,note.index()),previous=$(previous).filter(".slide").last(),$slide=(0<previous.length&&($slide=previous),slide_id=$slide.attr("id"),-1!=last_slide_id&&last_slide_id!=slide_id&&$notesContainer.append('<div class="divider for-'+last_slide_id+'">--------</div>'),-1!=last_slide_id&&last_slide_id!=slide_id&&(previous=(slide_id+"").replace(/_/g,"\\_"),$notesContainer.append('<div class="notes-header-tex for-'+slide_id+'">\\subsection{'+previous+"}</div>")),note.attr("class")+" for-"+slide_id);$notesContainer.append('<div class="'+$slide+'">'+note.html().trim()+"</div>"),$notes.eq(idx+1).hasClass("ctd")||$notesContainer.append('<div class="notes for-'+slide_id+'">&nbsp;</div>'),last_slide_id=slide_id}),findAndReplaceDOMText($notesContainer[0],{find:/&/g,replace:"\\&"}),$("."+$.deck("getOptions").classes.handoutContainer)),$handouts=$(".deck-container .handout").not(".handout .handout"),$exercises=($handouts.each(function(idx,handout){var handout=$(handout);0<handout.not("img").length&&0<handout.not(".img").length?($handoutContainer.append('<div class="handout">'+handout.html().trim()+"</div>"),$handouts.eq(idx+1).hasClass("ctd")||$handoutContainer.append("<div>&nbsp;</div>")):(idx=handout.attr("src")||handout.attr("data-src"),handout=handout.attr("data-scale")||handout.attr("scale")||"0.3",$.each(["\\begin{center}","\\includegraphics[scale="+handout+"]{"+idx+"}","\\end{center}"],function(idx,txt){$handoutContainer.append("<div>"+txt+"</div>")}))}),$(".deck-container .exercises"));0<($exercises=document.title.match(/^Fast/)?$(".deck-container .exercises_fast"):$exercises).length&&($handoutContainer.append("<div>\\vfill</div>"),$handoutContainer.append("<div>\\begin{minipage}{\\columnwidth}</div>"),$handoutContainer.append("<div>\\section{Exercises}</div>"),$handoutContainer.append("<div>These exercises will be discussed in seminars the week after this lecture.</div>"),$handoutContainer.append("<div>The numbers below refer to the numbered exercises in the course textbook, e.g.\\ `1.1' refers to exercise 1.1. on page 39 of the second edition of \\emph{Language, Proof and Logic}.  Exercises marked `*' are optional.</div>"),$handoutContainer.append("<div>&nbsp;</div>"),$handoutContainer.append("<div>\\begin{quote}</div>"),$exercises.each(function(idx,ex){ex=$(ex);$handoutContainer.append('<div class="handout exercise">'+ex.html()+"</div>"),$exercises.eq(idx+1).hasClass("ctd")||$handoutContainer.append("<div>&nbsp;</div>")}),$handoutContainer.append("<div>\\end{quote}</div>"),$handoutContainer.append("<div>\\end{minipage}</div>")),findAndReplaceDOMText($handoutContainer[0],{find:/&/g,replace:"\\&"}),findAndReplaceDOMText($handoutContainer[0],{find:/⫤⊨/g,replace:"$\\leftmodels\\models$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⫤/g,replace:"$\\leftmodels$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊨TT/g,replace:"$\\vDash _{TT}$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊨/g,replace:"$\\vDash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊭TT/g,replace:"$\\nvDash _{TT}$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊥/g,replace:"$\\bot$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊢/g,replace:"$\\vdash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊬/g,replace:"$\\nvdash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/⊭/g,replace:"$\\nvDash$"})}),$d.bind("deck.change",function(e,from,to){var to=$.deck("getSlide",to),$notesContainer=$("."+$.deck("getOptions").classes.notesContainer),to=($(".notes",$notesContainer).hide(),$(".divider, .notes-header, .notes-header-tex",$notesContainer).hide(),$(to).attr("id"));$(".for-"+to,$notesContainer).not(".notes-header-tex").show()})})(jQuery),($=>{$(".slide-clone").each(function(i,el){var $el=$(el);$el.parents(".slide").first().one("deck.becameCurrent",function(_,direction,from,to){var selector=$el.attr("data-which"),$to_clone=$(selector),theClone=$to_clone.clone();0===$to_clone.length&&(theClone=$("<p>[*not found, selector="+selector+"*]</p>")),console.log("cloning: found = "+$to_clone.length),$(theClone).find(".slide.deck-before").removeClass("slide").removeClass("deck-before"),$(theClone).find(".notes.show").removeClass("notes"),$(theClone).find(".handout.show").removeClass("handout"),$(theClone).find(".notes").remove(),$(theClone).find(".handout").remove(),$el.html(theClone.html())})})})(jQuery),($=>{function myInArray(el,arr){for(i in arr)if(arr[i].is(el))return+i;return-1}var $d=$(document);$.extend(!0,$.deck.defaults,{keys:{next:null,previous:null}}),$.extend(!0,$.deck.defaults,{selectors:{subslidesToNotify:".slide,.onshowtoplevel"},keys:{previous:[8,37,34],next:[13,32,39,33],previousTopLevel:[38],nextTopLevel:[40]},countNested:!1}),$.deck("extend","getToplevelSlideOf",function(node){var opts=$.deck("getOptions"),slides=$.deck("getSlides"),last={node:$(node),index:myInArray(node,slides)};return $(node).parentsUntil(opts.selectors.container).each(function(ii,v){var ind=myInArray(v,slides);-1!=ind&&(last={node:$(v),index:ind})}),last}),$.deck("extend","getToplevelSlideOfIndex",function(ind){return $.deck("getToplevelSlideOf",$.deck("getSlide",ind))}),$.deck("extend","previousTopLevelSlide",function(){var current=$.deck("getSlide"),currentParent=$.deck("getToplevelSlideOf",current),toGo=currentParent.index;current.is(currentParent.node)&&0<toGo&&(toGo=$.deck("getToplevelSlideOfIndex",toGo-1).index),$.deck("go",toGo)}),$.deck("extend","nextTopLevelSlide",function(){for(var current=$.deck("getSlide"),currentParent=$.deck("getToplevelSlideOf",current),icur=currentParent.index;icur<$.deck("getSlides").length;icur++)if(!$.deck("getToplevelSlideOfIndex",icur).node.is(currentParent.node)){$.deck("go",icur);break}}),$d.bind("deck.init",function(){$d.unbind("keydown.decknexttoplevel").bind("keydown.decknexttoplevel",function(e){var key=$.deck("getOptions").keys.nextTopLevel;(e.which===key||-1<$.inArray(e.which,key))&&(e.preventDefault(),$.deck("nextTopLevelSlide"))}),$d.unbind("keydown.deckprevioustoplevel").bind("keydown.deckprevioustoplevel",function(e){var key=$.deck("getOptions").keys.previousTopLevel;(e.which===key||-1<$.inArray(e.which,key))&&(e.preventDefault(),$.deck("previousTopLevelSlide"))})}),$d.bind("deck.change",function(e,from,to){(1<Math.abs(from-to)||!$.deck("getToplevelSlideOfIndex",to).node.is($.deck("getToplevelSlideOfIndex",from).node))&&((from,to)=>{var direction="forward",from=(to<from&&(direction="reverse"),$.deck("getOptions"));for($($.deck("getToplevelSlideOfIndex",to).node.find(from.selectors.subslidesToNotify).get().reverse()).trigger("deck.toplevelBecameCurrent",direction),icur=$.deck("getToplevelSlideOfIndex",to).index+1;icur<to+1;icur++)$.deck("getSlides")[icur].trigger("deck.afterToplevelBecameCurrent","forward")})(from,to)})})(jQuery),(($,undefined)=>{function create_default_undo($el,c,action_id){return function(){try{actions_undo[action_id]()}catch(e){}}}var slides,$d=$(document),elements_to_actions={"dv-velocity":{create_doit:function($el,c,action_id){var options,$targets=c.$targets,css=c.css;return"object"!=typeof css?function(){}:(options=c.options,function(){(($elements,css,options,action_id)=>{var fn_sequence=[],save_clip=css&&("clipTop"in css||"clipRight"in css||"clipBottom"in css||"clipLeft"in css);$elements.each(function(idx,el){var clip_rect,$el=$(el),old_css={},old_options=(save_clip&&(clip_rect=$el.css("clip"),fn_sequence.push(function(){$el.css("clip",clip_rect)})),$.each(css,function(key,val){var old_val;-1===$.inArray(key,css_do_not_undo)&&(void 0===(old_val=$el.css(key))&&(old_val=$.Velocity.hook($el,key)),old_css[key]=old_val)}),$.extend({},options));old_options.duration=0,options&&"visibility"in options&&(old_options.visibility=$el.css("visibility")),options&&"display"in options&&(old_options.display=$el.css("display")),fn_sequence.push(function(){$.isEmptyObject(old_css)||(JSON.stringify(old_css),JSON.stringify(old_options),$el.velocity(old_css,old_options))})}),actions_undo[action_id]=function(){$.each(fn_sequence,function(idx,fn){fn()})}})($targets,css,options,action_id),$targets.velocity(css,options)})},create_undoit:create_default_undo},"dv-style":{create_doit:function($el,c,action_id){var $targets=c.$targets,css=c.css;return"object"!=typeof css?function(){}:function(){(($elements,css,action_id)=>{var fn_sequence=[];$elements.each(function(idx,el){var $el=$(el),old_css={};$.each(css,function(key,val){var old_val=$el.css(key);old_css[key]=old_val}),fn_sequence.push(function(){JSON.stringify(old_css),$el.attr("class"),$el.velocity("stop"),setTimeout(function(){$el.css(old_css)},100)})}),actions_undo[action_id]=function(){$.each(fn_sequence,function(idx,fn){fn()})}})($targets,css,action_id),$targets.css(css)}},create_undoit:create_default_undo},"dv-addclass":{create_doit:function($el,c,action_id){var $targets=c.$targets,cls=c.cls;return function(){var undo_sequence=[];$targets.each(function(idx,target){var $target=$(target),old_cls=$target.attr("class")||"";undo_sequence.push(function(){$target.attr("class",old_cls)}),$target.addClass(cls)}),actions_undo[action_id]=function(){$.each(undo_sequence,function(_,fn){fn()})}}},create_undoit:create_default_undo},"dv-removeclass":{create_doit:function($el,c,action_id){var to_rm_re,$targets=c.$targets,cls=c.cls;return-1!==cls.indexOf("*")&&(to_rm_re=new RegExp("\\b"+cls.replace(/\*/g,"\\S+").replace(/\s+/g,"|\\b"),"g")),function(){var undo_sequence=[];$targets.length,$targets.each(function(idx,target){var $target=$(target),old_cls=$target.attr("class")||"";undo_sequence.push(function(){$target.attr("class",old_cls)})}),actions_undo[action_id]=function(){$.each(undo_sequence,function(_,fn){fn()})},to_rm_re?$targets.removeClass(function(idx,theClasses){return(theClasses.match(to_rm_re)||[]).join(" ")}):$targets.removeClass(cls)}},create_undoit:create_default_undo},"dv-attr":{create_doit:function($el,c,action_id){var $targets=c.$targets,key=c.attr,value=c.value;return function(){var undo_sequence=[];$targets.each(function(idx,target){var $target=$(target),old_value=$target.attr(key);undo_sequence.push(function(){$target.attr(key,old_value)}),$target.attr(key,value)}),actions_undo[action_id]=function(){$.each(undo_sequence,function(_,fn){fn()})}}},create_undoit:create_default_undo},"dv-connect":{create_doit:function($el,c,action_id){return actions_undo[action_id]=function(){},function(){$.deck("disableScale");var $top_slide=$el.parents(".slide").last(),previous_strokeStyle=jsPlumb.Defaults.PaintStyle.strokeStyle;jsPlumb.Defaults.PaintStyle.strokeStyle=c.color,jsPlumb.connect({source:c.from,target:c.to,anchors:[c.fromAnchor,c.toAnchor],container:$top_slide}),jsPlumb.Defaults.PaintStyle.strokeStyle=previous_strokeStyle,$.deck("enableScale")}},create_undoit:function($el,c,action_id){return function(){jsPlumb.detachAllConnections(c.from)}}}},actions_undo={},css_do_not_undo=["clipTop","clipRight","clipBottom","clipLeft"];function str_to_obj(str){try{return JSON.parse(str)}catch(e){return undefined}}function getAction($el,action_id){var the_action,clss=($el.attr("class")||"").split(" ");return $.each(clss,function(idx,cls){var c;cls in elements_to_actions&&(cls=elements_to_actions[cls],c=($el=>{var $top_slide=$el.parents(".slide").last();return{$targets:$($el.attr("data-what"),$top_slide),css:str_to_obj($el.attr("data-css")),options:str_to_obj($el.attr("data-options")),cls:$el.attr("data-cls")||"",attr:$el.attr("data-attr")||"",value:$el.attr("data-value")||"",from:$($el.attr("data-from")),fromAnchor:$el.attr("data-from-anchor")||"RightMiddle",to:$($el.attr("data-to")),toAnchor:$el.attr("data-to-anchor")||"RightMiddle",color:$el.attr("data-color")||"rgba(255,255,0,1)",lineWidth:$el.attr("data-width")||"3"}})($el),the_action={doit:cls.create_doit($el,c,action_id),undoit:cls.create_undoit($el,c,action_id)})}),the_action}function doInit(){(slides=$.deck("getSlides")).length,$.deck("getSlideIndex"),$.each(slides,function(i,$slide){$slide=($slide=>{var $sub_slides=$(".slide",$slide),$sub_slides=$(".dv",$sub_slides),$sub_slides=$(".dv",$slide).not($sub_slides),actions=[];return $sub_slides.each(function(i,el){el=$(el),i=$slide.attr("id")+"_act-"+i,el=getAction(el,i);el&&actions.push(el)}),actions})($slide);$.each($slide,function(_ignore,action){$.deck("addSlideAction",i,action)})}),$(document).trigger("deckVelocityInit")}$d.bind("deckslideActionsInit",function(event){setTimeout(doInit,10),$d.unbind(event)})})(jQuery),($=>{function slideActionsInit(){function getSlideIndex($slide){void 0===$slide&&($slide=$.deck("getSlide"));for(var idx=0;idx<slides.length&&!slides[idx].is($slide);idx++);return idx}$.deck("extend","getSlideIndex",getSlideIndex),$.deck("extend","forceRefresh",function(){var idx=getSlideIndex();$d.trigger("deck.change",[idx,0]),$d.trigger("deck.change",[0,idx])});var slideActions=[];$.deck("extend","addSlideAction",function(slideIdx,fn){slideActions[slideIdx]=slideActions[slideIdx]||[],slideActions[slideIdx].push(fn)}),$.deck("extend","getSlideActions",function(){return slideActions}),$d.bind("deck.change",function(event,from,to){if(to-from==1&&(0<to&&$.each(prevSlideActions=slideActions[to-1]||[],function(i,action){void 0!==action.doAfter&&action.doAfter()}),$.each(actions=slideActions[to]||[],function(i,action){void 0!==action.doit&&action.doit()})),1<to-from)for(var idx=from+1;idx<=to;idx++){var prevSlideActions=slideActions[idx-1]||[],actions=($.each(prevSlideActions,function(i,action){void 0!==action.doAfter&&action.doAfter()}),slideActions[idx]||[]);$.each(actions,function(i,action){void 0!==action.doit&&action.doit()})}if(to-from<0)for(idx=to+1;idx<=from;idx++)for(var idx2=(actions=slideActions[idx]||[]).length-1;0<=idx2;idx2-=1){var action=actions[idx2];void 0!==action.undoit&&action.undoit()}}),$d.trigger("deckslideActionsInit")}var $d=$(document);$d.bind("deck.init",function(event){setTimeout(slideActionsInit,10),$d.unbind(event)})})(jQuery),$(function(){$.deck(".slide",{fitMode:"center middle",designWidth:800,designHeight:600,fitMarginX:0,fitMarginY:0});function addCustomActions(){window.deckSlideActions=window.deckSlideActions||[],$.each(deckSlideActions,function(i,action){var scriptEl=action.scriptEl,scriptEl=($slide=$(scriptEl).parents(".slide").first(),$.deck("getSlideIndex",$slide));$.deck("addSlideAction",scriptEl,action)}),$.deck("forceRefresh")}$(document).bind("deckVelocityInit",function(event){setTimeout(addCustomActions,10),$(document).unbind(event)})}),"undefined"!=typeof jsPlumb&&(jsPlumb.Defaults.PaintStyle={lineWidth:2,strokeStyle:"rgba(255,255,0,1)",outlineColor:"black",outlineWidth:1},jsPlumb.Defaults.Endpoints=[["Dot",{radius:3}],["Dot",{radius:3}]],$(document).ready(function(){jsPlumb.ready(function(){jsPlumb.importDefaults({PaintStyle:{lineWidth:2,strokeStyle:"rgba(255,255,0,1)",outlineColor:"black",outlineWidth:1}})})})),scaleDeck=function(baseHeight){var opts=$.deck("getOptions"),slideTest=($.deck("getContainer"),$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el,i){return"."+el}).join(", ")),rootSlides=[];$.each($.deck("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container,slideTest).length||rootSlides.push($el)}),$.each(rootSlides,function(i,$slide){var slideHeight=$slide.innerHeight(),$scaler=$slide;scale=baseHeight/slideHeight,$.each("Webkit Moz O ms Khtml".split(" "),function(i,prefix){1===scale?$scaler.css(prefix+"Transform",""):$scaler.css(prefix+"Transform","scale("+scale+")")})})};