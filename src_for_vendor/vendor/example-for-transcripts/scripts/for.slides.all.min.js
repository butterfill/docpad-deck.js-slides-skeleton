function RainyDay(options,canvas){if(this===window)return new RainyDay(options,canvas);this.img=options.image;var option,defaults={opacity:1,blur:10,crop:[0,0,this.img.naturalWidth,this.img.naturalHeight],enableSizeChange:!0,parentElement:document.getElementsByTagName("body")[0],fps:30,fillStyle:"#8ED6FF",enableCollisions:!0,gravityThreshold:3,gravityAngle:Math.PI/2,gravityAngleVariance:0,reflectionScaledownFactor:5,reflectionDropMappingWidth:200,reflectionDropMappingHeight:200,width:this.img.clientWidth,height:this.img.clientHeight,position:"absolute",top:0,left:0};for(option in defaults)void 0===options[option]&&(options[option]=defaults[option]);this.options=options,this.drops=[],this.canvas=canvas||this.prepareCanvas(),this.prepareBackground(),this.prepareGlass(),this.reflection=this.REFLECTION_MINIATURE,this.trail=this.TRAIL_DROPS,this.gravity=this.GRAVITY_NON_LINEAR,this.collision=this.COLLISION_SIMPLE,this.setRequestAnimFrame()}function Drop(rainyday,centerX,centerY,min,base){this.x=Math.floor(centerX),this.y=Math.floor(centerY),this.r=Math.random()*base+min,this.rainyday=rainyday,this.context=rainyday.context,this.reflection=rainyday.reflected}function BlurStack(){this.r=0,this.g=0,this.b=0,this.next=null}function CollisionMatrix(x,y,r){this.resolution=r,this.xc=x,this.yc=y,this.matrix=new Array(x);for(var i=0;i<=x+5;i++){this.matrix[i]=new Array(y);for(var j=0;j<=y+5;++j)this.matrix[i][j]=new DropItem(null)}}function DropItem(drop){this.drop=drop,this.next=null}((window,undefined)=>{function fcamelCase(all,letter){return(letter+"").toUpperCase()}function DOMContentLoaded(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),jQuery.ready()):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",DOMContentLoaded),jQuery.ready())}var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,class2type={},optionsCache=(jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,doc;if(selector)if(selector.nodeType)this.context=this[0]=selector,this.length=1;else{if("string"!=typeof selector)return jQuery.isFunction(selector)?rootjQuery.ready(selector):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this));if(!(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&3<=selector.length?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return(!context||context.jquery?context||rootjQuery:this.constructor(context)).find(selector);if(match[1])return doc=(context=context instanceof jQuery?context[0]:context)&&context.nodeType?context.ownerDocument||context:document,selector=jQuery.parseHTML(match[1],doc,!0),rsingleTag.test(match[1])&&jQuery.isPlainObject(context)&&this.attr.call(selector,context,!0),jQuery.merge(this,selector);if((doc=document.getElementById(match[2]))&&doc.parentNode){if(doc.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=doc}this.context=document,this.selector=selector}return this},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},get:function(num){return null==num?this.toArray():num<0?this[this.length+num]:this[num]},pushStack:function(elems,name,selector){elems=jQuery.merge(this.constructor(),elems);return elems.prevObject=this,elems.context=this.context,"find"===name?elems.selector=this.selector+(this.selector?" ":"")+selector:name&&(elems.selector=this.selector+"."+name+"("+selector+")"),elems},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.ready.promise().done(fn),this},eq:function(i){return-1===(i=+i)?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var options,name,copy,copyIsArray,src,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||jQuery.isFunction(target)||(target={}),length===i&&(target=this,--i);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],target!==(copy=options[name])&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(src=copyIsArray?(copyIsArray=!1,src&&jQuery.isArray(src)?src:[]):src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,src,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({noConflict:function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(!0===wait?!--jQuery.readyWait:!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready,1);(jQuery.isReady=!0)!==wait&&0<--jQuery.readyWait||(readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready"))}},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return null!=obj&&obj==obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return null==obj?String(obj):class2type[core_toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var key in obj);return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj)return!1;return!0},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,scripts){var parsed;return data&&"string"==typeof data?("boolean"==typeof context&&(scripts=context,context=0),context=context||document,(parsed=rsingleTag.exec(data))?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts?null:[]),jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes))):null},parseJSON:function(data){return data&&"string"==typeof data?(data=jQuery.trim(data),window.JSON&&window.JSON.parse?window.JSON.parse(data):rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))?new Function("return "+data)():void jQuery.error("Invalid JSON: "+data)):null},parseXML:function(data){var xml;if(!data||"string"!=typeof data)return null;try{window.DOMParser?xml=(new DOMParser).parseFromString(data,"text/xml"):((xml=new ActiveXObject("Microsoft.XMLDOM")).async="false",xml.loadXML(data))}catch(e){xml=undefined}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml},noop:function(){},globalEval:function(data){data&&core_rnotwhite.test(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);if(args)if(isObj){for(name in obj)if(!1===callback.apply(obj[name],args))break}else for(;i<length&&!1!==callback.apply(obj[i++],args););else if(isObj){for(name in obj)if(!1===callback.call(obj[name],name,obj[name]))break}else for(;i<length&&!1!==callback.call(obj[i],i,obj[i++]););return obj},trim:core_trim&&!core_trim.call("\ufeffÂ ")?function(text){return null==text?"":core_trim.call(text)}:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var type,results=results||[];return null!=arr&&(type=jQuery.type(arr),null==arr.length||"string"===type||"function"===type||"regexp"===type||jQuery.isWindow(arr)?core_push.call(results,arr):jQuery.merge(results,arr)),results},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf)return core_indexOf.call(arr,elem,i);for(len=arr.length,i=i?i<0?Math.max(0,len+i):i:0;i<len;i++)if(i in arr&&arr[i]===elem)return i}return-1},merge:function(first,second){var l=second.length,i=first.length,j=0;if("number"==typeof l)for(;j<l;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var ret=[],i=0,length=elems.length;for(inv=!!inv;i<length;i++)inv!==!!callback(elems[i],i)&&ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length;if(elems instanceof jQuery||length!==undefined&&"number"==typeof length&&(0<length&&elems[0]&&elems[length-1]||0===length||jQuery.isArray(elems)))for(;i<length;i++)null!=(value=callback(elems[i],i,arg))&&(ret[ret.length]=value);else for(key in elems)null!=(value=callback(elems[key],key,arg))&&(ret[ret.length]=value);return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,tmp;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=core_slice.call(arguments,2),(tmp=function(){return fn.apply(context,args.concat(core_slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,tmp):undefined},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=null==key,i=0,length=elems.length;if(key&&"object"==typeof key){for(i in key)jQuery.access(elems,fn,i,key[i],1,emptyGet,value);chainable=1}else if(value!==undefined){if(exec=pass===undefined&&jQuery.isFunction(value),fn=bulk?exec?(exec=fn,function(elem,key,value){return exec.call(jQuery(elem),value)}):(fn.call(elems,value),null):fn)for(;i<length;i++)fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);chainable=1}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date).getTime()}}),jQuery.ready.promise=function(obj){if(!readyList)if(readyList=jQuery.Deferred(),"complete"===document.readyState)setTimeout(jQuery.ready,1);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",jQuery.ready,!1);else{document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",jQuery.ready);var top=!1;try{top=null==window.frameElement&&document.documentElement}catch(e){}top&&top.doScroll&&!function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}jQuery.ready()}}()}return readyList.promise(obj)},jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),rootjQuery=jQuery(document),{}),rbrace=(jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||(options=>{var object=optionsCache[options]={};return jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=!0}),object})(options):jQuery.extend({},options);function fire(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingIndex<firingLength;firingIndex++)if(!1===list[firingIndex].apply(data[0],data[1])&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())}var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],self={add:function(){var start;return list&&(start=list.length,function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"!==type||options.unique&&self.has(arg)?arg&&arg.length&&"string"!==type&&add(arg):list.push(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))),this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;-1<(index=jQuery.inArray(arg,list,index));)list.splice(index,1),firing&&(index<=firingLength&&firingLength--,index<=firingIndex)&&firingIndex--}),this},has:function(fn){return-1<jQuery.inArray(fn,list)},empty:function(){return list=[],this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){return stack=undefined,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return args=[context,(args=args||[]).slice?args.slice():args],!list||fired&&!stack||(firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=fns[i];deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[action+"With"](this===deferred?newDefer:this,[returned])}:newDefer[action])}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=list.fire,deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){function updateFunc(i,contexts,values){return function(value){contexts[i]=this,values[i]=1<arguments.length?core_slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}}var progressValues,progressContexts,resolveContexts,i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred();if(1<length)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.support=(()=>{var support,a,all,input,eventName,i,isSupported,opt,div=document.createElement("div");if(div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",all=div.getElementsByTagName("*"),(a=div.getElementsByTagName("a")[0]).style.cssText="top:1px;float:left;opacity:.5",!all||!all.length)return{};opt=(all=document.createElement("select")).appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],support={leadingWhitespace:3===div.firstChild.nodeType,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:"/a"===a.getAttribute("href"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:"on"===input.value,optSelected:opt.selected,getSetAttribute:"t"!==div.className,enctype:!!document.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===document.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,all.disabled=!0,support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=!1}if(!div.addEventListener&&div.attachEvent&&div.fireEvent&&(div.attachEvent("onclick",opt=function(){support.noCloneEvent=!1}),div.cloneNode(!0).fireEvent("onclick"),div.detachEvent("onclick",opt)),(input=document.createElement("input")).value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value,input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),(opt=document.createDocumentFragment()).appendChild(div.lastChild),support.checkClone=opt.cloneNode(!0).cloneNode(!0).lastChild.checked,support.appendChecked=input.checked,opt.removeChild(input),opt.appendChild(div),div.attachEvent)for(i in{submit:!0,change:!0,focusin:!0})(isSupported=(eventName="on"+i)in div)||(div.setAttribute(eventName,"return;"),isSupported="function"==typeof div[eventName]),support[i+"Bubbles"]=isSupported;return jQuery(function(){var container,div,tds,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];body&&((container=document.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",body.insertBefore(container,body.firstChild),div=document.createElement("div"),container.appendChild(div),div.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(tds=div.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",isSupported=0===tds[0].offsetHeight,tds[0].style.display="",tds[1].style.display="none",support.reliableHiddenOffsets=isSupported&&0===tds[0].offsetHeight,div.innerHTML="",div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",support.boxSizing=4===div.offsetWidth,support.doesNotIncludeMarginInBodyOffset=1!==body.offsetTop,window.getComputedStyle&&(support.pixelPosition="1%"!==(window.getComputedStyle(div,null)||{}).top,support.boxSizingReliable="4px"===(window.getComputedStyle(div,null)||{width:"4px"}).width,(tds=document.createElement("div")).style.cssText=div.style.cssText=divReset,tds.style.marginRight=tds.style.width="0",div.style.width="1px",div.appendChild(tds),support.reliableMarginRight=!parseFloat((window.getComputedStyle(tds,null)||{}).marginRight)),void 0!==div.style.zoom&&(div.innerHTML="",div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1",support.inlineBlockNeedsLayout=3===div.offsetWidth,div.style.display="block",div.style.overflow="visible",div.innerHTML="<div></div>",div.firstChild.style.width="5px",support.shrinkWrapBlocks=3!==div.offsetWidth,container.style.zoom=1),body.removeChild(container))}),opt.removeChild(div),a=all=input=opt=div=null,support})(),/(?:\{[\s\S]*\}|\[[\s\S]*\])$/),rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){if(data===undefined&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if("string"==typeof(data=elem.getAttribute(name))){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){for(var name in obj)if(("data"!==name||!jQuery.isEmptyObject(obj[name]))&&"toJSON"!==name)return;return 1}function hoverHack(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")}jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(elem){return!!(elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando])&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(jQuery.acceptData(elem)){var ret,internalKey=jQuery.expando,getByName="string"==typeof name,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if(id&&cache[id]&&(pvt||cache[id].data)||!getByName||data!==undefined)return id||(isNode?elem[internalKey]=id=jQuery.deletedIds.pop()||jQuery.guid++:id=internalKey),cache[id]||(cache[id]={},isNode)||(cache[id].toJSON=jQuery.noop),"object"!=typeof name&&"function"!=typeof name||(pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name)),elem=cache[id],pvt||(elem.data||(elem.data={}),elem=elem.data),data!==undefined&&(elem[jQuery.camelCase(name)]=data),getByName?null==(ret=elem[name])&&(ret=elem[jQuery.camelCase(name)]):ret=elem,ret}},removeData:function(elem,name,pvt){if(jQuery.acceptData(elem)){var thisCache,i,l,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(cache[id]){if(name&&(thisCache=pvt?cache[id]:cache[id].data)){for((i=0,l=(name=jQuery.isArray(name)?name:name in thisCache||(name=jQuery.camelCase(name))in thisCache?[name]:name.split(" ")).length);i<l;i++)delete thisCache[name[i]];if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache))return}(pvt||(delete cache[id].data,isEmptyDataObject(cache[id])))&&(isNode?jQuery.cleanData([elem],!0):jQuery.support.deleteExpando||cache!=cache.window?delete cache[id]:cache[id]=null)}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,!0)},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||!0!==noData&&elem.getAttribute("classid")===noData}}),jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key!==undefined)return"object"==typeof key?this.each(function(){jQuery.data(this,key)}):((parts=key.split(".",2))[1]=parts[1]?"."+parts[1]:"",part=parts[1]+"!",jQuery.access(this,function(value){if(value===undefined)return(data=this.triggerHandler("getData"+part,[parts[0]]))===undefined&&elem&&(data=jQuery.data(elem,key),data=dataAttr(elem,key,data)),data===undefined&&parts[1]?this.data(parts[0]):data;parts[1]=value,this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts),jQuery.data(this,key,value),self.triggerHandler("changeData"+part,parts)})},null,value,1<arguments.length,null,!1));if(this.length&&(data=jQuery.data(elem),1===elem.nodeType)&&!jQuery._data(elem,"parsedAttrs")){for(l=(attr=elem.attributes).length;i<l;i++)(name=attr[i].name).indexOf("data-")||(name=jQuery.camelCase(name.substring(5)),dataAttr(elem,name,data[name]));jQuery._data(elem,"parsedAttrs",!0)}return data},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return queue=jQuery._data(elem,type=(type||"fx")+"queue"),data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",!0),jQuery.removeData(elem,key,!0)})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,this.queue(type=type||"fx",function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){function resolve(){--count||defer.resolveWith(elements,[elements])}var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length;for("string"!=typeof type&&(obj=type,type=undefined),type=type||"fx";i--;)(tmp=jQuery._data(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,rformElems=(jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,1<arguments.length)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=undefined,delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(value&&"string"==typeof value)for(classNames=value.split(core_rspace),i=0,l=this.length;i<l;i++)if(1===(elem=this[i]).nodeType)if(elem.className||1!==classNames.length){for(setClass=" "+elem.className+" ",c=0,cl=classNames.length;c<cl;c++)setClass.indexOf(" "+classNames[c]+" ")<0&&(setClass+=classNames[c]+" ");elem.className=jQuery.trim(setClass)}else elem.className=value;return this},removeClass:function(value){var removes,className,elem,c,cl,i,l;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(value&&"string"==typeof value||value===undefined)for(removes=(value||"").split(core_rspace),i=0,l=this.length;i<l;i++)if(1===(elem=this[i]).nodeType&&elem.className){for(className=(" "+elem.className+" ").replace(rclass," "),c=0,cl=removes.length;c<cl;c++)for(;0<=className.indexOf(" "+removes[c]+" ");)className=className.replace(" "+removes[c]+" "," ");elem.className=value?jQuery.trim(className):""}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool="boolean"==typeof stateVal;return jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if("string"==type)for(var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);className=classNames[i++];)state=isBool?state:!self.hasClass(className),self[state?"addClass":"removeClass"](className);else"undefined"!=type&&"boolean"!=type||(this.className&&jQuery._data(this,"__className__",this.className),this.className=!this.className&&!1!==value&&jQuery._data(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;i<l;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(rclass," ").indexOf(className))return!0;return!1},val:function(value){var hooks,ret,isFunction,elem=this[0];return arguments.length?(isFunction=jQuery.isFunction(value),this.each(function(i){var self=jQuery(this);1!==this.nodeType||(null==(i=isFunction?value.call(this,i,self.val()):value)?i="":"number"==typeof i?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&hooks.set(this,i,"value")!==undefined)||(this.value=i)})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one="select-one"===elem.type;if(index<0)return null;for(i=one?index:0,max=one?index+1:options.length;i<max;i++)if((option=options[i]).selected&&(jQuery.support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(option=jQuery(option).val(),one)return option;values.push(option)}return one&&!values.length&&options.length?jQuery(options[index]).val():values},set:function(elem,value){var values=jQuery.makeArray(value);return jQuery(elem).find("option").each(function(){this.selected=0<=jQuery.inArray(jQuery(this).val(),values)}),values.length||(elem.selectedIndex=-1),values}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return pass&&jQuery.isFunction(jQuery.fn[name])?jQuery(elem)[name](value):void 0===elem.getAttribute?jQuery.prop(elem,name,value):((pass=1!==nType||!jQuery.isXMLDoc(elem))&&(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)),value===undefined?!(hooks&&"get"in hooks&&pass&&null!==(ret=hooks.get(elem,name)))&&null===(ret=elem.getAttribute(name))?undefined:ret:null!==value?hooks&&"set"in hooks&&pass&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;if(value&&1===elem.nodeType)for(attrNames=value.split(core_rspace);i<attrNames.length;i++)(name=attrNames[i])&&(propName=jQuery.propFix[name]||name,(isBool=rboolean.test(name))||jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName),isBool)&&propName in elem&&(elem[propName]=!1)},attrHooks:{type:{set:function(elem,value){var val;if(rtype.test(elem.nodeName)&&elem.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input"))return val=elem.value,elem.setAttribute("type",value),val&&(elem.value=val),value}},value:{get:function(elem,name){return nodeHook&&jQuery.nodeName(elem,"button")?nodeHook.get(elem,name):name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button"))return nodeHook.set(elem,value,name);elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return(1!==nType||!jQuery.isXMLDoc(elem))&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}}),boolHook={get:function(elem,name){var property=jQuery.prop(elem,name);return!0===property||"boolean"!=typeof property&&(property=elem.getAttributeNode(name))&&!1!==property.nodeValue?name.toLowerCase():undefined},set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):((value=jQuery.propFix[name]||name)in elem&&(elem[value]=!0),elem.setAttribute(name,name.toLowerCase())),name}},getSetAttribute||(fixSpecified={name:!0,id:!0,coords:!0},nodeHook=jQuery.valHooks.button={get:function(elem,name){elem=elem.getAttributeNode(name);return elem&&(fixSpecified[name]?""!==elem.value:elem.specified)?elem.value:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);return ret||(ret=document.createAttribute(name),elem.setAttributeNode(ret)),ret.value=value+""}},jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(""===value)return elem.setAttribute(name,"auto"),value}})}),jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){nodeHook.set(elem,value=""===value?"false":value,name)}}),jQuery.support.hrefNormalized||jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){elem=elem.getAttribute(name,2);return null===elem?undefined:elem}})}),jQuery.support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return elem.style.cssText=value+""}}),jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){elem=elem.parentNode;return elem&&(elem.selectedIndex,elem.parentNode)&&elem.parentNode.selectedIndex,null}})),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return null===elem.getAttribute("value")?"on":elem.value}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value))return elem.checked=0<=jQuery.inArray(jQuery(elem).val(),value)}})}),/^(?:textarea|input|select)$/i),rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;function returnFalse(){return!1}function returnTrue(){return!0}jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,type,namespaces,tns,handleObjIn,handlers,special;if(3!==elem.nodeType&&8!==elem.nodeType&&types&&handler&&(elemData=jQuery._data(elem)))for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(elemData.events=events={}),(eventHandle=elemData.handle)||(elemData.handle=eventHandle=function(e){return void 0===jQuery||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=jQuery.trim(hoverHack(types)).split(" "),t=0;t<types.length;t++)type=(tns=rtypenamespace.exec(types[t])||[])[1],namespaces=(tns[2]||"").split(".").sort(),special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},tns=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle))||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle)),special.add&&(special.add.call(elem,tns),tns.handler.guid||(tns.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,tns):handlers.push(tns),jQuery.event.global[type]=!0},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,type,origType,namespaces,tns,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(elemData&&(events=elemData.events)){for(types=jQuery.trim(hoverHack(types||"")).split(" "),t=0;t<types.length;t++)if(type=origType=(tns=rtypenamespace.exec(types[t])||[])[1],namespaces=tns[2],type){for(special=jQuery.event.special[type]||{},tns=(eventType=events[type=(selector?special.delegateType:special.bindType)||type]||[]).length,namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j=0;j<eventType.length;j++)handleObj=eventType[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||namespaces&&!namespaces.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(eventType.splice(j--,1),handleObj.selector&&eventType.delegateCount--,special.remove&&special.remove.call(elem,handleObj));0===eventType.length&&tns!==eventType.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,jQuery.removeData(elem,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(event,data,elem,onlyHandlers){if(!elem||3!==elem.nodeType&&8!==elem.nodeType){var cache,i,cur,old,ontype,exclusive,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(!rfocusMorph.test(type+jQuery.event.triggered)&&(0<=type.indexOf("!")&&(type=type.slice(0,-1),exclusive=!0),0<=type.indexOf(".")&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),elem&&!jQuery.event.customEvent[type]||jQuery.event.global[type]))if((event="object"==typeof event?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type)).type=type,event.isTrigger=!0,event.exclusive=exclusive,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,ontype=type.indexOf(":")<0?"on"+type:"",elem){if(event.result=undefined,event.target||(event.target=elem),(data=null!=data?jQuery.makeArray(data):[]).unshift(event),!(exclusive=jQuery.event.special[type]||{}).trigger||!1!==exclusive.trigger.apply(elem,data)){if(eventPath=[[elem,exclusive.bindType||type]],!onlyHandlers&&!exclusive.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=exclusive.delegateType||type,cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode,old=elem;cur;cur=cur.parentNode)eventPath.push([cur,bubbleType]),old=cur;old===(elem.ownerDocument||document)&&eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++)cur=eventPath[i][0],event.type=eventPath[i][1],(handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&jQuery.acceptData(cur)&&handle.apply&&!1===handle.apply(cur,data)&&event.preventDefault();return event.type=type,onlyHandlers||event.isDefaultPrevented()||exclusive._default&&!1!==exclusive._default.apply(elem.ownerDocument,data)||"click"===type&&jQuery.nodeName(elem,"a")||!jQuery.acceptData(elem)||ontype&&elem[type]&&("focus"!==type&&"blur"!==type||0!==event.target.offsetWidth)&&!jQuery.isWindow(elem)&&((old=elem[ontype])&&(elem[ontype]=null),elem[jQuery.event.triggered=type](),jQuery.event.triggered=undefined,old)&&(elem[ontype]=old),event.result}}else for(i in cache=jQuery.cache)cache[i].events&&cache[i].events[type]&&jQuery.event.trigger(event,data,cache[i].handle.elem,!0)}},dispatch:function(event){event=jQuery.event.fix(event||window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,handlers=(jQuery._data(this,"events")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=core_slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];if((args[0]=event).delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){if(delegateCount&&(!event.button||"click"!==event.type))for(cur=event.target;cur!=this;cur=cur.parentNode||this)if(!0!==cur.disabled||"click"!==event.type){for(selMatch={},matches=[],i=0;i<delegateCount;i++)selMatch[sel=(handleObj=handlers[i]).selector]===undefined&&(selMatch[sel]=handleObj.needsContext?0<=jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length),selMatch[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,matches:matches})}for(handlers.length>delegateCount&&handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)}),i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++)for(event.currentTarget=(matched=handlerQueue[i]).elem,j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++)handleObj=matched.matches[j],(run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace))&&(event.data=handleObj.data,event.handleObj=handleObj,(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))!==undefined)&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation());return special.postDispatch&&special.postDispatch.call(this,event),event.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var doc,eventDoc,button=original.button,fromElement=original.fromElement;return null==event.pageX&&null!=original.clientX&&(doc=(eventDoc=event.target.ownerDocument||document).documentElement,eventDoc=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||eventDoc&&eventDoc.scrollLeft||0)-(doc&&doc.clientLeft||eventDoc&&eventDoc.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||eventDoc&&eventDoc.scrollTop||0)-(doc&&doc.clientTop||eventDoc&&eventDoc.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;for(event=jQuery.Event(originalEvent),i=copy.length;i;)event[prop=copy[--i]]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),3===event.target.nodeType&&(event.target=event.target.parentNode),event.metaKey=!!event.metaKey,fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){jQuery.isWindow(this)&&(this.onbeforeunload=eventHandle)},teardown:function(namespaces,eventHandle){this.onbeforeunload===eventHandle&&(this.onbeforeunload=null)}}},simulate:function(type,elem,event,bubble){type=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(type,null,elem):jQuery.event.dispatch.call(elem,type),type.isDefaultPrevented()&&event.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){type="on"+type;elem.detachEvent&&(void 0===elem[type]&&(elem[type]=null),elem.detachEvent(type,handle))},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||!1===src.returnValue||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,related=event.relatedTarget,handleObj=event.handleObj;handleObj.selector;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=jQuery.nodeName(e,"input")||jQuery.nodeName(e,"button")?e.form:undefined;e&&!jQuery._data(e,"_submit_attached")&&(jQuery.event.add(e,"submit._submit",function(event){event._submit_bubble=!0}),jQuery._data(e,"_submit_attached",!0))})},postDispatch:function(event){event._submit_bubble&&(delete event._submit_bubble,this.parentNode)&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event,!0)},teardown:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(event){this._just_changed&&!event.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,event,!0)})),!1;jQuery.event.add(this,"beforeactivate._change",function(e){e=e.target;rformElems.test(e.nodeName)&&!jQuery._data(e,"_change_attached")&&(jQuery.event.add(e,"change._change",function(event){!this.parentNode||event.isSimulated||event.isTrigger||jQuery.event.simulate("change",this.parentNode,event,!0)}),jQuery._data(e,"_change_attached",!0))})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type)return event.handleObj.handler.apply(this,arguments)},teardown:function(){return jQuery.event.remove(this,"._change"),!rformElems.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){function handler(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)}var attaches=0;jQuery.event.special[fix]={setup:function(){0==attaches++&&document.addEventListener(orig,handler,!0)},teardown:function(){0==--attaches&&document.removeEventListener(orig,handler,!0)}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=undefined),types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),!1===fn)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);else{if("object"!=typeof types)return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=undefined),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)});for(type in types)this.off(type,selector,types[type])}return this},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){return jQuery(this.context).on(types,this.selector,data,fn),this},die:function(types,fn){return jQuery(this.context).off(types,this.selector||"**",fn),this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0])return jQuery.event.trigger(type,data,this[0],!0)},toggle:function(fn){function toggler(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;return jQuery._data(this,"lastToggle"+fn.guid,1+lastToggle),event.preventDefault(),args[lastToggle].apply(this,arguments)||!1}var args=arguments,guid=fn.guid||jQuery.guid++,i=0;for(toggler.guid=guid;i<args.length;)args[i++].guid=guid;return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return null==fn&&(fn=data,data=null),0<arguments.length?this.on(name,null,data,fn):this.trigger(name)},rkeyEvent.test(name)&&(jQuery.event.fixHooks[name]=jQuery.event.keyHooks),rmouseEvent.test(name)&&(jQuery.event.fixHooks[name]=jQuery.event.mouseHooks)}),(window=>{function createCache(){var cache={},keys=[];return markFunction(function(key,value){return keys.push(key)>Expr.cacheLength&&delete cache[keys.shift()],cache[key]=value},cache)}function assert(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return!1}}var cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,outermostContext,baseHasDuplicate,disconnectedMatch,oldSelect,rescape,rattributeQuotes,rbuggyQSA,rbuggyMatches,matches,expando=("sizcache"+Math.random()).replace(".",""),Token=String,document=window.document,docElem=document.documentElement,dirruns=0,done=0,pop=[].pop,push=[].push,slice=[].slice,indexOf=[].indexOf||function(elem){for(var i=0,len=this.length;i<len;i++)if(this[i]===elem)return i;return-1},markFunction=function(fn,value){return fn[expando]=null==value||value,fn},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",identifier=(window="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+").replace("w","w#"),pseudos=":("+window+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+(identifier="\\["+whitespace+"*("+window+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]")+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rsibling=/[\x20\t\r\n\f]*[+~]/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+window+")"),CLASS:new RegExp("^\\.("+window+")"),NAME:new RegExp("^\\[name=['\"]?("+window+")['\"]?\\]"),TAG:new RegExp("^("+window.replace("w","w*")+")"),ATTR:new RegExp("^"+identifier),PSEUDO:new RegExp("^"+pseudos),POS:new RegExp(pos,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},window=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),identifier=assert(function(div){return div.innerHTML="<a href='#'></a>",div.firstChild&&void 0!==div.firstChild.getAttribute&&"#"===div.firstChild.getAttribute("href")}),assertAttributes=assert(function(div){div.innerHTML="<select></select>";div=typeof div.lastChild.getAttribute("multiple");return"boolean"!=div&&"string"!=div}),assertUsableClassName=assert(function(div){return div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!div.getElementsByClassName||!div.getElementsByClassName("e").length)&&(div.lastChild.className="e",2===div.getElementsByClassName("e").length)}),pos=assert(function(div){div.id=expando+0,div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>",docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;return assertGetIdNotName=!document.getElementById(expando),docElem.removeChild(div),pass});try{slice.call(docElem.childNodes,0)[0].nodeType}catch(e){slice=function(i){for(var elem,results=[];elem=this[i];i++)results.push(elem);return results}}function Sizzle(selector,context,results,seed){results=results||[];var match,elem,xml,m,nodeType=(context=context||document).nodeType;if(!selector||"string"!=typeof selector)return results;if(1!==nodeType&&9!==nodeType)return[];if(!(xml=isXML(context))&&!seed&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m))||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,slice.call(context.getElementsByTagName(selector),0)),results;if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName)return push.apply(results,slice.call(context.getElementsByClassName(m),0)),results}return select(selector.replace(rtrim,"$1"),context,results,seed,xml)}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function siblingCheck(a,b,ret){if(a===b)return ret;for(var cur=a.nextSibling;cur;){if(cur===b)return-1;cur=cur.nextSibling}return 1}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[expando][selector];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(tokens.push(matched=new Token(match.shift())),soFar=soFar.slice(matched.length),matched.type=match[0].replace(rtrim," ")),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match,document,!0))||(tokens.push(matched=new Token(match.shift())),soFar=soFar.slice(matched.length),matched.type=type,matched.matches=match);if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===combinator.dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(checkNonElements||1===elem.nodeType)return matcher(elem,context,xml)}:function(elem,context,xml){if(xml){for(;elem=elem[dir];)if((checkNonElements||1===elem.nodeType)&&matcher(elem,context,xml))return elem}else for(var cache,dirkey=dirruns+" "+doneName+" ",cachedkey=dirkey+cachedruns;elem=elem[dir];)if(checkNonElements||1===elem.nodeType){if((cache=elem[expando])===cachedkey)return elem.sizset;if("string"==typeof cache&&0===cache.indexOf(dirkey)){if(elem.sizset)return elem}else{if(elem[expando]=cachedkey,matcher(elem,context,xml))return elem.sizset=!0,elem;elem.sizset=!1}}}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)!(elem=unmatched[i])||filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){if(!seed||!postFinder){var i,elem,postFilterIn,preMap=[],postMap=[],preexisting=results.length,elems=seed||((selector,contexts,results,seed)=>{for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results,seed);return results})(selector||"*",context.nodeType?[context]:context,[],seed),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(postFilterIn=condense(matcherOut,postMap),postFilter(postFilterIn,[],context,xml),i=postFilterIn.length;i--;)(elem=postFilterIn[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed)for(i=preFilter&&matcherOut.length;i--;)(elem=matcherOut[i])&&(seed[preMap[i]]=!(results[preMap[i]]=elem));else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)}})}function matcherFromGroupMatchers(elementMatchers,setMatchers){function superMatcher(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=null!=expandContext,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=null==contextBackup?1:Math.E;for(outermost&&(outermostContext=context!==document&&context,cachedruns=superMatcher.el);null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j];j++)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique,cachedruns=++superMatcher.el)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed)&&unmatched.push(elem)}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j];j++)matcher(unmatched,setMatched,context,xml);if(seed){if(0<matchedCount)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched}var bySet=0<setMatchers.length,byElement=0<elementMatchers.length;return superMatcher.el=0,bySet?markFunction(superMatcher):superMatcher}function select(selector,context,results,seed,xml){var i,tokens,token,type,find,match=tokenize(selector);match.length;if(!seed&&1===match.length){if(2<(tokens=match[0]=match[0].slice(0)).length&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&!xml&&Expr.relative[tokens[1].type]){if(!(context=Expr.find.ID(token.matches[0].replace(rbackslash,""),context,xml)[0]))return results;selector=selector.slice(tokens.shift().length)}for(i=matchExpr.POS.test(selector)?-1:tokens.length-1;0<=i&&(token=tokens[i],!Expr.relative[type=token.type]);i--)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(rbackslash,""),rsibling.test(tokens[0].type)&&context.parentNode||context,xml))){if(tokens.splice(i,1),selector=seed.length&&tokens.join(""))break;return push.apply(results,slice.call(seed,0)),results}}return compile(selector,match)(seed,context,xml,results,rsibling.test(selector)),results}function setFilters(){}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){return 0<Sizzle(expr,null,null,[elem]).length},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i];i++)ret+=getText(node);return ret},isXML=Sizzle.isXML=function(elem){elem=elem&&(elem.ownerDocument||elem).documentElement;return!!elem&&"HTML"!==elem.nodeName},contains=Sizzle.contains=docElem.contains?function(a,b){var adown=9===a.nodeType?a.documentElement:a,b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&adown.contains&&adown.contains(b))}:docElem.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},Sizzle.attr=function(elem,name){var val,xml=isXML(elem);return xml||(name=name.toLowerCase()),(val=Expr.attrHandle[name])?val(elem):xml||assertAttributes?elem.getAttribute(name):(val=elem.getAttributeNode(name))?"boolean"==typeof elem[name]?elem[name]?name:null:val.specified?val.value:null:null},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:identifier?{}:{href:function(elem){return elem.getAttribute("href",2)},type:function(elem){return elem.getAttribute("type")}},find:{ID:assertGetIdNotName?function(id,context,xml){if(void 0!==context.getElementById&&!xml)return(xml=context.getElementById(id))&&xml.parentNode?[xml]:[]}:function(id,context,xml){if(void 0!==context.getElementById&&!xml)return(xml=context.getElementById(id))?xml.id===id||void 0!==xml.getAttributeNode&&xml.getAttributeNode("id").value===id?[xml]:void 0:[]},TAG:window?function(tag,context){if(void 0!==context.getElementsByTagName)return context.getElementsByTagName(tag)}:function(tag,context){var results=context.getElementsByTagName(tag);if("*"!==tag)return results;for(var elem,tmp=[],i=0;elem=results[i];i++)1===elem.nodeType&&tmp.push(elem);return tmp},NAME:pos&&function(tag,context){if(void 0!==context.getElementsByName)return context.getElementsByName(name)},CLASS:assertUsableClassName&&function(className,context,xml){if(void 0!==context.getElementsByClassName&&!xml)return context.getElementsByClassName(className)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(rbackslash,""),match[3]=(match[4]||match[5]||"").replace(rbackslash,""),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1]?(match[2]||Sizzle.error(match[0]),match[3]=+(match[3]?match[4]+(match[5]||1):2*("even"===match[2]||"odd"===match[2])),match[4]=+(match[6]+match[7]||"odd"===match[2])):match[2]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var unquoted,excess;return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[3]:(unquoted=match[4])&&(rpseudo.test(unquoted)&&(excess=(excess=tokenize(unquoted,!0))&&unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(unquoted=unquoted.slice(0,excess),match[0]=match[0].slice(0,excess)),match[2]=unquoted),match.slice(0,3))}},filter:{ID:assertGetIdNotName?function(id){return id=id.replace(rbackslash,""),function(elem){return elem.getAttribute("id")===id}}:function(id){return id=id.replace(rbackslash,""),function(elem){elem=void 0!==elem.getAttributeNode&&elem.getAttributeNode("id");return elem&&elem.value===id}},TAG:function(nodeName){return"*"===nodeName?function(){return!0}:(nodeName=nodeName.replace(rbackslash,"").toLowerCase(),function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName})},CLASS:function(className){var pattern=(pattern=classCache[expando][className])||classCache(className,new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"));return function(elem){return pattern.test(elem.className||void 0!==elem.getAttribute&&elem.getAttribute("class")||"")}},ATTR:function(name,operator,check){return function(elem,context){elem=Sizzle.attr(elem,name);return null==elem?"!="===operator:!operator||(elem+="","="===operator?elem===check:"!="===operator?elem!==check:"^="===operator?check&&0===elem.indexOf(check):"*="===operator?check&&-1<elem.indexOf(check):"$="===operator?check&&elem.substr(elem.length-check.length)===check:"~="===operator?-1<(" "+elem+" ").indexOf(check):"|="===operator&&(elem===check||elem.substr(0,check.length+1)===check+"-"))}},CHILD:function(type,argument,first,last){return"nth"===type?function(elem){var node,diff,parent=elem.parentNode;if(1===first&&0===last)return!0;if(parent)for(diff=0,node=parent.firstChild;node&&(1!==node.nodeType||(diff++,elem!==node));node=node.nextSibling);return(diff-=last)===first||diff%first==0&&0<=diff/first}:function(elem){var node=elem;switch(type){case"only":case"first":for(;node=node.previousSibling;)if(1===node.nodeType)return!1;if("first"===type)return!0;node=elem;case"last":for(;node=node.nextSibling;)if(1===node.nodeType)return!1;return!0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):1<fn.length?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf.call(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(function(text){return function(elem){return-1<(elem.textContent||elem.innerText||getText(elem)).indexOf(text)}}),enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},parent:function(elem){return!Expr.pseudos.empty(elem)},empty:function(elem){var nodeType;for(elem=elem.firstChild;elem;){if("@"<elem.nodeName||3===(nodeType=elem.nodeType)||4===nodeType)return!1;elem=elem.nextSibling}return!0},header:function(elem){return rheader.test(elem.nodeName)},text:function(elem){var type;return"input"===elem.nodeName.toLowerCase()&&"text"===(type=elem.type)&&(null==(elem=elem.getAttribute("type"))||elem.toLowerCase()===type)},radio:createInputPseudo("radio"),checkbox:createInputPseudo("checkbox"),file:createInputPseudo("file"),password:createInputPseudo("password"),image:createInputPseudo("image"),submit:createButtonPseudo("submit"),reset:createButtonPseudo("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},input:function(elem){return rinputs.test(elem.nodeName)},focus:function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!(!elem.type&&!elem.href)},active:function(elem){return elem===elem.ownerDocument.activeElement},first:createPositionalPseudo(function(matchIndexes,length,argument){return[0]}),last:createPositionalPseudo(function(matchIndexes,length,argument){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;0<=--i;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},sortOrder=docElem.compareDocumentPosition?function(a,b){return a===b?(hasDuplicate=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return hasDuplicate=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup)return siblingCheck(a,b);if(!aup)return-1;if(!bup)return 1;for(;cur;)ap.unshift(cur),cur=cur.parentNode;for(cur=bup;cur;)bp.unshift(cur),cur=cur.parentNode;for(var al=ap.length,bl=bp.length,i=0;i<al&&i<bl;i++)if(ap[i]!==bp[i])return siblingCheck(ap[i],bp[i]);return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)},[0,0].sort(sortOrder),baseHasDuplicate=!hasDuplicate,Sizzle.uniqueSort=function(results){var elem,i=1;if(hasDuplicate=baseHasDuplicate,results.sort(sortOrder),hasDuplicate)for(;elem=results[i];i++)elem===results[i-1]&&results.splice(i--,1);return results},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[expando][selector];if(!cached){for(i=(group=group||tokenize(selector)).length;i--;)((cached=function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf.call(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext:matchAnyContext)(elem,context,xml)}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(1<i&&elementMatcher(matchers),1<i&&tokens.slice(0,i-1).join("").replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&tokens.join(""))}matchers.push(matcher)}return elementMatcher(matchers)}(group[i]))[expando]?setMatchers:elementMatchers).push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached},document.querySelectorAll&&(oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[":focus"],rbuggyMatches=[":active",":focus"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector,assert(function(div){div.innerHTML="<select><option selected=''></option></select>",div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){div.innerHTML="<p test=''></p>",div.querySelectorAll("[test^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')"),div.innerHTML="<input type='hidden'/>",div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled")}),rbuggyQSA=new RegExp(rbuggyQSA.join("|")),select=function(selector,context,results,seed,xml){if(!(seed||xml||rbuggyQSA&&rbuggyQSA.test(selector))){var groups,i,old=!0,nid=expando,newContext=context,newSelector=9===context.nodeType&&selector;if(1===context.nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+groups[i].join("");newContext=rsibling.test(selector)&&context.parentNode||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}return oldSelect(selector,context,results,seed,xml)},matches)&&(assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!='']:sizzle"),rbuggyMatches.push("!=",pseudos)}catch(e){}}),rbuggyMatches=new RegExp(rbuggyMatches.join("|")),Sizzle.matchesSelector=function(elem,expr){if(expr=expr.replace(rattributeQuotes,"='$1']"),!(isXML(elem)||rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return 0<Sizzle(expr,null,null,[elem]).length}),Expr.pseudos.nth=Expr.pseudos.eq,Expr.filters=setFilters.prototype=Expr.pseudos,Expr.setFilters=new setFilters,Sizzle.attr=jQuery.attr,jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function isDisconnected(node){return!node||!node.parentNode||11===node.parentNode.nodeType}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function winnow(elements,qualifier,keep){if(qualifier=qualifier||0,jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)===keep});if(qualifier.nodeType)return jQuery.grep(elements,function(elem,i){return elem===qualifier===keep});if("string"==typeof qualifier){var filtered=jQuery.grep(elements,function(elem){return 1===elem.nodeType});if(isSimple.test(qualifier))return jQuery.filter(qualifier,filtered,!keep);qualifier=jQuery.filter(qualifier,filtered)}return jQuery.grep(elements,function(elem,i){return 0<=jQuery.inArray(elem,qualifier)===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;if("string"!=typeof selector)return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++)if(jQuery.contains(self[i],this))return!0});for(ret=this.pushStack("","find",selector),i=0,l=this.length;i<l;i++)if(length=ret.length,jQuery.find(selector,this[i],ret),0<i)for(n=length;n<ret.length;n++)for(r=0;r<length;r++)if(ret[r]===ret[n]){ret.splice(n--,1);break}return ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector,!1),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,!0),"filter",selector)},is:function(selector){return!!selector&&("string"==typeof selector?rneedsContext.test(selector)?0<=jQuery(selector,this.context).index(this[0]):0<jQuery.filter(selector,this).length:0<this.filter(selector).length)},closest:function(selectors,context){for(var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur.ownerDocument&&cur!==context&&11!==cur.nodeType;){if(pos?-1<pos.index(cur):jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode}return ret=1<ret.length?jQuery.unique(ret):ret,this.pushStack(ret,"closest",selectors)},index:function(elem){return elem?"string"==typeof elem?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(selector,context){context="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),selector=jQuery.merge(this.get(),context);return this.pushStack(isDisconnected(context[0])||isDisconnected(selector[0])?selector:jQuery.unique(selector))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.fn.andSelf=jQuery.fn.addBack,jQuery.each({parent:function(elem){elem=elem.parentNode;return elem&&11!==elem.nodeType?elem:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);return(selector=runtil.test(name)?selector:until)&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret)),ret=1<this.length&&!guaranteedUnique[name]?jQuery.unique(ret):ret,1<this.length&&rparentsprev.test(name)&&(ret=ret.reverse()),this.pushStack(ret,name,core_slice.call(arguments).join(","))}}),jQuery.extend({filter:function(expr,elems,not){return not&&(expr=":not("+expr+")"),1===elems.length?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){for(var matched=[],cur=elem[dir];cur&&9!==cur.nodeType&&(until===undefined||1!==cur.nodeType||!jQuery(cur).is(until));)1===cur.nodeType&&matched.push(cur),cur=cur[dir];return matched},sibling:function(n,elem){for(var r=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&r.push(n);return r}});var browser,nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,src=jQuery._data(src),curData=jQuery._data(dest,src),events=src.events;if(events)for(type in delete curData.handle,curData.events={},events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);curData.data&&(curData.data=jQuery.extend({},curData.data))}}function cloneFixAttributes(src,dest){var nodeName;1===dest.nodeType&&(dest.clearAttributes&&dest.clearAttributes(),dest.mergeAttributes&&dest.mergeAttributes(src),"object"===(nodeName=dest.nodeName.toLowerCase())?(dest.parentNode&&(dest.outerHTML=src.outerHTML),jQuery.support.html5Clone&&src.innerHTML&&!jQuery.trim(dest.innerHTML)&&(dest.innerHTML=src.innerHTML)):"input"===nodeName&&rcheckableType.test(src.type)?(dest.defaultChecked=dest.checked=src.checked,dest.value!==src.value&&(dest.value=src.value)):"option"===nodeName?dest.selected=src.defaultSelected:"input"===nodeName||"textarea"===nodeName?dest.defaultValue=src.defaultValue:"script"===nodeName&&dest.text!==src.text&&(dest.text=src.text),dest.removeAttribute(jQuery.expando))}function getAll(elem){return void 0!==elem.getElementsByTagName?elem.getElementsByTagName("*"):void 0!==elem.querySelectorAll?elem.querySelectorAll("*"):[]}function fixDefaultChecked(elem){rcheckableType.test(elem.type)&&(elem.defaultChecked=elem.checked)}wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.support.htmlSerialize||(wrapMap._default=[1,"X<div>","</div>"]),jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(elem){1!==this.nodeType&&11!==this.nodeType||this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,!0,function(elem){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(elem,this.firstChild)})},before:function(){var set;return isDisconnected(this[0])?arguments.length?(set=jQuery.clean(arguments),this.pushStack(jQuery.merge(set,this),"before",this.selector)):void 0:this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this)})},after:function(){var set;return isDisconnected(this[0])?arguments.length?(set=jQuery.clean(arguments),this.pushStack(jQuery.merge(this,set),"after",this.selector)):void 0:this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,i=0;null!=(elem=this[i]);i++)selector&&!jQuery.filter(selector,[elem]).length||(keepData||1!==elem.nodeType||(jQuery.cleanData(elem.getElementsByTagName("*")),jQuery.cleanData([elem])),elem.parentNode&&elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)for(1===elem.nodeType&&jQuery.cleanData(elem.getElementsByTagName("*"));elem.firstChild;)elem.removeChild(elem.firstChild);return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined)return 1===elem.nodeType?elem.innerHTML.replace(rinlinejQuery,""):undefined;if("string"==typeof value&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(elem.getElementsByTagName("*")),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(value){return isDisconnected(this[0])?this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this:jQuery.isFunction(value)?this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))}):("string"!=typeof value&&(value=jQuery(value).detach()),this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove(),next?jQuery(next).before(value):jQuery(parent).append(value)}))},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,table,callback){var results,first,fragment,iNoClone,elem,tag,i=0,value=(args=[].concat.apply([],args))[0],scripts=[],l=this.length;if(!jQuery.support.checkClone&&1<l&&"string"==typeof value&&rchecked.test(value))return this.each(function(){jQuery(this).domManip(args,table,callback)});if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined),self.domManip(args,table,callback)});if(this[0]){if(first=(fragment=(results=jQuery.buildFragment(args,this,scripts)).fragment).firstChild,1===fragment.childNodes.length&&(fragment=first),first)for(table=table&&jQuery.nodeName(first,"tr"),iNoClone=results.cacheable||l-1;i<l;i++)callback.call(table&&jQuery.nodeName(this[i],"table")?(elem=this[i],tag="tbody",elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))):this[i],i===iNoClone?fragment:jQuery.clone(fragment,!0,!0));fragment=null,scripts.length&&jQuery.each(scripts,function(i,elem){elem.src?jQuery.ajax?jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):jQuery.error("no ajax"):jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"")),elem.parentNode&&elem.parentNode.removeChild(elem)})}return this}}),jQuery.buildFragment=function(args,context,scripts){var fragment,cacheable,cachehit,first=args[0];return context=(context=!(context=context||document).nodeType&&context[0]||context).ownerDocument||context,!(1===args.length&&"string"==typeof first&&first.length<512&&context===document&&"<"===first.charAt(0))||rnocache.test(first)||!jQuery.support.checkClone&&rchecked.test(first)||!jQuery.support.html5Clone&&rnoshimcache.test(first)||(cacheable=!0,cachehit=(fragment=jQuery.fragments[first])!==undefined),fragment||(fragment=context.createDocumentFragment(),jQuery.clean(args,context,fragment,scripts),cacheable&&(jQuery.fragments[first]=cachehit&&fragment)),{fragment:fragment,cacheable:cacheable}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,selector=1===this.length&&this[0].parentNode;if((null==selector||selector&&11===selector.nodeType&&1===selector.childNodes.length)&&1===l)return insert[original](this[0]),this;for(;i<l;i++)elems=(0<i?this.clone(!0):this).get(),jQuery(insert[i])[original](elems),ret=ret.concat(elems);return this.pushStack(ret,name,insert.selector)}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?clone=elem.cloneNode(!0):(fragmentDiv.innerHTML=elem.outerHTML,fragmentDiv.removeChild(clone=fragmentDiv.firstChild)),!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(cloneFixAttributes(elem,clone),srcElements=getAll(elem),destElements=getAll(clone),i=0;srcElements[i];++i)destElements[i]&&cloneFixAttributes(srcElements[i],destElements[i]);if(dataAndEvents&&(cloneCopyEvent(elem,clone),deepDataAndEvents))for(srcElements=getAll(elem),destElements=getAll(clone),i=0;srcElements[i];++i)cloneCopyEvent(srcElements[i],destElements[i]);return srcElements=destElements=null,clone},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,handleScript,jsTags,safe=context===document&&safeFragment,ret=[];for(context&&void 0!==context.createDocumentFragment||(context=document),i=0;null!=(elem=elems[i]);i++)if("number"==typeof elem&&(elem+=""),elem){if("string"==typeof elem)if(rhtml.test(elem)){for(safe=safe||createSafeFragment(context),div=context.createElement("div"),safe.appendChild(div),elem=elem.replace(rxhtmlTag,"<$1></$2>"),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),depth=(wrap=wrapMap[tag]||wrapMap._default)[0],div.innerHTML=wrap[1]+elem+wrap[2];depth--;)div=div.lastChild;if(!jQuery.support.tbody)for(hasBody=rtbody.test(elem),j=(tbody="table"!==tag||hasBody?"<table>"!==wrap[1]||hasBody?[]:div.childNodes:div.firstChild&&div.firstChild.childNodes).length-1;0<=j;--j)jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length&&tbody[j].parentNode.removeChild(tbody[j]);!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)&&div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild),elem=div.childNodes,div.parentNode.removeChild(div)}else elem=context.createTextNode(elem);elem.nodeType?ret.push(elem):jQuery.merge(ret,elem)}if(div&&(elem=div=safe=null),!jQuery.support.appendChecked)for(i=0;null!=(elem=ret[i]);i++)jQuery.nodeName(elem,"input")?fixDefaultChecked(elem):void 0!==elem.getElementsByTagName&&jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked);if(fragment)for(handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type))return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem)},i=0;null!=(elem=ret[i]);i++)jQuery.nodeName(elem,"script")&&handleScript(elem)||(fragment.appendChild(elem),void 0!==elem.getElementsByTagName&&(jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript),ret.splice.apply(ret,[i+1,0].concat(jsTags)),i+=jsTags.length));return ret},cleanData:function(elems,acceptData){for(var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;null!=(elem=elems[i]);i++)if((acceptData||jQuery.acceptData(elem))&&(data=(id=elem[internalKey])&&cache[id])){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);cache[id]&&(delete cache[id],deleteExpando?delete elem[internalKey]:elem.removeAttribute?elem.removeAttribute(internalKey):elem[internalKey]=null,jQuery.deletedIds.push(id))}}}),jQuery.uaMatch=function(ua){ua=ua.toLowerCase();ua=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:ua[1]||"",version:ua[2]||"0"}},browser={},(navigator=jQuery.uaMatch(navigator.userAgent)).browser&&(browser[navigator.browser]=!0,browser.version=navigator.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser,jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(!0,jQuerySub,this),jQuerySub.superclass=this,((jQuerySub.fn=jQuerySub.prototype=this()).constructor=jQuerySub).sub=this.sub,jQuerySub.fn.init=function(selector,context){return context&&context instanceof jQuery&&!(context instanceof jQuerySub)&&(context=jQuerySub(context)),jQuery.fn.init.call(this,selector,context,rootjQuerySub)},jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub};var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])=("+core_pnum+")","i"),elemdisplay={},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;function vendorPropName(style,name){if(name in style)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in style)return name;return origName}function isHidden(elem,el){return"none"===jQuery.css(elem=el||elem,"display")||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){for(var elem,display,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(values[index]=jQuery._data(elem,"olddisplay"),show?(values[index]||"none"!==elem.style.display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName)))):(display=curCSS(elem,"display"),values[index]||"none"===display||jQuery._data(elem,"olddisplay",display)));for(index=0;index<length;index++)!(elem=elements[index]).style||show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none");return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0)),isBorderBox?("content"===extra&&(val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0),"margin"!==extra&&(val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0)):(val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0,"padding"!==extra&&(val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0));return val}function getWidthOrHeight(elem,name,extra){var val="width"===name?elem.offsetWidth:elem.offsetHeight,valueIsBorderBox=!0,isBorderBox=jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing");if(val<=0||null==val){if(((val=curCSS(elem,name))<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox)+"px"}function css_defaultDisplay(nodeName){var elem,display;return elemdisplay[nodeName]||(display=(elem=jQuery("<"+nodeName+">").appendTo(document.body)).css("display"),elem.remove(),"none"!==display&&""!==display||(iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0})),iframeDoc&&iframe.createElement||((iframeDoc=(iframe.contentWindow||iframe.contentDocument).document).write("<!doctype html><html><body>"),iframeDoc.close()),elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName)),display=curCSS(elem,"display"),document.body.removeChild(iframe)),elemdisplay[nodeName]=display)}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state,fn2){var bool="boolean"==typeof state;return jQuery.isFunction(state)&&jQuery.isFunction(fn2)?eventsToggle.apply(this,arguments):this.each(function(){(bool?state:isHidden(this))?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed)return""===(computed=curCSS(elem,"opacity"))?"1":computed}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];if("string"===(type=typeof value)&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),!(null==value||"number"===type&&isNaN(value)||("number"!==type||jQuery.cssNumber[origName]||(value+="px"),hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined)))try{style[name]=value}catch(e){}}},css:function(elem,name,numeric,extra){var val,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),"normal"===(val=(val=(origName=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in origName?origName.get(elem,!0,extra):val)===undefined?curCSS(elem,name):val)&&name in cssNormalTransform&&(val=cssNormalTransform[name]),(numeric||extra!==undefined)&&(origName=parseFloat(val),numeric||jQuery.isNumeric(origName))?origName||0:val},swap:function(elem,options,callback){var name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in callback=callback.call(elem),options)elem.style[name]=old[name];return callback}}),window.getComputedStyle?curCSS=function(elem,name){var ret,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;return computed&&(""!==(ret=computed[name])||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret))&&rmargin.test(name)&&(elem=style.width,name=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=elem,style.minWidth=name,style.maxWidth=maxWidth),ret}:document.documentElement.currentStyle&&(curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;return null==ret&&style&&style[name]&&(ret=style[name]),rnumnonpx.test(ret)&&!rposition.test(name)&&(left=style.left,(rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left)&&(elem.runtimeStyle.left=elem.currentStyle.left),style.left="fontSize"===name?"1em":ret,ret=style.pixelLeft+"px",style.left=left,rsLeft)&&(elem.runtimeStyle.left=rsLeft),""===ret?"auto":ret}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return 0===elem.offsetWidth&&rdisplayswap.test(curCSS(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){return setPositiveNumber(0,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing")):0)}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle:elem.style).filter||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,elem=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=elem&&elem.filter||style.filter||"";(style.zoom=1)<=value&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute&&(style.removeAttribute("filter"),elem)&&!elem.filter||(style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){if(computed)return curCSS(elem,"marginRight")})}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(elem){return 0===elem.offsetWidth&&0===elem.offsetHeight||!jQuery.support.reliableHiddenOffsets&&"none"===(elem.style&&elem.style.display||curCSS(elem,"display"))},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var parts="string"==typeof value?value.split(" "):[value],expanded={},i=0;i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rselectTextarea=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.param=function(a,traditional){function add(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}var prefix,s=[];if(traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)!function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){(ajaxLocation=document.createElement("a")).href="",ajaxLocation=ajaxLocation.href}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;if(jQuery.isFunction(func))for(;i<length;i++)dataType=dataTypes[i],(placeBefore=/^\+/.test(dataType))&&(dataType=dataType.substr(1)||"*"),(structure[dataType]=structure[dataType]||[])[placeBefore?"unshift":"push"](func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){(inspected=inspected||{})[dataType=dataType||options.dataTypes[0]]=!0;for(var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters;i<length&&(executeOnly||!selection);i++)"string"==typeof(selection=list[i](options,originalOptions,jqXHR))&&(selection=!executeOnly||inspected[selection]?undefined:(options.dataTypes.unshift(selection),inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)));return selection=!executeOnly&&selection||inspected["*"]?selection:inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep=deep||{})[key]=src[key]);deep&&jQuery.extend(!0,target,deep)}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.load=function(url,params,callback){var selector,type,response,self,off;return"string"!=typeof url&&_load?_load.apply(this,arguments):(this.length&&(self=this,0<=(off=url.indexOf(" "))&&(selector=url.slice(off,url.length),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=undefined):params&&"object"==typeof params&&(type="POST"),jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status){callback&&self.each(callback,response||[jqXHR.responseText,status,jqXHR])}}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)})),this)},jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}}),jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){return settings?ajaxExtend(target,jQuery.ajaxSettings):(settings=target,target=jQuery.ajaxSettings),ajaxExtend(target,settings),target},ajaxSettings:{url:ajaxLocation,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ajaxLocParts[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=undefined);var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,i,s=jQuery.ajaxSetup({},options=options||{}),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){var lname;return state||(lname=name.toLowerCase(),name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){return state||(s.mimeType=type),this},abort:function(statusText){return statusText=statusText||strAbort,transport&&transport.abort(statusText),done(0,statusText),this}};function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=0<status?4:0,responses&&(response=((s,jqXHR,responses)=>{var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields)type in responses&&(jqXHR[responseFields[type]]=responses[type]);for(;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("content-type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType=firstDataType||type}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]})(s,jqXHR,responses)),200<=status&&status<300||304===status?(s.ifModified&&((headers=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[ifModifiedKey]=headers),headers=jqXHR.getResponseHeader("Etag"))&&(jQuery.etag[ifModifiedKey]=headers),isSuccess=304===status?(statusText="notmodified",!0):(statusText=(isSuccess=((s,response)=>{var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;if(s.dataFilter&&(response=s.dataFilter(response,s.dataType)),dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(;current=dataTypes[++i];)if("*"!==current){if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.splice(i--,0,current));break}if(!0!==conv)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}prev=current}return{state:"success",data:response}})(s,response)).state,success=isSuccess.data,!(error=isSuccess.error))):(error=statusText)&&!status||(statusText="error",status<0&&(status=0)),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals)&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}if(deferred.promise(jqXHR),jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,jqXHR.complete=completeDeferred.add,jqXHR.statusCode=function(map){if(map)if(state<2)for(var tmp in map)statusCode[tmp]=[statusCode[tmp],map[tmp]];else tmp=map[jqXHR.status],jqXHR.always(tmp);return this},s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace),null==s.crossDomain&&(url=rurl.exec(s.url.toLowerCase())||!1,s.crossDomain=url&&url.join(":")+(url[3]?"":"http:"===url[1]?80:443)!==ajaxLocParts.join(":")+(ajaxLocParts[3]?"":"http:"===ajaxLocParts[1]?80:443)),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2!==state){var ret,fireGlobals=s.global;for(i in s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),fireGlobals&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.hasContent||(s.data&&(s.url+=(rquery.test(s.url)?"&":"?")+s.data,delete s.data),ifModifiedKey=s.url,!1===s.cache&&(url=jQuery.now(),ret=s.url.replace(rts,"$1_="+url),s.url=ret+(ret===s.url?(rquery.test(s.url)?"&":"?")+"_="+url:""))),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),s.ifModified&&(ifModifiedKey=ifModifiedKey||s.url,jQuery.lastModified[ifModifiedKey]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]),jQuery.etag[ifModifiedKey])&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey]),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||2===state))return jqXHR.abort();for(i in strAbort="abort",{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&0<s.timeout&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}else done(-1,"No Transport")}return jqXHR},active:0,lastModified:{},etag:{}});var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=!1!==s.jsonp,replaceInUrl=hasCallback&&rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&"string"==typeof data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);if("jsonp"===s.dataTypes[0]||replaceInUrl||replaceInData)return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,overwritten=window[callbackName],replaceInUrl?s.url=url.replace(rjsonp,"$1"+callbackName):replaceInData?s.data=data.replace(rjsonp,"$1"+callbackName):hasCallback&&(s.url+=(rquestion.test(url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){var script,head;if(s.crossDomain)return head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,{send:function(_,callback){(script=document.createElement("script")).async="async",s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){!isAbort&&script.readyState&&!/loaded|complete/.test(script.readyState)||(script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script),script=undefined,isAbort)||callback(200,"success")},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(0,1)}}});var xhrCallbacks,xhrOnUnloadAbort=!!window.ActiveXObject&&function(){for(var key in xhrCallbacks)xhrCallbacks[key](0,1)},xhrId=0;function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||(()=>{try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}})()}:createStandardXHR,navigator=jQuery.ajaxSettings.xhr(),jQuery.extend(jQuery.support,{ajax:!!navigator,cors:!!navigator&&"withCredentials"in navigator}),jQuery.support.ajax&&jQuery.ajaxTransport(function(s){var callback;if(!s.crossDomain||jQuery.support.cors)return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username?xhr.open(s.type,s.url,s.async,s.username,s.password):xhr.open(s.type,s.url,s.async),s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];s.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(s.mimeType),s.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(_){}xhr.send(s.hasContent&&s.data||null),callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||4===xhr.readyState))if(callback=undefined,handle&&(xhr.onreadystatechange=jQuery.noop,xhrOnUnloadAbort)&&delete xhrCallbacks[handle],isAbort)4!==xhr.readyState&&xhr.abort();else{status=xhr.status,responseHeaders=xhr.getAllResponseHeaders(),responses={},(xml=xhr.responseXML)&&xml.documentElement&&(responses.xml=xml);try{responses.text=xhr.responseText}catch(_){}try{statusText=xhr.statusText}catch(e){statusText=""}status||!s.isLocal||s.crossDomain?1223===status&&(status=204):status=responses.text?200:404}}catch(firefoxAccessException){isAbort||complete(-1,firefoxAccessException)}responses&&complete(status,statusText,responses,responseHeaders)},s.async?4===xhr.readyState?setTimeout(callback,0):(handle=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},jQuery(window).unload(xhrOnUnloadAbort)),xhrCallbacks[handle]=callback),xhr.onreadystatechange=callback):callback()},abort:function(){callback&&callback(0,1)}}});var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[function(elem,props,opts){var index,prop,value,length,dataShow,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})}));1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===jQuery.css(elem,"display"))&&"none"===jQuery.css(elem,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==css_defaultDisplay(elem.nodeName)?style.zoom=1:style.display="inline-block");opts.overflow&&(style.overflow="hidden",jQuery.support.shrinkWrapBlocks||anim.done(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(index in props)value=props[index],rfxtypes.exec(value)&&(delete props[index],value!==(hidden?"hide":"show"))&&handled.push(index);if(length=handled.length)for(dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{}),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){for(var prop in jQuery.removeData(elem,"fxshow",!0),orig)jQuery.style(elem,prop,orig[prop])}),index=0;index<length;index++)prop=handled[index],tween=anim.createTween(prop,hidden?dataShow[prop]:0),orig[prop]=dataShow[prop]||jQuery.style(elem,prop),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),value=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(value){if(end=+value[2],"px"!==(unit=value[3]||(jQuery.cssNumber[prop]?"":"px"))&&start)for(start=jQuery.css(tween.elem,prop,!0)||end||1;start/=scale=scale||".5",jQuery.style(tween.elem,prop,start+unit),scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations;);tween.unit=unit,tween.start=start,tween.end=value[1]?start+(value[1]+1)*end:end}return tween}]};function createFxNow(){return setTimeout(function(){fxNow=undefined},0),fxNow=jQuery.now()}function Animation(elem,properties,options){var result,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){for(var currentTime=fxNow||createFxNow(),currentTime=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(currentTime/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,currentTime]),percent<1&&length?currentTime:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){end=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(end),end},stop:function(gotoEnd){for(var index=0,length=gotoEnd?animation.tweens.length:0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(((props,specialEasing)=>{var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing})(props,animation.opts.specialEasing);index<length;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return((animation,props)=>{jQuery.each(props,function(prop,value){for(var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;index<length;index++)if(collection[index].call(animation,prop,value))return})})(animation,props),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){for(var prop,index=0,length=(props=jQuery.isFunction(props)?(callback=props,["*"]):props.split(" ")).length;index<length;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),((jQuery.Tween=Tween).prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return(hooks&&hooks.get?hooks:Tween.propHooks._default).get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(hooks&&hooks.set?hooks:Tween.propHooks._default).set(this),this}}).init.prototype=Tween.prototype,(Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,!1,""))&&"auto"!==result?result:0:tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}}).scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed||!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing)?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){function doAnimation(){var anim=Animation(this,jQuery.extend({},prop),optall);empty&&anim.stop(!0)}var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback);return empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){function stopQueue(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)}return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&!1!==type&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.timers=[],jQuery.fx=Tween.prototype.init,jQuery.fx.tick=function(){for(var timer,timers=jQuery.timers,i=0;i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop()},jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&!timerId&&(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.interval=13,jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length});var rroot=/^(?:body|html)$/i;function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&(elem.defaultView||elem.parentWindow)}jQuery.fn.offset=function(options){var docElem,body,scrollTop,box,elem,doc;return arguments.length?options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)}):(box={top:0,left:0},(doc=(elem=this[0])&&elem.ownerDocument)?(body=doc.body)===elem?jQuery.offset.bodyOffset(elem):jQuery.contains(docElem=doc.documentElement,elem)?(void 0!==elem.getBoundingClientRect&&(box=elem.getBoundingClientRect()),elem=getWindow(doc),doc=docElem.clientTop||body.clientTop||0,body=docElem.clientLeft||body.clientLeft||0,scrollTop=elem.pageYOffset||docElem.scrollTop,elem=elem.pageXOffset||docElem.scrollLeft,{top:box.top+scrollTop-doc,left:box.left+elem-body}):box:void 0)},jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;return jQuery.support.doesNotIncludeMarginInBodyOffset&&(top+=parseFloat(jQuery.css(body,"marginTop"))||0,left+=parseFloat(jQuery.css(body,"marginLeft"))||0),{top:top,left:left}},setOffset:function(elem,options,i){var curTop,position=jQuery.css(elem,"position"),curElem=("static"===position&&(elem.style.position="relative"),jQuery(elem)),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),props={},position=("absolute"===position||"fixed"===position)&&-1<jQuery.inArray("auto",[curCSSTop,curCSSLeft])?(curTop=(position=curElem.position()).top,position.left):(curTop=parseFloat(curCSSTop)||0,parseFloat(curCSSLeft)||0);null!=(options=jQuery.isFunction(options)?options.call(elem,i,curOffset):options).top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+position),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({position:function(){var elem,offsetParent,offset,parentOffset;if(this[0])return elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset(),offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0,offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0,parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0,parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||document.body;offsetParent&&!rroot.test(offsetParent.nodeName)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||document.body})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined)return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method];win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val},method,val,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})}),window.jQuery=window.$=jQuery,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery})})(window),($=>{function isSVGElem(node){return 1==node.nodeType&&"http://www.w3.org/2000/svg"==node.namespaceURI}var origAddClass,origRemoveClass;$.fn.addClass=(origAddClass=$.fn.addClass,function(classNames){return classNames=classNames||"",this.each(function(){var node;isSVGElem(this)?(node=this,$.each(classNames.split(/\s+/),function(i,className){var classes=node.className?node.className.baseVal:node.getAttribute("class");-1==$.inArray(className,classes.split(/\s+/))&&(classes+=(classes?" ":"")+className,node.className?node.className.baseVal=classes:node.setAttribute("class",classes))})):origAddClass.apply($(this),[classNames])})}),$.fn.removeClass=(origRemoveClass=$.fn.removeClass,function(classNames){return classNames=classNames||"",this.each(function(){var node;isSVGElem(this)?(node=this,$.each(classNames.split(/\s+/),function(i,className){var classes=node.className?node.className.baseVal:node.getAttribute("class"),classes=$.grep(classes.split(/\s+/),function(n,i){return n!=className}).join(" ");node.className?node.className.baseVal=classes:node.setAttribute("class",classes)})):origRemoveClass.apply($(this),[classNames])})})})(jQuery),($=>{function interpolate(t,p_1,p0,p1,p2){return Math.floor((t*((2-t)*t-1)*p_1+(t*t*(3*t-5)+2)*p0+t*((4-3*t)*t+1)*p1+(t-1)*t*t*p2)/2)}function generateExtension(p1,p2){return[p2[0]+(p2[0]-p1[0]),p2[1]+(p2[1]-p1[1])]}$.crSpline={},$.crSpline.buildSequence=function(pointList){var numSegments,res={},seq=[];if(pointList.length<2)throw"crSpline.buildSequence requires at least two points";seq.push(generateExtension(pointList[1],pointList[0]));for(var i=0;i<pointList.length;i++)seq.push(pointList[i]);return seq.push(generateExtension(seq[seq.length-2],seq[seq.length-1])),numSegments=seq.length-3,res.getPos=function(t){var segNum=Math.floor(t*numSegments);return segNum===numSegments?{backgroundPositionX:seq[seq.length-2][0],backgroundPositionY:seq[seq.length-2][1]}:{backgroundPositionX:interpolate(t=(t-segNum/numSegments)*numSegments,seq[segNum][0],seq[segNum+1][0],seq[segNum+2][0],seq[segNum+3][0])+"px",backgroundPositionY:interpolate(t,seq[segNum][1],seq[segNum+1][1],seq[segNum+2][1],seq[segNum+3][1])+"px"}},res},$.fx.step.crSpline=function(fx){var i,css=fx.end.getPos(fx.pos);for(i in css)fx.elem.style[i]=css[i]}})(jQuery),(a=>{function b(a){var b=a.length,d=c.type(a);return"function"!==d&&!c.isWindow(a)&&(!(1!==a.nodeType||!b)||"array"===d||0===b||"number"==typeof b&&0<b&&b-1 in a)}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)},d=(c.isWindow=function(a){return null!=a&&a==a.window},c.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;f<g&&!1!==(e=c.apply(a[f],d));f++);else for(f in a)if(e=c.apply(a[f],d),!1===e)break}else if(h)for(;f<g&&!1!==(e=c.call(a[f],f,a[f]));f++);else for(f in a)if(e=c.call(a[f],f,a[f]),!1===e)break;return a},c.data=function(a,b,e){var g,f;return void 0===e?(g=(f=a[c.expando])&&d[f],void 0===b?g:g&&b in g?g[b]:void 0):void 0!==b?(f=a[c.expando]||(a[c.expando]=++c.uuid),d[f]=d[f]||{},d[f][b]=e):void 0},c.removeData=function(a,b){var a=a[c.expando],f=a&&d[a];f&&c.each(b,function(a,b){delete f[b]})},c.extend=function(){var b,d,e,f,a,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);i<j;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(a=b?(b=!1,a&&c.isArray(a)?a:[]):a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,a,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){c=c||[];return null!=a&&(b(Object(a))?((a,b)=>{for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!=c)for(;void 0!==b[d];)a[e++]=b[d++];a.length=e})(c,"string"==typeof a?[a]:a):[].push.call(c,a)),c}var g;if(a)return g=c.data(a,d=(d||"fx")+"queue"),e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();(f="inprogress"===f?e.shift():f)&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}},{});c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}})(window),(a=>{"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()})(function(){var a=window.jQuery||window.Zepto||window,b=window,c=document,d=void 0;function f(a){return p.isWrapped(a)?a=[].slice.call(a):p.isNode(a)&&(a=[a]),a}function g(a){a=m.data(a,"velocity");return null===a?d:a}function i(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+3*b)*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+3*b}function k(b,c){for(var e=0;e<p;++e){var f=j(c,a,d);if(0===f)return c;c-=(i(c,a,d)-b)/f}return c}function m(b,c,e){for(var f,g,h=0;0<(f=i(g=c+(e-c)/2,a,d)-b)?e=g:c=g,Math.abs(f)>r&&++h<s;);return g}function o(){if(y=!0,a!=c||d!=e)for(var b=0;b<t;++b)x[b]=i(b*u,a,d)}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);function z(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i((b=>{for(var c=0,e=1,f=t-1;e!=f&&x[e]<=b;++e)c+=u;var h=c+(b-x[--e])/(x[e+1]-x[e])*u,i=j(h,a,d);return q<=i?k(b,h):0==i?h:m(b,c,c+u)})(b),c,e)}var x=new(v?Float32Array:Array)(t),y=!1,A=(z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]},"generateBezier("+[a,c,d,e]+")");return z.toString=function(){return A},z}function j(a,b){var c=a;return p.isString(a)?t.Easings[a]||(c=!1):c=p.isArray(a)&&1===a.length?function(a){return function(b){return Math.round(b*a)*(1/a)}}.apply(null,a):p.isArray(a)&&2===a.length?u.apply(null,a.concat([b])):!(!p.isArray(a)||4!==a.length)&&i.apply(null,a),c=!1===c?t.Easings[t.defaults.easing]?t.defaults.easing:s:c}function k(a){if(a){var b=(new Date).getTime(),c=t.State.calls.length;1e4<c&&(t.State.calls=(a=>{for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d})(t.State.calls));for(var f=0;f<c;f++)if(t.State.calls[f]){for(var h=t.State.calls[f],i=h[0],j=h[2],o=!!(n=h[3]),q=null,n=n||(t.State.calls[f][3]=b-16),r=Math.min((b-n)/j.duration,1),s=0,u=i.length;s<u;s++){var w=i[s],y=w.element;if(g(y)){var B,z=!1;for(B in j.display!==d&&null!==j.display&&"none"!==j.display&&("flex"===j.display&&m.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){v.setPropertyValue(y,"display",b)}),v.setPropertyValue(y,"display",j.display)),j.visibility!==d&&"hidden"!==j.visibility&&v.setPropertyValue(y,"visibility",j.visibility),w)if("element"!==B){var G,D=w[B],E=p.isString(D.easing)?t.Easings[D.easing]:D.easing;if(1===r)C=D.endValue;else{var F=D.endValue-D.startValue,C=D.startValue+F*E(r,j,F);if(!o&&C===D.currentValue)continue}D.currentValue=C,"tween"===B?q=C:(v.Hooks.registered[B]&&(G=v.Hooks.getRoot(B),E=g(y).rootPropertyValueCache[G])&&(D.rootPropertyValue=E),F=v.setPropertyValue(y,B,D.currentValue+(0===parseFloat(C)?"":D.unitType),D.rootPropertyValue,D.scrollData),v.Hooks.registered[B]&&(g(y).rootPropertyValueCache[G]=v.Normalizations.registered[G]?v.Normalizations.registered[G]("extract",null,F[1]):F[1]),"transform"===F[0]&&(z=!0))}j.mobileHA&&g(y).transformCache.translate3d===d&&(g(y).transformCache.translate3d="(0px, 0px, 0px)",z=!0),z&&v.flushTransformCache(y)}}j.display!==d&&"none"!==j.display&&(t.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(t.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],r,Math.max(0,n+j.duration-b),n,q),1===r&&l(f)}}t.State.isTicking&&x(k)}function l(a,b){if(t.State.calls[a]){for(var c=t.State.calls[a][0],e=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;j<k;j++){var n,l=c[j].element;if(b||f.loop||("none"===f.display&&v.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&v.setPropertyValue(l,"visibility",f.visibility)),!0===f.loop||m.queue(l)[1]!==d&&/\.velocityQueueEntryFlag/i.test(m.queue(l)[1])||!g(l)||(g(l).isAnimating=!1,n=!(g(l).rootPropertyValueCache={}),m.each(v.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=g(l).transformCache[b];g(l).transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(n=!0,delete g(l).transformCache[b])}),f.mobileHA&&(n=!0,delete g(l).transformCache.translate3d),n&&v.flushTransformCache(l),v.Values.removeClass(l,"velocity-animating")),!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(o){setTimeout(function(){throw o},1)}h&&!0!==f.loop&&h(e),g(l)&&!0===f.loop&&!b&&(m.each(g(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),t(l,"reverse",{loop:!0,delay:f.delay})),!1!==f.queue&&m.dequeue(l,f.queue)}t.State.calls[a]=!1;for(var p=0,q=t.State.calls.length;p<q;p++)if(!1!==t.State.calls[p]){i=!0;break}!1===i&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}}var m,s,u,v,w,t,x,n=(()=>{if(c.documentMode)return c.documentMode;for(var a=7;4<a;a--){var b=c.createElement("div");if(b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",b.getElementsByTagName("span").length)return b=null,a}return d})(),o=(()=>{var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var d=(new Date).getTime(),c=Math.max(0,16-(d-a));return a=d+c,setTimeout(function(){b(d+c)},c)}})(),p={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},q=!1;if(a.fn&&a.fn.jquery?(m=a,q=!0):m=b.Velocity.Utilities,n<=8&&!q)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(n<=7))return s="swing",t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:400,easing:s,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){m.data(a,"velocity",{isSVG:p.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1},b.pageYOffset!==d?(t.State.scrollAnchor=b,t.State.scrollPropertyLeft="pageXOffset",t.State.scrollPropertyTop="pageYOffset"):(t.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,t.State.scrollPropertyLeft="scrollLeft",t.State.scrollPropertyTop="scrollTop"),u=(()=>{function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){d={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:d.v,dv:a(d)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),e=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+e*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,g=(f=null!==e)?(k=d(a,b))/e*.016:.016;h=c(h||i,g),j.push(1+h.x),k+=16,1e-4<Math.abs(h.x)&&1e-4<Math.abs(h.v););return f?function(a){return j[a*(j.length-1)|0]}:k}})(),t.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){t.Easings[b[0]]=i.apply(null,b[1])}),(v=t.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var c,a=0;a<v.Lists.colors.length;a++){var b="color"===v.Lists.colors[a]?"0 0 0 1":"255 255 255 1";v.Hooks.templates[v.Lists.colors[a]]=["Red Green Blue Alpha",b]}if(n)for(c in v.Hooks.templates){var d,e=(d=v.Hooks.templates[c])[0].split(" "),f=d[1].match(v.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),v.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in v.Hooks.templates)for(var a in e=(d=v.Hooks.templates[c])[0].split(" ")){var g=c+e[a],h=a;v.Hooks.registered[g]=[c,h]}},getRoot:function(a){var b=v.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return v.RegEx.valueUnwrap.test(b)&&(b=b.match(v.RegEx.valueUnwrap)[1]),b=v.Values.isCSSNullValue(b)?v.Hooks.templates[a][1]:b},extractValue:function(a,b){var d,a=v.Hooks.registered[a];return a?(d=a[0],a=a[1],(b=v.Hooks.cleanRootPropertyValue(d,b)).toString().match(v.RegEx.valueSplit)[a]):b},injectValue:function(a,b,c){var g,a=v.Hooks.registered[a];return a?(g=a[0],a=a[1],(g=(c=v.Hooks.cleanRootPropertyValue(g,c)).toString().match(v.RegEx.valueSplit))[a]=b,g.join(" ")):c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d=!v.RegEx.wrappedValueAlreadyExtracted.test(c)&&(d=c.toString().match(v.RegEx.valueUnwrap))?d[1].replace(/,(\s+)?/g," "):c;return d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return t.State.isFirefox?"filter":"-webkit-filter";case"extract":var e,d=parseFloat(c);return d=d||0===d?d:(e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?e[1]:0;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(n<=8)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return d?d[1]/100:1;case"inject":return(b.style.zoom=1)<=parseFloat(c)?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":case"inject":return c}}},register:function(){n<=9||t.State.isGingerbread||(v.Lists.transformsBase=v.Lists.transformsBase.concat(v.Lists.transforms3D));for(var a=0;a<v.Lists.transformsBase.length;a++)(()=>{var b=v.Lists.transformsBase[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[b]===d?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":t.State.isAndroid&&g(c).transformCache[b]===d&&e<1&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[b]="("+e+")"),g(c).transformCache[b]}}})();for(a=0;a<v.Lists.colors.length;a++)(()=>{var b=v.Lists.colors[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var g,h=v.RegEx.wrappedValueAlreadyExtracted.test(e)?e:(h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"},/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:v.RegEx.isHex.test(e)?g="rgb("+v.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),(g||e).toString().match(v.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," "));return n<=8||3!==h.split(" ").length||(h+=" 1"),h;case"inject":return n<=8?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(n<=8?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}})()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(n||t.State.isAndroid&&!t.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(t.State.prefixMatches[a])return[t.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;c<d;c++){var e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()});if(p.isString(t.State.prefixElement.style[e]))return[t.State.prefixMatches[a]=e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d}),(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function h(a,c){function e(){j&&v.setPropertyValue(a,"display","none")}var i=0;if(n<=8)i=m.css(a,c);else{var k,j=!1;if(/^(width|height)$/.test(c)&&0===v.getPropertyValue(a,"display")&&(j=!0,v.setPropertyValue(a,"display",v.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase())return k=a.offsetHeight-(parseFloat(v.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(v.getPropertyValue(a,"paddingBottom"))||0),e(),k;if("width"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase())return k=a.offsetWidth-(parseFloat(v.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(v.getPropertyValue(a,"paddingRight"))||0),e(),k}k=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),""!==(i=9===n&&"filter"===c?k.getPropertyValue(c):k[c])&&null!==i||(i=a.style[c]),e()}return i="auto"===i&&/^(top|right|bottom|left)$/i.test(c)&&("fixed"===(k=h(a,"position"))||"absolute"===k&&/top|left/i.test(c))?m(a).position()[c]+"px":i}var k,o,j;if(v.Hooks.registered[c]?(k=v.Hooks.getRoot(j=c),e===d&&(e=v.getPropertyValue(a,v.Names.prefixCheck(k)[0])),v.Normalizations.registered[k]&&(e=v.Normalizations.registered[k]("extract",a,e)),k=v.Hooks.extractValue(j,e)):v.Normalizations.registered[c]&&("transform"!==(j=v.Normalizations.registered[c]("name",a))&&(o=h(a,v.Names.prefixCheck(j)[0]),v.Values.isCSSNullValue(o))&&v.Hooks.templates[c]&&(o=v.Hooks.templates[c][1]),k=v.Normalizations.registered[c]("extract",a,o)),!/^[\d-]/.test(k))if(g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{k=a.getBBox()[c]}catch(p){k=0}else k=a.getAttribute(c);else k=h(a,v.Names.prefixCheck(c)[0]);return v.Values.isCSSNullValue(k)&&(k=0),2<=t.debug&&console.log("Get "+c+": "+k),k},setPropertyValue:function(a,c,d,e,f){var j,h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(v.Normalizations.registered[c]&&"transform"===v.Normalizations.registered[c]("name",a))v.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(v.Hooks.registered[c]&&(f=c,j=v.Hooks.getRoot(c),e=e||v.getPropertyValue(a,j),d=v.Hooks.injectValue(f,d,e),c=j),v.Normalizations.registered[c]&&(d=v.Normalizations.registered[c]("inject",a,d),c=v.Normalizations.registered[c]("name",a)),h=v.Names.prefixCheck(c)[0],n<=8)try{a.style[h]=d}catch(k){t.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;2<=t.debug&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(v.getPropertyValue(a,b))}var d,e,f,c="";(n||t.State.isAndroid&&!t.State.isChrome)&&g(a).isSVG?(d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]},m.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})):(m.each(g(a).transformCache,function(b){return e=g(a).transformCache[b],"transformPerspective"===b?(f=e,!0):void(c+=(b=9===n&&"rotateZ"===b?"rotate":b)+e+" ")}),f&&(c="perspective"+f+" "+c)),v.setPropertyValue(a,"transform",c)}}).Hooks.register(),v.Normalizations.register(),t.hook=function(a,b,c){var e=d;return a=f(a),m.each(a,function(a,f){var h;g(f)===d&&t.init(f),c===d?e===d&&(e=t.CSS.getPropertyValue(f,b)):("transform"===(h=t.CSS.setPropertyValue(f,b,c))[0]&&t.CSS.flushTransformCache(f),e=h)}),e},(t=m.extend(w=function(){function a(){return h?B.promise||null:i}function e(){function a(){function a(a,b){var c=d,e=d,g=d;return p.isArray(a)?(c=a[0],!p.isArray(a[1])&&/^[\d-]/.test(a[1])||p.isFunction(a[1])||v.RegEx.isHex.test(a[1])?g=a[1]:(p.isString(a[1])&&!v.RegEx.isHex.test(a[1])||p.isArray(a[1]))&&(e=b?a[1]:j(a[1],h.duration),a[2]!==d)&&(g=a[2])):c=a,b||(e=e||h.easing),[(c=p.isFunction(c)?c.call(f,y,x):c)||0,e,g=p.isFunction(g)?g.call(f,y,x):g]}function l(a,b){var b=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c=c||v.Values.getUnitType(a);return[b,c]}if(h.begin&&0===y)try{h.begin.call(o,o)}catch(r){setTimeout(function(){throw r},1)}if("scroll"===C){var u,w,z,A=/^x$/i.test(h.axis)?"Left":"Top",D=parseFloat(h.offset)||0;h.container?p.isWrapped(h.container)||p.isNode(h.container)?(h.container=h.container[0]||h.container,z=(u=h.container["scroll"+A])+m(f).position()[A.toLowerCase()]+D):h.container=null:(u=t.State.scrollAnchor[t.State["scrollProperty"+A]],w=t.State.scrollAnchor[t.State["scrollProperty"+("Left"===A?"Top":"Left")]],z=m(f).offset()[A.toLowerCase()]+D),i={scroll:{rootPropertyValue:!1,startValue:u,currentValue:u,endValue:z,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:A,alternateValue:w}},element:f},t.debug&&console.log("tweensContainer (scroll): ",i.scroll,f)}else if("reverse"===C){if(!g(f).tweensContainer)return void m.dequeue(f,h.queue);var F,G;for(F in"none"===g(f).opts.display&&(g(f).opts.display="auto"),"hidden"===g(f).opts.visibility&&(g(f).opts.visibility="visible"),g(f).opts.loop=!1,g(f).opts.begin=null,g(f).opts.complete=null,s.easing||delete h.easing,s.duration||delete h.duration,h=m.extend({},g(f).opts,h),E=m.extend(!0,{},g(f).tweensContainer))"element"!==F&&(G=E[F].startValue,E[F].startValue=E[F].currentValue=E[F].endValue,E[F].endValue=G,p.isEmptyObject(s)||(E[F].easing=h.easing),t.debug)&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(E[F]),f);i=E}else if("start"===C){var E;for(H in g(f).tweensContainer&&!0===g(f).isAnimating&&(E=g(f).tweensContainer),m.each(q,function(b,c){if(RegExp("^"+v.Lists.colors.join("$|^")+"$").test(b)){var c=a(c,!0),f=c[0],g=c[1],c=c[2];if(v.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],j=v.Values.hexToRgb(f),k=c?v.Values.hexToRgb(c):d,l=0;l<i.length;l++){var m=[j[l]];g&&m.push(g),k!==d&&m.push(k[l]),q[b+i[l]]=m}delete q[b]}}}),q){var K=a(q[H]),L=K[0],M=K[1],N=K[2],H=v.Names.camelCase(H),K=v.Hooks.getRoot(H),P=!1;if(g(f).isSVG||"tween"===K||!1!==v.Names.prefixCheck(K)[1]||v.Normalizations.registered[K]!==d){(h.display!==d&&null!==h.display&&"none"!==h.display||h.visibility!==d&&"hidden"!==h.visibility)&&/opacity|filter/.test(H)&&!N&&0!==L&&(N=0),h._cacheValues&&E&&E[H]?(N===d&&(N=E[H].endValue+E[H].unitType),P=g(f).rootPropertyValueCache[K]):v.Hooks.registered[H]?N===d?(P=v.getPropertyValue(f,K),N=v.getPropertyValue(f,H,P)):P=v.Hooks.templates[K][1]:N===d&&(N=v.getPropertyValue(f,H));var T=!1,Q=l(H,N),N=Q[0],S=Q[1],L=(Q=l(H,L))[0].replace(/^([+-\/*])=/,function(a,b){return T=b,""}),R=Q[1];if(N=parseFloat(N)||0,L=parseFloat(L)||0,"%"===R&&(/^(fontSize|lineHeight)$/.test(H)?(L/=100,R="em"):/^scale/.test(H)?(L/=100,R=""):/(Red|Green|Blue)$/i.test(H)&&(L=L/100*255,R="")),/[\/*]/.test(T))R=S;else if(S!==R&&0!==N)if(0===L)R=S;else{e=e||(()=>{var j,a={myParent:f.parentNode||c.body,position:v.getPropertyValue(f,"position"),fontSize:v.getPropertyValue(f,"fontSize")},d=a.position===I.lastPosition&&a.myParent===I.lastParent,e=a.fontSize===I.lastFontSize,h=(I.lastParent=a.myParent,I.lastPosition=a.position,I.lastFontSize=a.fontSize,100),i={};return e&&d?(i.emToPx=I.lastEmToPx,i.percentToPxWidth=I.lastPercentToPxWidth,i.percentToPxHeight=I.lastPercentToPxHeight):(j=g(f).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div"),t.init(j),a.myParent.appendChild(j),m.each(["overflow","overflowX","overflowY"],function(a,b){t.CSS.setPropertyValue(j,b,"hidden")}),t.CSS.setPropertyValue(j,"position",a.position),t.CSS.setPropertyValue(j,"fontSize",a.fontSize),t.CSS.setPropertyValue(j,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){t.CSS.setPropertyValue(j,b,h+"%")}),t.CSS.setPropertyValue(j,"paddingLeft",h+"em"),i.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(v.getPropertyValue(j,"width",null,!0))||1)/h,i.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(v.getPropertyValue(j,"height",null,!0))||1)/h,i.emToPx=I.lastEmToPx=(parseFloat(v.getPropertyValue(j,"paddingLeft"))||1)/h,a.myParent.removeChild(j)),null===I.remToPx&&(I.remToPx=parseFloat(v.getPropertyValue(c.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(b.innerWidth)/100,I.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=I.remToPx,i.vwToPx=I.vwToPx,i.vhToPx=I.vhToPx,1<=t.debug&&console.log("Unit ratios: "+JSON.stringify(i),f),i})();var U=/margin|padding|left|right|width|text|word|letter/i.test(H)||/X$/.test(H)||"x"===H?"x":"y";switch(S){case"%":N*="x"==U?e.percentToPxWidth:e.percentToPxHeight;break;case"px":break;default:N*=e[S+"ToPx"]}switch(R){case"%":N*=1/("x"==U?e.percentToPxWidth:e.percentToPxHeight);break;case"px":break;default:N*=1/e[R+"ToPx"]}}switch(T){case"+":L=N+L;break;case"-":L=N-L;break;case"*":L*=N;break;case"/":L=N/L}i[H]={rootPropertyValue:P,startValue:N,currentValue:N,endValue:L,unitType:R,easing:M},t.debug&&console.log("tweensContainer ("+H+"): "+JSON.stringify(i[H]),f)}else t.debug&&console.log("Skipping ["+K+"] due to a lack of browser support.")}i.element=f}i.element&&(v.Values.addClass(f,"velocity-animating"),J.push(i),""===h.queue&&(g(f).tweensContainer=i,g(f).opts=h),g(f).isAnimating=!0,y===x-1?(t.State.calls.push([J,o,h,null,B.resolver]),!1===t.State.isTicking&&(t.State.isTicking=!0,k())):y++)}var e,f=this,h=m.extend({},t.defaults,s),i={};switch(g(f)===d&&t.init(f),parseFloat(h.delay)&&!1!==h.queue&&m.queue(f,h.queue,function(a){t.velocityQueueEntryFlag=!0,g(f).delayTimer={setTimeout:setTimeout(a,parseFloat(h.delay)),next:a}}),h.duration.toString().toLowerCase()){case"fast":h.duration=200;break;case"normal":h.duration=400;break;case"slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}!1!==t.mock&&(!0===t.mock?h.duration=h.delay=1:(h.duration*=parseFloat(t.mock)||1,h.delay*=parseFloat(t.mock)||1)),h.easing=j(h.easing,h.duration),h.begin&&!p.isFunction(h.begin)&&(h.begin=null),h.progress&&!p.isFunction(h.progress)&&(h.progress=null),h.complete&&!p.isFunction(h.complete)&&(h.complete=null),h.display!==d&&null!==h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===h.display)&&(h.display=t.CSS.Values.getDisplayType(f)),h.visibility!==d&&null!==h.visibility&&(h.visibility=h.visibility.toString().toLowerCase()),h.mobileHA=h.mobileHA&&t.State.isMobile&&!t.State.isGingerbread,!1===h.queue?h.delay?setTimeout(a,h.delay):a():m.queue(f,h.queue,function(b,c){return!0===c?(B.promise&&B.resolver(o),!0):(t.velocityQueueEntryFlag=!0,void a())}),""!==h.queue&&"fx"!==h.queue||"inprogress"===m.queue(f)[0]||m.dequeue(f)}var h,i,n,o,q,u=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));if(p.isWrapped(this)?(h=!1,n=0,i=o=this):(h=!0,n=1,o=u?arguments[0].elements||arguments[0].e:arguments[0]),o=f(o)){s=u?(q=arguments[0].properties||arguments[0].p,arguments[0].options||arguments[0].o):(q=arguments[n],arguments[n+1]);var x=o.length,y=0;if(!/^(stop|finish|finishAll)$/i.test(q)&&!m.isPlainObject(s))for(var s={},A=n+1;A<arguments.length;A++)p.isArray(arguments[A])||!/^(fast|normal|slow)$/i.test(arguments[A])&&!/^\d/.test(arguments[A])?p.isString(arguments[A])||p.isArray(arguments[A])?s.easing=arguments[A]:p.isFunction(arguments[A])&&(s.complete=arguments[A]):s.duration=arguments[A];var C,F,G,H,B={promise:null,resolver:null,rejecter:null};switch(h&&t.Promise&&(B.promise=new t.Promise(function(a,b){B.resolver=a,B.rejecter=b})),q){case"scroll":C="scroll";break;case"reverse":C="reverse";break;case"finish":case"finishAll":case"stop":m.each(o,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer),"finishAll"!==q||!0!==s&&!p.isString(s)||(m.each(m.queue(b,p.isString(s)?s:""),function(a,b){p.isFunction(b)&&b()}),m.queue(b,p.isString(s)?s:"",[]))});var D=[];return m.each(t.State.calls,function(a,b){b&&m.each(b[1],function(c,e){var f=s===d?"":s;return!0!==f&&b[2].queue!==f&&(s!==d||!1!==b[2].queue)||void m.each(o,function(c,d){d===e&&(!0!==s&&!p.isString(s)||(m.each(m.queue(d,p.isString(s)?s:""),function(a,b){p.isFunction(b)&&b(null,!0)}),m.queue(d,p.isString(s)?s:"",[])),"stop"===q?(g(d)&&g(d).tweensContainer&&!1!==f&&m.each(g(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),D.push(a)):"finish"!==q&&"finishAll"!==q||(b[2].duration=1))})})}),"stop"===q&&(m.each(D,function(a,b){l(b,!0)}),B.promise)&&B.resolver(o),a();default:if(!m.isPlainObject(q)||p.isEmptyObject(q))return p.isString(q)&&t.Redirects[q]?(F=(E=m.extend({},s)).duration,G=E.delay||0,!0===E.backwards&&(o=m.extend(!0,[],o).reverse()),m.each(o,function(a,b){parseFloat(E.stagger)?E.delay=G+parseFloat(E.stagger)*a:p.isFunction(E.stagger)&&(E.delay=G+E.stagger.call(b,a,x)),E.drag&&(E.duration=parseFloat(F)||(/^(callout|transition)/.test(q)?1e3:400),E.duration=Math.max(E.duration*(E.backwards?1-a/x:(a+1)/x),.75*E.duration,200)),t.Redirects[q].call(b,b,E||{},a,x,o,B.promise?B:d)})):(H="Velocity: First argument ("+q+") was not a property map, a known action, or a registered redirect. Aborting.",B.promise?B.rejecter(new Error(H)):console.log(H)),a();C="start"}var K,E,I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},J=[];if(m.each(o,function(a,b){p.isNode(b)&&e.call(b)}),(E=m.extend({},t.defaults,s)).loop=parseInt(E.loop),K=2*E.loop-1,E.loop)for(var L=0;L<K;L++){var M={delay:E.delay,progress:E.progress};L===K-1&&(M.display=E.display,M.visibility=E.visibility,M.complete=E.complete),w(o,"reverse",M)}return a()}},t)).animate=w,x=b.requestAnimationFrame||o,t.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(x=function(a){return setTimeout(function(){a(!0)},16)},k()):x=b.requestAnimationFrame||o}),a.Velocity=t,a!==b&&(a.fn.velocity=w,a.fn.velocity.defaults=t.defaults),m.each(["Down","Up"],function(a,b){t.Redirects["slide"+b]=function(a,c,e,f,g,h){var c=m.extend({},c),j=c.begin,k=c.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},n={};c.display===d&&(c.display="Down"===b?"inline"===t.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),c.begin=function(){for(var c in j&&j.call(g,g),l){n[c]=a.style[c];var d=t.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}n.overflow=a.style.overflow,a.style.overflow="hidden"},c.complete=function(){for(var b in n)a.style[b]=n[b];k&&k.call(g,g),h&&h.resolver(g)},t(a,l,c)}}),m.each(["In","Out"],function(a,b){t.Redirects["fade"+b]=function(a,c,e,f,g,h){var c=m.extend({},c),j={opacity:"In"===b?1:0},k=c.complete;c.complete=e!==f-1?c.begin=null:function(){k&&k.call(g,g),h&&h.resolver(g)},c.display===d&&(c.display="In"===b?"auto":"none"),t(this,j,c)}}),t;jQuery.fn.velocity=jQuery.fn.animate}),function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function Lexer(options){this.tokens=[],this.tokens.links={},this.options=options||marked.defaults,this.rules=block.normal,this.options.gfm&&(this.options.tables?this.rules=block.tables:this.rules=block.gfm)}block.bullet=/(?:[*+-]|\d+\.)/,block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,block.item=replace(block.item,"gm")(/bull/g,block.bullet)(),block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")(),block.blockquote=replace(block.blockquote)("def",block.def)(),block._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)(),block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)(),block.normal=merge({},block),block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")(),block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=block,Lexer.lex=function(src,options){return new Lexer(options).lex(src)},Lexer.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(src,!0)},Lexer.prototype.token=function(src,top,bq){for(var next,cap,bull,item,space,i,l,src=src.replace(/^ +$/gm,"");src;)if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),1<cap[0].length)&&this.tokens.push({type:"space"}),cap=this.rules.code.exec(src))src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?cap:cap.replace(/\n+$/,"")});else if(cap=this.rules.fences.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"code",lang:cap[2],text:cap[3]});else if(cap=this.rules.heading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});else if(top&&(cap=this.rules.nptable.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")},i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].split(/ *\| */);this.tokens.push(item)}else if(cap=this.rules.lheading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});else if(cap=this.rules.hr.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"hr"});else if(cap=this.rules.blockquote.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top,!0),this.tokens.push({type:"blockquote_end"});else if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),bull=cap[2],this.tokens.push({type:"list_start",ordered:1<bull.length}),next=!1,l=(cap=cap[0].match(this.rules.item)).length,i=0;i<l;i++)space=(item=cap[i]).length,~(item=item.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(space-=item.length,item=this.options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),!this.options.smartLists||i===l-1||bull===(space=block.bullet.exec(cap[i+1])[0])||1<bull.length&&1<space.length||(src=cap.slice(i+1).join("\n")+src,i=l-1),space=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"===item.charAt(item.length-1),space=space||next),this.tokens.push({type:space?"loose_item_start":"list_item_start"}),this.token(item,!1,bq),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(cap=this.rules.html.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===cap[1]||"script"===cap[1]||"style"===cap[1],text:cap[0]});else if(!bq&&top&&(cap=this.rules.def.exec(src)))src=src.substring(cap[0].length),this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};else if(top&&(cap=this.rules.table.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")},i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(item)}else if(top&&(cap=this.rules.paragraph.exec(src)))src=src.substring(cap[0].length),this.tokens.push({type:"paragraph",text:"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]});else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"text",text:cap[0]});else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0));return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function InlineLexer(links,options){if(this.options=options||marked.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=inline.breaks:this.rules=inline.gfm:this.options.pedantic&&(this.rules=inline.pedantic)}function Renderer(options){this.options=options||{}}function Parser(options){this.tokens=[],this.token=null,this.options=options||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options}function escape(html,encode){return html.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function replace(regex,opt){return regex=regex.source,opt=opt||"",function self(name,val){return name?(val=(val=val.source||val).replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),self):new RegExp(regex,opt)}}function noop(){}function merge(obj){for(var target,key,i=1;i<arguments.length;i++)for(key in target=arguments[i])Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key]);return obj}function marked(src,opt,callback){if(callback||"function"==typeof opt){callback||(callback=opt,opt=null);var tokens,highlight=(opt=merge({},marked.defaults,opt||{})).highlight,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}var pending=tokens.length,done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!pending)return done();for(;i<tokens.length;i++)(token=>"code"!==token.type?--pending||done():highlight(token.text,token.lang,function(err,code){return err?done(err):null==code||code===token.text?--pending||done():(token.text=code,token.escaped=!0,void(--pending||done()))}))(tokens[i])}else try{return opt=opt&&merge({},marked.defaults,opt),Parser.parse(Lexer.lex(src,opt),opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(opt||marked.defaults).silent)return"<p>An error occured:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)(),inline.reflink=replace(inline.reflink)("inside",inline._inside)(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()}),inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()}),InlineLexer.rules=inline,InlineLexer.output=function(src,links,options){return new InlineLexer(links,options).output(src)},InlineLexer.prototype.output=function(src){for(var link,text,href,cap,out="";src;)if(cap=this.rules.escape.exec(src))src=src.substring(cap[0].length),out+=cap[1];else if(cap=this.rules.autolink.exec(src))src=src.substring(cap[0].length),href="@"===cap[2]?(text=":"===cap[1].charAt(6)?this.mangle(cap[1].substring(7)):this.mangle(cap[1]),this.mangle("mailto:")+text):text=escape(cap[1]),out+=this.renderer.link(href,null,text);else if(!this.inLink&&(cap=this.rules.url.exec(src)))src=src.substring(cap[0].length),href=text=escape(cap[1]),out+=this.renderer.link(href,null,text);else if(cap=this.rules.tag.exec(src))!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?escape(cap[0]):cap[0];else if(cap=this.rules.link.exec(src))src=src.substring(cap[0].length),this.inLink=!0,out+=this.outputLink(cap,{href:cap[2],title:cap[3]}),this.inLink=!1;else if(cap=(cap=this.rules.reflink.exec(src))||this.rules.nolink.exec(src))src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),(link=this.links[link.toLowerCase()])&&link.href?(this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1):(out+=cap[0].charAt(0),src=cap[0].substring(1)+src);else if(cap=this.rules.strong.exec(src))src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[2]||cap[1]));else if(cap=this.rules.em.exec(src))src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[2]||cap[1]));else if(cap=this.rules.code.exec(src))src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2],!0));else if(cap=this.rules.br.exec(src))src=src.substring(cap[0].length),out+=this.renderer.br();else if(cap=this.rules.del.exec(src))src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),out+=escape(this.smartypants(cap[0]));else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0));return out},InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),link=link.title?escape(link.title):null;return"!"!==cap[0].charAt(0)?this.renderer.link(href,link,this.output(cap[1])):this.renderer.image(href,link,escape(cap[1]))},InlineLexer.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦"):text},InlineLexer.prototype.mangle=function(text){for(var ch,out="",l=text.length,i=0;i<l;i++)ch=text.charCodeAt(i),out+="&#"+(ch=.5<Math.random()?"x"+ch.toString(16):ch)+";";return out},Renderer.prototype.code=function(code,lang,escaped){var out;return this.options.highlight&&null!=(out=this.options.highlight(code,lang))&&out!==code&&(escaped=!0,code=out),lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+"\n</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"},Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},Renderer.prototype.html=function(html){return html},Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(body,ordered){ordered=ordered?"ol":"ul";return"<"+ordered+">\n"+body+"</"+ordered+">\n"},Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"},Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"},Renderer.prototype.table=function(header,body){return"<table>\n<thead>\n"+header+"</thead>\n<tbody>\n"+body+"</tbody>\n</table>\n"},Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"},Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";return(flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">")+content+"</"+type+">\n"},Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(href.replace(/&([#\w]+);/g,function(_,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""})).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===prot.indexOf("javascript:"))return""}prot='<a href="'+href+'"';return title&&(prot+=' title="'+title+'"'),prot+=">"+text+"</a>"},Renderer.prototype.image=function(href,title,text){href='<img src="'+href+'" alt="'+text+'"';return title&&(href+=' title="'+title+'"'),href+=this.options.xhtml?"/>":">"},Parser.parse=function(src,options,renderer){return new Parser(options).parse(src)},Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var body=this.token.text;"text"===this.peek().type;)body+="\n"+this.next().text;return this.inline.output(body)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(var row,j,header="",body="",cell="",i=0;i<this.token.header.length;i++)this.token.align[i],cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body);case"blockquote_start":for(body="";"blockquote_end"!==this.next().type;)body+=this.tok();return this.renderer.blockquote(body);case"list_start":for(var body="",header=this.token.ordered;"list_end"!==this.next().type;)body+=this.tok();return this.renderer.list(body,header);case"list_item_start":for(body="";"list_item_end"!==this.next().type;)body+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(body);case"loose_item_start":for(body="";"list_item_end"!==this.next().type;)body+=this.tok();return this.renderer.listitem(body);case"html":header=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(header);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},noop.exec=noop,marked.options=marked.setOptions=function(opt){return merge(marked.defaults,opt),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,"undefined"!=typeof module&&"object"==typeof exports?module.exports=marked:"function"==typeof define&&define.amd?define(function(){return marked}):this.marked=marked}.call(function(){return this||("undefined"!=typeof window?window:global)}()),RainyDay.prototype.prepareCanvas=function(){var canvas=document.createElement("canvas");return canvas.style.position=this.options.position,canvas.style.top=this.options.top,canvas.style.left=this.options.left,canvas.width=this.options.width,canvas.height=this.options.height,this.options.parentElement.appendChild(canvas),this.options.enableSizeChange&&this.setResizeHandler(),canvas},RainyDay.prototype.setResizeHandler=function(){null!==window.onresize?window.setInterval(this.checkSize.bind(this),100):(window.onresize=this.checkSize.bind(this),window.onorientationchange=this.checkSize.bind(this))},RainyDay.prototype.checkSize=function(){var clientWidth=this.img.clientWidth,clientHeight=this.img.clientHeight,clientOffsetLeft=this.img.offsetLeft,clientOffsetTop=this.img.offsetTop,canvasWidth=this.canvas.width,canvasHeight=this.canvas.height,canvasOffsetLeft=this.canvas.offsetLeft,canvasOffsetTop=this.canvas.offsetTop;canvasWidth===clientWidth&&canvasHeight===clientHeight||(this.canvas.width=clientWidth,this.canvas.height=clientHeight,this.prepareBackground(),this.glass.width=this.canvas.width,this.glass.height=this.canvas.height,this.prepareReflections()),canvasOffsetLeft===clientOffsetLeft&&canvasOffsetTop===clientOffsetTop||(this.canvas.offsetLeft=clientOffsetLeft,this.canvas.offsetTop=clientOffsetTop)},RainyDay.prototype.animateDrops=function(){this.addDropCallback&&this.addDropCallback();for(var dropsClone=this.drops.slice(),newDrops=[],i=0;i<dropsClone.length;++i)dropsClone[i].animate()&&newDrops.push(dropsClone[i]);this.drops=newDrops,this.requestID=window.requestAnimFrame(this.animateDrops.bind(this))},RainyDay.prototype.pause=function(){window.cancelAnimationFrame(this.requestID)},RainyDay.prototype.resume=function(){this.requestID=window.requestAnimFrame(this.animateDrops.bind(this))},RainyDay.prototype.setRequestAnimFrame=function(){var fps=this.options.fps;window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/fps)}},RainyDay.prototype.prepareReflections=function(){this.reflected=document.createElement("canvas"),this.reflected.width=this.canvas.width/this.options.reflectionScaledownFactor,this.reflected.height=this.canvas.height/this.options.reflectionScaledownFactor,this.reflected.getContext("2d").drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.reflected.width,this.reflected.height)},RainyDay.prototype.prepareGlass=function(){this.glass=document.createElement("canvas"),this.glass.width=this.canvas.width,this.glass.height=this.canvas.height,this.context=this.glass.getContext("2d")},RainyDay.prototype.rain=function(presets,speed){if(this.reflection!==this.REFLECTION_NONE&&this.prepareReflections(),this.animateDrops(),this.presets=presets,this.PRIVATE_GRAVITY_FORCE_FACTOR_Y=.001*this.options.fps/25,this.PRIVATE_GRAVITY_FORCE_FACTOR_X=(Math.PI/2-this.options.gravityAngle)*(.001*this.options.fps)/50,this.options.enableCollisions){for(var mwi,mhi,maxDropRadius=0,i=0;i<presets.length;i++)presets[i][0]+presets[i][1]>maxDropRadius&&(maxDropRadius=Math.floor(presets[i][0]+presets[i][1]));0<maxDropRadius?(mwi=Math.ceil(this.canvas.width/maxDropRadius),mhi=Math.ceil(this.canvas.height/maxDropRadius),this.matrix=new CollisionMatrix(mwi,mhi,maxDropRadius)):this.options.enableCollisions=!1}for(i=0;i<presets.length;i++)presets[i][3]||(presets[i][3]=-1);var lastExecutionTime=0;this.addDropCallback=function(){var timestamp=(new Date).getTime();if(!(timestamp-lastExecutionTime<speed)){lastExecutionTime=timestamp;var preset,timestamp=this.canvas.getContext("2d");timestamp.clearRect(0,0,this.canvas.width,this.canvas.height),timestamp.drawImage(this.background,0,0,this.canvas.width,this.canvas.height);for(var i=0;i<presets.length;i++)if(1<presets[i][2]||-1===presets[i][3]){if(0!==presets[i][3]){presets[i][3]--;for(var y=0;y<presets[i][2];++y)this.putDrop(new Drop(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,presets[i][0],presets[i][1]))}}else if(Math.random()<presets[i][2]){preset=presets[i];break}preset&&this.putDrop(new Drop(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,preset[0],preset[1])),timestamp.save(),timestamp.globalAlpha=this.options.opacity,timestamp.drawImage(this.glass,0,0,this.canvas.width,this.canvas.height),timestamp.restore()}}.bind(this)},RainyDay.prototype.putDrop=function(drop){drop.draw(),this.gravity&&drop.r>this.options.gravityThreshold&&(this.options.enableCollisions&&this.matrix.update(drop),this.drops.push(drop))},RainyDay.prototype.clearDrop=function(drop,force){force=drop.clear(force);return force&&0<=(drop=this.drops.indexOf(drop))&&this.drops.splice(drop,1),force},Drop.prototype.draw=function(){this.context.save(),this.context.beginPath();var collider,orgR=this.r;this.r=.95*this.r,this.r<3?(this.context.arc(this.x,this.y,this.r,0,2*Math.PI,!0),this.context.closePath()):this.colliding||2<this.yspeed?(this.colliding&&(collider=this.colliding,this.r=1.001*(this.r>collider.r?this:collider).r,this.x+=collider.x-this.x,this.colliding=null),collider=1+.1*this.yspeed,this.context.moveTo(this.x-this.r/collider,this.y),this.context.bezierCurveTo(this.x-this.r,this.y-2*this.r,this.x+this.r,this.y-2*this.r,this.x+this.r/collider,this.y),this.context.bezierCurveTo(this.x+this.r,this.y+collider*this.r,this.x-this.r,this.y+collider*this.r,this.x-this.r/collider,this.y)):(this.context.arc(this.x,this.y,.9*this.r,0,2*Math.PI,!0),this.context.closePath()),this.context.clip(),this.r=orgR,this.rainyday.reflection&&this.rainyday.reflection(this),this.context.restore()},Drop.prototype.clear=function(force){return this.context.clearRect(this.x-this.r-1,this.y-this.r-2,2*this.r+2,2*this.r+2),force?this.terminate=!0:this.y-this.r>this.rainyday.canvas.height||this.x-this.r>this.rainyday.canvas.width||this.x+this.r<0},Drop.prototype.animate=function(){var stopped,collisions;return!this.terminate&&(!(stopped=this.rainyday.gravity(this))&&this.rainyday.trail&&this.rainyday.trail(this),this.rainyday.options.enableCollisions&&(collisions=this.rainyday.matrix.update(this,stopped))&&this.rainyday.collision(this,collisions),!stopped||this.terminate)},RainyDay.prototype.TRAIL_NONE=function(){},RainyDay.prototype.TRAIL_DROPS=function(drop){(!drop.trailY||drop.y-drop.trailY>=100*Math.random()*drop.r)&&(drop.trailY=drop.y,this.putDrop(new Drop(this,drop.x+(2*Math.random()-1)*Math.random(),drop.y-drop.r-5,Math.ceil(drop.r/5),0)))},RainyDay.prototype.TRAIL_SMUDGE=function(drop){var y=drop.y-drop.r-3,x=drop.x-drop.r/2+2*Math.random();y<0||x<0||this.context.drawImage(this.clearbackground,x,y,drop.r,2,x,y,drop.r,2)},RainyDay.prototype.GRAVITY_NONE=function(){return!0},RainyDay.prototype.GRAVITY_LINEAR=function(drop){return!!this.clearDrop(drop)||(drop.yspeed?(drop.yspeed+=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y*Math.floor(drop.r),drop.xspeed+=this.PRIVATE_GRAVITY_FORCE_FACTOR_X*Math.floor(drop.r)):(drop.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,drop.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X),drop.y+=drop.yspeed,drop.draw(),!1)},RainyDay.prototype.GRAVITY_NON_LINEAR=function(drop){return!!this.clearDrop(drop)||(drop.collided?(drop.collided=!1,drop.seed=Math.floor(drop.r*Math.random()*this.options.fps),drop.skipping=!1,drop.slowing=!1):(!drop.seed||drop.seed<0)&&(drop.seed=Math.floor(drop.r*Math.random()*this.options.fps),drop.skipping=!1===drop.skipping,drop.slowing=!0),drop.seed--,drop.yspeed?drop.slowing?(drop.yspeed/=1.1,drop.xspeed/=1.1,drop.yspeed<this.PRIVATE_GRAVITY_FORCE_FACTOR_Y&&(drop.slowing=!1)):drop.skipping?(drop.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,drop.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X):(drop.yspeed+=+this.PRIVATE_GRAVITY_FORCE_FACTOR_Y*Math.floor(drop.r),drop.xspeed+=+this.PRIVATE_GRAVITY_FORCE_FACTOR_X*Math.floor(drop.r)):(drop.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,drop.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X),0!==this.options.gravityAngleVariance&&(drop.xspeed+=(2*Math.random()-1)*drop.yspeed*this.options.gravityAngleVariance),drop.y+=drop.yspeed,drop.x+=drop.xspeed,drop.draw(),!1)},RainyDay.prototype.positiveMin=function(val1,val2){var result=0;return(result=val1<val2?val1<=0?val2:val1:val2<=0?val1:val2)<=0?1:result},RainyDay.prototype.REFLECTION_NONE=function(){this.context.fillStyle=this.options.fillStyle,this.context.fill()},RainyDay.prototype.REFLECTION_MINIATURE=function(drop){var sx=Math.max((drop.x-this.options.reflectionDropMappingWidth)/this.options.reflectionScaledownFactor,0),sy=Math.max((drop.y-this.options.reflectionDropMappingHeight)/this.options.reflectionScaledownFactor,0),sw=this.positiveMin(2*this.options.reflectionDropMappingWidth/this.options.reflectionScaledownFactor,this.reflected.width-sx),sh=this.positiveMin(2*this.options.reflectionDropMappingHeight/this.options.reflectionScaledownFactor,this.reflected.height-sy),dx=Math.max(drop.x-1.1*drop.r,0),dy=Math.max(drop.y-1.1*drop.r,0);this.context.drawImage(this.reflected,sx,sy,sw,sh,dx,dy,2*drop.r,2*drop.r)},RainyDay.prototype.COLLISION_SIMPLE=function(drop,collisions){for(var drop2,higher,item=collisions;null!=item;){var p=item.drop,radiusSum=drop.r+p.r,dx=drop.x-p.x,dy=drop.y-p.y;if(Math.abs(dx)<radiusSum&&Math.abs(dy)<radiusSum&&Math.sqrt(Math.pow(drop.x-p.x,2)+Math.pow(drop.y-p.y,2))<drop.r+p.r){drop2=p;break}item=item.next}drop2&&(collisions=drop.y>drop2.y?(higher=drop,drop2):(higher=drop2,drop),this.clearDrop(collisions),this.clearDrop(higher,!0),this.matrix.remove(higher),collisions.draw(),collisions.colliding=higher,collisions.collided=!0)},RainyDay.prototype.prepareBackground=function(){this.background=document.createElement("canvas"),this.background.width=this.canvas.width,this.background.height=this.canvas.height,this.clearbackground=document.createElement("canvas"),this.clearbackground.width=this.canvas.width,this.clearbackground.height=this.canvas.height;var context=this.background.getContext("2d");context.clearRect(0,0,this.canvas.width,this.canvas.height),context.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.canvas.width,this.canvas.height),(context=this.clearbackground.getContext("2d")).clearRect(0,0,this.canvas.width,this.canvas.height),context.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.canvas.width,this.canvas.height),!isNaN(this.options.blur)&&1<=this.options.blur&&this.stackBlurCanvasRGB(this.canvas.width,this.canvas.height,this.options.blur)},RainyDay.prototype.stackBlurCanvasRGB=function(width,height,radius){for(var x,y,p,yp,yi,rSum,gSum,bSum,rOutSum,gOutSum,bOutSum,rInSum,gInSum,bInSum,pr,pg,pb,rbs,shgTable=[[0,9],[1,11],[2,12],[3,13],[5,14],[7,15],[11,16],[15,17],[22,18],[31,19],[45,20],[63,21],[90,22],[127,23],[181,24]],context=(radius|=0,this.background.getContext("2d")),imageData=context.getImageData(0,0,width,height),pixels=imageData.data,radiusPlus1=radius+1,sumFactor=radiusPlus1*(radiusPlus1+1)/2,stackStart=new BlurStack,stackEnd=new BlurStack,stack=stackStart,i=1;i<2*radius+1;i++)stack=stack.next=new BlurStack,i===radiusPlus1&&(stackEnd=stack);stack.next=stackStart;for(var shgSum,stackIn=null,stackOut=null,yw=yi=0,mulSum=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259][radius],ssi=0;ssi<shgTable.length;++ssi)if(radius<=shgTable[ssi][0]){shgSum=shgTable[ssi-1][1];break}for(y=0;y<height;y++){for(rInSum=gInSum=bInSum=rSum=gSum=bSum=0,rOutSum=radiusPlus1*(pr=pixels[yi]),gOutSum=radiusPlus1*(pg=pixels[yi+1]),bOutSum=radiusPlus1*(pb=pixels[yi+2]),rSum+=sumFactor*pr,gSum+=sumFactor*pg,bSum+=sumFactor*pb,stack=stackStart,i=0;i<radiusPlus1;i++)stack.r=pr,stack.g=pg,stack.b=pb,stack=stack.next;for(i=1;i<radiusPlus1;i++)rSum+=(stack.r=pr=pixels[p=yi+((width-1<i?width-1:i)<<2)])*(rbs=radiusPlus1-i),gSum+=(stack.g=pg=pixels[p+1])*rbs,bSum+=(stack.b=pb=pixels[p+2])*rbs,rInSum+=pr,gInSum+=pg,bInSum+=pb,stack=stack.next;for(stackIn=stackStart,stackOut=stackEnd,x=0;x<width;x++)pixels[yi]=rSum*mulSum>>shgSum,pixels[yi+1]=gSum*mulSum>>shgSum,pixels[yi+2]=bSum*mulSum>>shgSum,rSum-=rOutSum,gSum-=gOutSum,bSum-=bOutSum,rOutSum-=stackIn.r,gOutSum-=stackIn.g,bOutSum-=stackIn.b,p=yw+((p=x+radius+1)<width-1?p:width-1)<<2,rSum+=rInSum+=stackIn.r=pixels[p],gSum+=gInSum+=stackIn.g=pixels[p+1],bSum+=bInSum+=stackIn.b=pixels[p+2],stackIn=stackIn.next,rOutSum+=pr=stackOut.r,gOutSum+=pg=stackOut.g,bOutSum+=pb=stackOut.b,rInSum-=pr,gInSum-=pg,bInSum-=pb,stackOut=stackOut.next,yi+=4;yw+=width}for(x=0;x<width;x++){for(gInSum=bInSum=rInSum=gSum=bSum=rSum=0,rOutSum=radiusPlus1*(pr=pixels[yi=x<<2]),gOutSum=radiusPlus1*(pg=pixels[yi+1]),bOutSum=radiusPlus1*(pb=pixels[yi+2]),rSum+=sumFactor*pr,gSum+=sumFactor*pg,bSum+=sumFactor*pb,stack=stackStart,i=0;i<radiusPlus1;i++)stack.r=pr,stack.g=pg,stack.b=pb,stack=stack.next;for(yp=width,i=1;i<radiusPlus1;i++)rSum+=(stack.r=pr=pixels[yi=yp+x<<2])*(rbs=radiusPlus1-i),gSum+=(stack.g=pg=pixels[yi+1])*rbs,bSum+=(stack.b=pb=pixels[yi+2])*rbs,rInSum+=pr,gInSum+=pg,bInSum+=pb,stack=stack.next,i<height-1&&(yp+=width);for(yi=x,stackIn=stackStart,stackOut=stackEnd,y=0;y<height;y++)pixels[p=yi<<2]=rSum*mulSum>>shgSum,pixels[p+1]=gSum*mulSum>>shgSum,pixels[p+2]=bSum*mulSum>>shgSum,rSum-=rOutSum,gSum-=gOutSum,bSum-=bOutSum,rOutSum-=stackIn.r,gOutSum-=stackIn.g,bOutSum-=stackIn.b,p=x+((p=y+radiusPlus1)<height-1?p:height-1)*width<<2,rSum+=rInSum+=stackIn.r=pixels[p],gSum+=gInSum+=stackIn.g=pixels[p+1],bSum+=bInSum+=stackIn.b=pixels[p+2],stackIn=stackIn.next,rOutSum+=pr=stackOut.r,gOutSum+=pg=stackOut.g,bOutSum+=pb=stackOut.b,rInSum-=pr,gInSum-=pg,bInSum-=pb,stackOut=stackOut.next,yi+=width}context.putImageData(imageData,0,0)},CollisionMatrix.prototype.update=function(drop,forceDelete){if(drop.gid){if(!this.matrix[drop.gmx]||!this.matrix[drop.gmx][drop.gmy])return null;if(this.matrix[drop.gmx][drop.gmy].remove(drop),forceDelete)return null;if(drop.gmx=Math.floor(drop.x/this.resolution),drop.gmy=Math.floor(drop.y/this.resolution),!this.matrix[drop.gmx]||!this.matrix[drop.gmx][drop.gmy])return null;this.matrix[drop.gmx][drop.gmy].add(drop);forceDelete=this.collisions(drop);if(forceDelete&&null!=forceDelete.next)return forceDelete.next}else{if(drop.gid=Math.random().toString(36).substr(2,9),drop.gmx=Math.floor(drop.x/this.resolution),drop.gmy=Math.floor(drop.y/this.resolution),!this.matrix[drop.gmx]||!this.matrix[drop.gmx][drop.gmy])return null;this.matrix[drop.gmx][drop.gmy].add(drop)}return null},CollisionMatrix.prototype.collisions=function(drop){var first=item=new DropItem(null),item=this.addAll(item,drop.gmx-1,drop.gmy+1);return item=this.addAll(item,drop.gmx,drop.gmy+1),this.addAll(item,drop.gmx+1,drop.gmy+1),first},CollisionMatrix.prototype.addAll=function(to,x,y){if(0<x&&0<y&&x<this.xc&&y<this.yc)for(var items=this.matrix[x][y];null!=items.next;)items=items.next,to.next=new DropItem(items.drop),to=to.next;return to},CollisionMatrix.prototype.remove=function(drop){this.matrix[drop.gmx][drop.gmy].remove(drop)},DropItem.prototype.add=function(drop){for(var item=this;null!=item.next;)item=item.next;item.next=new DropItem(drop)},DropItem.prototype.remove=function(drop){for(var item=this,prevItem=null;null!=item.next;)(item=(prevItem=item).next).drop.gid===drop.gid&&(prevItem.next=item.next)},((t,e)=>{"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CircleType=e():t.CircleType=e()})(this,function(){return t=[function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;e.default=function(t){return t*n}},function(t,e,i){i=i(2),i=i&&i.__esModule?i:{default:i};t.exports=i.default},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=(()=>{function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}})(),a=n(i(3)),f=n(i(4)),c=n(i(5)),h=n(i(6)),v=n(i(7)),p=Math.PI,m=Math.max,y=Math.min,i=(()=>{function t(e){((t,e)=>{if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.element=e,this.originalHTML=this.element.innerHTML;var i=document.createElement("div"),e=(i.setAttribute("aria-label",e.innerText),i.style.position="relative",this.container=i,this._letters=(0,f.default)(e),this._letters.forEach(function(t){return i.appendChild(t)}),this.element.innerHTML="",this.element.appendChild(i),window.getComputedStyle(this.element)),o=e.fontSize,e=e.lineHeight,o=(this._fontSize=parseFloat(o),this._lineHeight=parseFloat(e)||this._fontSize,this._metrics=this._letters.map(a.default),this._metrics.reduce(function(t,e){return t+e.width},0));this._minRadius=o/p/2+this._lineHeight,this._dir=1,this._forceWidth=!1,this._forceHeight=!0,this._radius=this._minRadius,this._invalidate()}return o(t,[{key:"radius",value:function(t){return void 0!==t?(this._radius=m(this._minRadius,t),this._invalidate(),this):this._radius}},{key:"dir",value:function(t){return void 0!==t?(this._dir=t,this._invalidate(),this):this._dir}},{key:"forceWidth",value:function(t){return void 0!==t?(this._forceWidth=t,this._invalidate(),this):this._forceWidth}},{key:"forceHeight",value:function(t){return void 0!==t?(this._forceHeight=t,this._invalidate(),this):this._forceHeight}},{key:"refresh",value:function(){return this._invalidate()}},{key:"destroy",value:function(){return this.element.innerHTML=this.originalHTML,this}},{key:"_invalidate",value:function(){var t=this;return cancelAnimationFrame(this._raf),this._raf=requestAnimationFrame(function(){t._layout()}),this}},{key:"_layout",value:function(){var t=this,e=this._radius,i=this._dir,r="center "+(-1===i?-e+this._lineHeight:e)/this._fontSize+"em",o=e-this._lineHeight,u=(0,v.default)(this._metrics,o),a=u.rotations,s=u.Î¸;return this._letters.forEach(function(e,n){var e=e.style,u=(-.5*s+a[n])*i,n="translateX("+-.5*t._metrics[n].width/t._fontSize+"em) rotate("+u+"deg)";e.position="absolute",e.bottom=-1===i?0:"auto",e.left="50%",e.transform=n,e.transformOrigin=r,e.webkitTransform=n,e.webkitTransformOrigin=r}),this._forceHeight&&(u=180<s?(0,c.default)(e,s):(0,c.default)(o,s)+this._lineHeight,this.container.style.height=u/this._fontSize+"em"),this._forceWidth&&(o=(0,h.default)(e,y(180,s)),this.container.style.width=o/this._fontSize+"em"),this}}]),t})();e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t.getBoundingClientRect();return{height:t.height,left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var i=document.createElement(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"span");return t.innerText.trim().split("").map(function(t){var e=i.cloneNode();return e.insertAdjacentHTML("afterbegin"," "===t?"&nbsp;":t),e})}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var i=i(0),r=i&&i.__esModule?i:{default:i};e.default=function(t,e){return t*(1-Math.cos((0,r.default)(e/2)))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var i=i(0),r=i&&i.__esModule?i:{default:i};e.default=function(t,e){return 2*t*Math.sin((0,r.default)(e/2))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var i=i(8),r=i&&i.__esModule?i:{default:i};e.default=function(t,e){return t.reduce(function(t,i){i=i.width,i=(0,r.default)(i/e);return{"Î¸":t.Î¸+i,rotations:t.rotations.concat([t.Î¸+i/2])}},{"Î¸":0,rotations:[]})}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=180/Math.PI;e.default=function(t){return t*n}}],i={},e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1);function e(n){var r;return(i[n]||(r=i[n]={i:n,l:!1,exports:{}},t[n].call(r.exports,r,r.exports,e),r.l=!0,r)).exports}var t,i}),window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function E(a,b){return typeof a===b}function F(a,b){return!!~(""+a).indexOf(b)}function G(a,b){for(var d in a){d=a[d];if(!F(d,"-")&&j[d]!==c)return"pfx"!=b||d}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return!1===d?a[e]:E(f,"function")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return E(b,"string")||void 0===b?G(e,b):H((a+" "+q.join(d+" ")+d).split(" "),b,c)}function y(a,c,d,e){var f,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)(j=b.createElement("div")).id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),f=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!f}var x,K,e={},g=b.documentElement,h="modernizr",j=b.createElement(h).style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r_svg="http://www.w3.org/2000/svg",s={},t={},u={},v=[],w=v.slice,z=(()=>{var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(d,e){e=e||b.createElement(a[d]||"div");var f=(d="on"+d)in e;return f||(e=e.setAttribute?e:b.createElement("div")).setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),void 0!==e[d]&&(e[d]=c),e.removeAttribute(d)),e=null,f}})(),A={}.hasOwnProperty,B=void 0!==A&&void 0!==A.call?function(a,b){return A.call(a,b)}:function(a,b){return b in a&&void 0===a.constructor.prototype[b]};for(K in Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=w.call(arguments,1),e=function(){var a,g;return this instanceof e?((a=function(){}).prototype=c.prototype,a=new a,g=c.apply(a,d.concat(w.call(arguments))),Object(g)===g?g:a):c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return I("flexWrap")},s.flexboxlegacy=function(){return I("boxDirection")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!I("indexedDB",a)},s.hashchange=function(){return z("hashchange",a)&&(b.documentMode===c||7<b.documentMode)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},s.hsla=function(){return C("background-color:hsla(120,40%,100%,.5)"),F(j.backgroundColor,"rgba")||F(j.backgroundColor,"hsla")},s.multiplebgs=function(){return C("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return I("backgroundSize")},s.borderimage=function(){return I("borderImage")},s.borderradius=function(){return I("borderRadius")},s.boxshadow=function(){return I("boxShadow")},s.textshadow=function(){return""===b.createElement("div").style.textShadow},s.opacity=function(){return C(n.join("opacity:.55;")+""),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return I("animationName")},s.csscolumns=function(){return I("columnCount")},s.cssgradients=function(){var a="background-image:";return C((a+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+a)+n.join("linear-gradient(left top,#9f9, white);"+a)).slice(0,-a.length)),F(j.backgroundImage,"gradient")},s.cssreflections=function(){return I("boxReflect")},s.csstransforms=function(){return!!I("transform")},s.csstransforms3d=function(){var a=!!I("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},s.csstransitions=function(){return I("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),e=e.sheet||e.styleSheet,e=e?e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"":"";a=/src/i.test(e)&&0===e.indexOf(d.split(" ")[0])}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=3<=b.offsetHeight}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&((c=new Boolean(c)).ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&((c=new Boolean(c)).ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r_svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r_svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r_svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r_svg,"clipPath")))},s)B(s,K)&&(x=K.toLowerCase(),e[x]=s[K](),v.push((e[x]?"":"no-")+x));return e.input||(e.input=(c=>{for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=(a=>{for(var e,f,h,d=0,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),(e="text"!==k.type)&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),e=(h=b.defaultView).getComputedStyle&&"textfield"!==h.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,g.removeChild(k)):/^(search|tel)$/.test(f)||(e=/^(url|email)$/.test(f)?k.checkValidity&&!1===k.checkValidity():k.value!=l)),t[a[d]]=!!e;return t})("search tel url email datetime date month week time datetime-local number range color".split(" "))),e.addTest=function(a,b){if("object"==typeof a)for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,g.className+=" "+(b?"":"no-")+a,e[a]=b}return e},C(""),k=null,((a,b)=>{function m(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){return c=c||b,k?c.createElement(a):!(c=(d=d||n(c)).cache[a]?d.cache[a].cloneNode():f.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a)).canHaveChildren||e.test(a)||c.tagUrn?c:d.frag.appendChild(c)}function r(a){var c=n(a=a||b);return!s.shivCSS||g||c.hasCSS||(c.hasCSS=!!((a,b)=>{var c=a.createElement("p"),a=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",a.insertBefore(c.lastChild,a.firstChild)})(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||((a,b)=>{b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)})(a,c),a}var g,k,d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",i=0,j={},s=((()=>{try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=1==a.childNodes.length||(()=>{b.createElement("a");var a=b.createDocumentFragment();return void 0===a.cloneNode||void 0===a.createDocumentFragment||void 0===a.createElement})()}catch(c){k=g=!0}})(),{elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==d.shivCSS,supportsUnknownElements:k,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:r,createElement:o,createDocumentFragment:function(a,c){if(a=a||b,k)return a.createDocumentFragment();for(var d=(c=c||n(a)).frag.cloneNode(),e=0,f=m(),g=f.length;e<g;e++)d.createElement(f[e]);return d}});a.html5=s,r(b)})(this,b),e._version="2.7.1",e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=y,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+v.join(" ")),e}(this,this.document),((a,b)=>{function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,q||h(),l.onload=l.onreadystatechange=null,b))for(var d in"img"!=a&&m(function(){t.removeChild(l)},50),y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var A,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},B=function(a){function g(a,e,f,g,h){var i=(a=>{for(var e,g,a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c})(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e=e&&(d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":void 0,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))g(a,j=c?j:function(){var a=[].slice.call(arguments);k.apply(this,a),l()},b,0,h);else if(Object(a)===a)for(n in m=(()=>{var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b})(),a)a.hasOwnProperty(n)&&(c||--m||(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=(a=>function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()})(k[n])),g(a[n],j,b,n,h))}else c||l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)e(j=a[i])?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)};B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script"),e=e||B.errorTimeout;for(o in k.src=a,d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||c(l=1)},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,c=i?h:c||f;for(j in(e=b.createElement("link")).href=a,e.rel="stylesheet",e.type="text/css",d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}})(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},jsPlumbUtil={isArray:function(b){return"[object Array]"===Object.prototype.toString.call(b)},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return"[object Object]"===Object.prototype.toString.call(a)},isDate:function(a){return"[object Date]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},clone:function(d){if(this.isString(d))return new String(d);if(this.isBoolean(d))return new Boolean(d);if(this.isDate(d))return new Date(d.getTime());if(!this.isFunction(d)){if(this.isArray(d)){for(var c=[],e=0;e<d.length;e++)c.push(this.clone(d[e]));return c}if(this.isObject(d)){c={};for(e in d)c[e]=this.clone(d[e]);return c}}return d},merge:function(e,d){var h,k=this.clone(e);for(h in d)if(null==k[h]||this.isString(d[h])||this.isBoolean(d[h]))k[h]=d[h];else if(this.isArray(d[h])&&this.isArray(k[h])){var f=[];f.push.apply(f,k[h]),f.push.apply(f,d[h]),k[h]=f}else if(this.isObject(k[h])&&this.isObject(d[h]))for(var g in d[h])k[h][g]=d[h][g];return k},convertStyle:function(b,a){var c,d,g;return"transparent"===b?b:(c=function(h){return(h=>1==h.length?"0"+h:h)(Number(h).toString(16))},(g=b).match(d=/(rgb[a]?\()(.*)(\))/)&&(g="#"+c((b=b.match(d)[2].split(","))[0])+c(b[1])+c(b[2]),a||4!=b.length||(g+=c(b[3]))),g)},gradient:function(b,a){return b=jsPlumbUtil.isArray(b)?b:[b.x,b.y],((a=jsPlumbUtil.isArray(a)?a:[a.x,a.y])[1]-b[1])/(a[0]-b[0])},normal:function(b,a){return-1/jsPlumbUtil.gradient(b,a)},lineLength:function(b,a){return b=jsPlumbUtil.isArray(b)?b:[b.x,b.y],a=jsPlumbUtil.isArray(a)?a:[a.x,a.y],Math.sqrt(Math.pow(a[1]-b[1],2)+Math.pow(a[0]-b[0],2))},segment:function(b,a){return b=jsPlumbUtil.isArray(b)?b:[b.x,b.y],(a=jsPlumbUtil.isArray(a)?a:[a.x,a.y])[0]>b[0]?a[1]>b[1]?2:1:a[1]>b[1]?3:4},intersects:function(f,e){var c=f.x,a=f.x+f.w,k=f.y,f=f.y+f.h,d=e.x,b=e.x+e.w,i=e.y,e=e.y+e.h;return c<=d&&d<=a&&k<=i&&i<=f||c<=b&&b<=a&&k<=i&&i<=f||c<=d&&d<=a&&k<=e&&e<=f||c<=b&&d<=a&&k<=e&&e<=f||d<=c&&c<=b&&i<=k&&k<=e||d<=a&&a<=b&&i<=k&&k<=e||d<=c&&c<=b&&i<=f&&f<=e||d<=a&&c<=b&&i<=f&&f<=e},segmentMultipliers:[null,[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(a,e,b){var d=jsPlumbUtil.gradient(a,e),e=jsPlumbUtil.segment(a,e),e=(0<b?jsPlumbUtil.segmentMultipliers:jsPlumbUtil.inverseSegmentMultipliers)[e],d=Math.atan(d),f=Math.abs(b*Math.sin(d))*e[1],b=Math.abs(b*Math.cos(d))*e[0];return{x:a.x+b,y:a.y+f}},perpendicularLineTo:function(c,d,e){var c=jsPlumbUtil.gradient(c,d),c=Math.atan(-1/c),g=e/2*Math.sin(c),e=e/2*Math.cos(c);return[{x:d.x+e,y:d.y+g},{x:d.x-e,y:d.y-g}]},findWithFunction:function(b,d){if(b)for(var c=0;c<b.length;c++)if(d(b[c]))return c;return-1},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(c){return c==b})},removeWithFunction:function(c,d){d=jsPlumbUtil.findWithFunction(c,d);return-1<d&&c.splice(d,1),-1!=d},remove:function(b,c){c=jsPlumbUtil.indexOf(b,c);return-1<c&&b.splice(c,1),-1!=c},addWithFunction:function(c,b,a){-1==jsPlumbUtil.findWithFunction(c,a)&&c.push(b)},addToList:function(d,b,c){var a=d[b];return null==a&&(d[b]=a=[]),a.push(c),a},EventGenerator:function(){var c={},b=this,a=["ready"];this.bind=function(d,e){return jsPlumbUtil.addToList(c,d,e),b},this.fire=function(g,h,d){if(c[g])for(var f=0;f<c[g].length;f++)if(-1!=jsPlumbUtil.findWithFunction(a,function(i){return i===g}))c[g][f](h,d);else try{c[g][f](h,d)}catch(k){jsPlumbUtil.log("jsPlumb: fire failed for event "+g+" : "+k)}return b},this.unbind=function(d){return d?delete c[d]:c={},b},this.getListener=function(d){return c[d]}},logEnabled:!0,log:function(){if(jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{var b=arguments[arguments.length-1];console.log(b)}catch(a){}},group:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.group(a)},groupEnd:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.groupEnd(a)},time:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.time(a)},timeEnd:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.timeEnd(a)}},(()=>{function d(){var f,e;return null==d.vml&&((f=document.body.appendChild(document.createElement("div"))).innerHTML='<v:shape id="vml_flag1" adj="1" />',(e=f.firstChild).style.behavior="url(#default#VML)",d.vml=!e||"object"==typeof e.adj,f.parentNode.removeChild(f)),d.vml}function c(i){var h={},g=[],f={},e={};this.register=function(n){var m=jsPlumb.CurrentLibrary,p=(n=m.getElementObject(n),i.getId(n)),l=m.getDOMElement(n),k=m.getOffset(n),o=(h[p]||(h[p]=n,g.push(n),f[p]={}),function(u,q){if(u)for(var v,t,r=0;r<u.childNodes.length;r++)3!=u.childNodes[r].nodeType&&(t=m.getElementObject(u.childNodes[r]),(v=i.getId(t,null,!0))&&e[v]&&0<e[v]&&(t=m.getOffset(t),f[p][v]={id:v,offset:{left:t.left-k.left,top:t.top-k.top}}),o(u.childNodes[r]))});o(l)},this.updateOffsets=function(o){var r=jsPlumb.CurrentLibrary,o=r.getElementObject(o),l=i.getId(o),n=f[l],k=r.getOffset(o);if(n)for(var q in n){var s=r.getElementObject(q),s=r.getOffset(s);f[l][q]={id:q,offset:{left:s.left-k.left,top:s.top-k.top}}}},this.endpointAdded=function(m){var r=jsPlumb.CurrentLibrary,u=document.body,k=i.getId(m),l=r.getDOMElement(m).parentNode;for(e[k]=e[k]?e[k]+1:1;l!=u;){var q=i.getId(l,null,!0);if(q&&h[q]){var v,s=r.getElementObject(l),s=r.getOffset(s);null==f[q][k]&&(v=jsPlumb.CurrentLibrary.getOffset(m),f[q][k]={id:k,offset:{left:v.left-s.left,top:v.top-s.top}});break}l=l.parentNode}},this.endpointDeleted=function(l){if(e[l.elementId]&&(e[l.elementId]--,e[l.elementId]<=0))for(var k in f)delete f[k][l.elementId]},this.getElementsForDraggable=function(k){return f[k]},this.reset=function(){h={},g=[],f={},e={}}}var b=!!document.createElement("canvas").getContext,a=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}}),window.jsPlumbAdapter={headless:!1,appendToRoot:function(e){document.body.appendChild(e)},getRenderModes:function(){return["canvas","svg","vml"]},isRenderModeAvailable:function(e){return{canvas:b,svg:a,vml:d()}[e]},getDragManager:function(e){return new c(e)},setRenderMode:function(i){var h,f,e,g;return i&&(i=i.toLowerCase(),f=this.isRenderModeAvailable("canvas"),e=this.isRenderModeAvailable("svg"),g=this.isRenderModeAvailable("vml"),"svg"===i?e?h="svg":f?h="canvas":g&&(h="vml"):"canvas"===i&&f?h="canvas":g&&(h="vml")),h}}})(),(()=>{function c(H,I){return n.CurrentLibrary.getAttribute(C(H),I)}function d(I,J,H){n.CurrentLibrary.setAttribute(C(I),J,H)}function s(I,H){return I=n.CurrentLibrary.getOffset(C(I)),null!=H?(H=H.getZoom(),{left:I.left/H,top:I.top/H}):I}function a(H){return n.CurrentLibrary.getSize(C(H))}function x(M){function K(X){var V=null;if(l(X)){var U=X[0],W=n.extend({component:S,_jsPlumb:S._jsPlumb},X[1]);if(3==X.length&&n.extend(W,X[2]),V=new n.Overlays[S._jsPlumb.getRenderMode()][U](W),W.events)for(var T in W.events)V.bind(T,W.events[T])}else V=X.constructor==String?new n.Overlays[S._jsPlumb.getRenderMode()][X]({component:S,_jsPlumb:S._jsPlumb}):X;S.overlays.push(V)}B.apply(this,arguments);var S=this,I=(this.overlays=[],(X=>{for(var Y,T=S.defaultOverlayKeys||[],W=(W=X.overlays)||[],V=0;V<T.length;V++)W.unshift.apply(W,(Y=T[V],S._jsPlumb.Defaults[Y]||n.Defaults[Y]||[]));return W})(M));if(I)for(var O=0;O<I.length;O++)K(I[O]);function H(V){for(var T=-1,U=0;U<S.overlays.length;U++)if(V===S.overlays[U].id){T=U;break}return T}function R(V){var T={cssClass:V.cssClass,labelStyle:this.labelStyle,id:J,component:S,_jsPlumb:S._jsPlumb},T=n.extend(T,V);return new n.Overlays[S._jsPlumb.getRenderMode()].Label(T)}this.addOverlay=function(T,U){K(T),U||S.repaint()},this.getOverlay=function(U){U=H(U);return 0<=U?S.overlays[U]:null},this.getOverlays=function(){return S.overlays},this.hideOverlay=function(U){U=S.getOverlay(U);U&&U.hide()},this.hideOverlays=function(){for(var T=0;T<S.overlays.length;T++)S.overlays[T].hide()},this.showOverlay=function(U){U=S.getOverlay(U);U&&U.show()},this.showOverlays=function(){for(var T=0;T<S.overlays.length;T++)S.overlays[T].show()},this.removeAllOverlays=function(){for(var T=0;T<S.overlays.length;T++)S.overlays[T].cleanup&&S.overlays[T].cleanup();S.overlays.splice(0,S.overlays.length),S.repaint()},this.removeOverlay=function(U){var V,U=H(U);-1!=U&&((V=S.overlays[U]).cleanup&&V.cleanup(),S.overlays.splice(U,1))},this.removeOverlays=function(){for(var T=0;T<arguments.length;T++)S.removeOverlay(arguments[T])};var P,Q,J="__label",N=(M.label&&(P=M.labelLocation||S.defaultLabelLocation||.5,Q=M.labelStyle||S._jsPlumb.Defaults.LabelStyle||n.Defaults.LabelStyle,this.overlays.push(R({label:M.label,location:P,labelStyle:Q}))),this.setLabel=function(T){var U=S.getOverlay(J);U?T.constructor==String||T.constructor==Function?U.setLabel(T):(T.label&&U.setLabel(T.label),T.location&&U.setLocation(T.location)):(T=T.constructor==String||T.constructor==Function?{label:T}:T,U=R(T),this.overlays.push(U)),S._jsPlumb.isSuspendDrawing()||S.repaint()},this.getLabel=function(){var T=S.getOverlay(J);return null!=T?T.getLabel():null},this.getLabelOverlay=function(){return S.getOverlay(J)},this.applyType);this.applyType=function(U){if(N(U),S.removeAllOverlays(),U.overlays)for(var T=0;T<U.overlays.length;T++)S.addOverlay(U.overlays[T],!0)}}function D(J,H,I){J.bind("click",function(K,L){H.fire("click",H,L)}),J.bind("dblclick",function(K,L){H.fire("dblclick",H,L)}),J.bind("contextmenu",function(K,L){H.fire("contextmenu",H,L)}),J.bind("mouseenter",function(K,L){H.isHover()||(I(!0),H.fire("mouseenter",H,L))}),J.bind("mouseexit",function(K,L){H.isHover()&&(I(!1),H.fire("mouseexit",H,L))})}function w(I){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",ConnectorZIndex:null,Container:null,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},I&&n.extend(this.Defaults,I),this.logEnabled=this.Defaults.LogEnabled;var aD,a4={},al={},br=(this.registerConnectionType=function(bA,bz){a4[bA]=n.extend({},bz)},this.registerConnectionTypes=function(bA){for(var bz in bA)a4[bz]=n.extend({},bA[bz])},this.registerEndpointType=function(bA,bz){al[bA]=n.extend({},bz)},this.registerEndpointTypes=function(bA){for(var bz in bA)al[bz]=n.extend({},bA[bz])},this.getType=function(bA,bz){return("connection"===bz?a4:al)[bA]},jsPlumbUtil.EventGenerator.apply(this),this),aO=(()=>{var H=e+1;return e++,H})(),aR=br.bind,aE={},ad=1;for(aD in this.setZoom=function(bA,bz){ad=bA,bz&&br.repaintEverything()},this.getZoom=function(){return ad},this.Defaults)aE[aD]=this.Defaults[aD];function bg(bD,bz,bG){var bE,bF,bA,bC;jsPlumbAdapter.headless||(bE=n.CurrentLibrary,(bz=null!=bz&&bz)&&bE.isDragSupported(bD)&&!bE.isAlreadyDraggable(bD)&&(bG=bG||br.Defaults.DragOptions||n.Defaults.DragOptions,bG=n.extend({},bG),bF=bE.dragEvents.drag,bA=bE.dragEvents.stop,bG[bC=bE.dragEvents.start]=ap(bG[bC],function(){br.setHoverSuspended(!0)}),bG[bF]=ap(bG[bF],function(){var H,bJ=bE.getUIPosition(arguments,br.getZoom());be(bD,bJ),bJ=bD,H="jsPlumb_dragged",n.CurrentLibrary.addClass(C(bJ),H)}),bG[bA]=ap(bG[bA],function(){var H,bJ=bE.getUIPosition(arguments,br.getZoom());be(bD,bJ),bJ=bD,H="jsPlumb_dragged",n.CurrentLibrary.removeClass(C(bJ),H),br.setHoverSuspended(!1)}),bC=H(bD),bq[bC]=!0,bz=bq[bC],bG.disabled=null!=bz&&!bz,bE.initDraggable(bD,bG,!1),br.dragManager.register(bD)))}function a7(bB,bC,bz){bC="block"===bC;var bA=null,bD=(bz&&(bA=bC?function(bE){bE.setVisible(!0,!0,!0)}:function(bE){bE.setVisible(!1,!0,!0)}),c(bB,"id"));V(bD,function(bF){var bE;bC&&bz?(bE=bF.sourceId===bD?1:0,bF.endpoints[bE].isVisible()&&bF.setVisible(!0)):bF.setVisible(bC)},bA)}function aS(bz,bB){V(bz,function(bD){var bC=bD.isVisible();bD.setVisible(!bC)},bB?function(bC){var bD=bC.isVisible();bC.setVisible(!bD)}:null)}function bv(bz,bC){var bB=[];if(bz)if("string"==typeof bz){if("*"===bz)return bz;bB.push(bz)}else if(bC)bB=bz;else for(var bA=0;bA<bz.length;bA++)bB.push(H(C(bz[bA])));return bB}function aI(bB,bA,bz){return"*"===bB||(0<bB.length?-1!=G(bB,bA):!bz)}function aY(bz){return function(){return jsPlumbAdapter.isRenderModeAvailable(bz)}}function ac(bz,bA){bz.paintStyle=bz.paintStyle||br.Defaults.EndpointStyles[bA]||br.Defaults.EndpointStyle||n.Defaults.EndpointStyles[bA]||n.Defaults.EndpointStyle,bz.hoverPaintStyle=bz.hoverPaintStyle||br.Defaults.EndpointHoverStyles[bA]||br.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyles[bA]||n.Defaults.EndpointHoverStyle,bz.anchor=bz.anchor||br.Defaults.Anchors[bA]||br.Defaults.Anchor||n.Defaults.Anchors[bA]||n.Defaults.Anchor,bz.endpoint=bz.endpoint||br.Defaults.Endpoints[bA]||br.Defaults.Endpoint||n.Defaults.Endpoints[bA]||n.Defaults.Endpoint}function aP(bD,bC,bE,bz){var bF,bA="source"==bD?ae:am;if(z(bC))bA[bC]=bz?!bA[bC]:bE;else if(bC.length){bC=aL(bC);for(var bB=0;bB<bC.length;bB++){_el=n.CurrentLibrary.getElementObject(bC[bB]);bA[bF=H(_el)]=bz?!bA[bF]:bE}}return br}function aa(bz){return function(bB,bA){return!1===(bz?bB[0][0]<bA[0][0]||bB[0][1]>bA[0][1]:bB[0][0]>bA[0][0]||bB[0][1]>bA[0][1])?-1:1}}this.bind=function(bA,bz){"ready"===bA&&K?bz():aR.apply(br,[bA,bz])},br.importDefaults=function(bA){for(var bz in bA)br.Defaults[bz]=bA[bz]};var K=!(br.restoreDefaults=function(){br.Defaults=n.extend({},aE)}),a0={},aV={},aW={},aj={},bu={},bk={},bq={},ag=[],R=this.Defaults.Scope,Y=null,W=function(bC,bA,bB){var bz=bC[bA];return null==bz&&(bC[bA]=bz=[]),bz.push(bB),bz},aX=function(bA,bz){br.Defaults.Container?n.CurrentLibrary.appendElement(bA,br.Defaults.Container):bz?n.CurrentLibrary.appendElement(bA,bz):jsPlumbAdapter.appendToRoot(bA)},aF=1,an=function(){return""+aF++},aL=function(bz){return bz._nodes||bz},be=function(bB,bD,bC){if(!jsPlumbAdapter.headless&&!a9){var bB=c(bB,"id"),bz=br.dragManager.getElementsForDraggable(bB);if(null==bC&&(bC=p()),br.anchorManager.redraw(bB,bD,bC),bz)for(var bA in bz)br.anchorManager.redraw(bz[bA].id,bD,bC,bz[bA].offset)}},aJ=function(bA,bC){var bD=null;if(l(bA))for(var bD=[],bz=0;bz<bA.length;bz++){var bB=C(bA[bz]),bE=c(bB,"id");bD.push(bC(bB,bE))}else bD=bC(bB=C(bA),bE=c(bB,"id"));return bD},ax=function(bz){return aW[bz]},af=function(bD){var bC=br.Defaults.ConnectionType||br.getDefaultConnectionType(),bB=br.Defaults.EndpointType||ah,bA=n.CurrentLibrary.getParent,bB=(bD.container?bD.parent=bD.container:bD.sourceEndpoint?bD.parent=bD.sourceEndpoint.parent:bD.source.constructor==bB?bD.parent=bD.source.parent:bD.parent=bA(bD.source),bD._jsPlumb=br,new bC(bD));return bB.id="con_"+an(),bw("click","click",bB),bw("dblclick","dblclick",bB),bw("contextmenu","contextmenu",bB),bB},bx=function(bB,bC,bz){bC=bC||{},bB.suspendedEndpoint||W(a0,bB.scope,bB),bC.doNotFireConnectionEvent||!1===bC.fireEvent||(bC={connection:bB,source:bB.source,target:bB.target,sourceId:bB.sourceId,targetId:bB.targetId,sourceEndpoint:bB.endpoints[0],targetEndpoint:bB.endpoints[1]},br.fire("jsPlumbConnection",bC,bz),br.fire("connection",bC,bz)),br.anchorManager.newConnection(bB),be(bB.source)},bw=function(bz,bA,bB){bB.bind(bz,function(bD,bC){br.fire(bA,bB,bC)})},ay=function(bB){var bz;return bB.container||(bz=n.CurrentLibrary.getTagName(bB.source),bB=n.CurrentLibrary.getParent(bB.source),bz&&"td"===bz.toLowerCase()?n.CurrentLibrary.getParent(bB):bB)},aH=function(bB){var bA=br.Defaults.EndpointType||ah,bA=(bB.parent=ay(bB),bB._jsPlumb=br,new bA(bB));return bA.id="ep_"+an(),bw("click","endpointClick",bA),bw("dblclick","endpointDblClick",bA),bw("contextmenu","contextmenu",bA),jsPlumbAdapter.headless||br.dragManager.endpointAdded(bB.source),bA},V=function(bB,bE,bD){var bz=aV[bB];if(bz&&bz.length)for(var bC=0;bC<bz.length;bC++){for(var bA=0;bA<bz[bC].connections.length;bA++)if(bE(bz[bC].connections[bA]))return;bD&&bD(bz[bC])}},aw=function(bz,bA){null!=bz&&null!=bz.parentNode&&bz.parentNode.removeChild(bz)},aZ=function(bB,bA){for(var bz=0;bz<bB.length;bz++)aw(bB[bz],bA)},X=function(bE){var bB,bC=bE.timestamp,bz=bE.recalc,bD=bE.offset,bE=bE.elId;return a9&&!bC&&(bC=bd),!bz&&bC&&bC===bu[bE]||(bz||!bD?null!=(bB=C(bE))&&(ag[bE]=a(bB),aj[bE]=s(bB,br),bu[bE]=bC):(aj[bE]=bD,null==ag[bE]&&null!=(bB=C(bE))&&(ag[bE]=a(bB))),aj[bE]&&!aj[bE].right&&(aj[bE].right=aj[bE].left+ag[bE][0],aj[bE].bottom=aj[bE].top+ag[bE][1],aj[bE].width=ag[bE][0],aj[bE].height=ag[bE][1],aj[bE].centerx=aj[bE].left+aj[bE].width/2,aj[bE].centery=aj[bE].top+aj[bE].height/2)),aj[bE]},aQ=function(bz){return{o:aj[bz]||X({elId:bz}),s:ag[bz]}},H=function(bz,bA,bC){var bz=C(bz),bD=c(bz,"id");return bD&&"undefined"!=bD||(2==arguments.length&&null!=bA?bD=bA:1!=arguments.length&&(3!=arguments.length||bC)||(bD="jsPlumb_"+aO+"_"+an()),bC)||d(bz,"id",bD),bD},ap=function(bB,bz,bA){return bB=bB||function(){},bz=bz||function(){},function(){var bC=null;try{bC=bz.apply(this,arguments)}catch(bD){o(br,"jsPlumb function failed : "+bD)}if(null==bA||bC!==bA)try{bB.apply(this,arguments)}catch(bD){o(br,"wrapped function failed : "+bD)}return bC}},ba=(this.connectorClass="_jsPlumb_connector",this.endpointClass="_jsPlumb_endpoint",this.overlayClass="_jsPlumb_overlay",this.Anchors={},this.Connectors={canvas:{},svg:{},vml:{}},this.Endpoints={canvas:{},svg:{},vml:{}},this.Overlays={canvas:{},svg:{},vml:{}},this.addClass=function(bA,bz){return n.CurrentLibrary.addClass(bA,bz)},this.removeClass=function(bA,bz){return n.CurrentLibrary.removeClass(bA,bz)},this.hasClass=function(bA,bz){return n.CurrentLibrary.hasClass(bA,bz)},this.addEndpoint=function(bC,bD,bM){for(var bB=n.extend({},bM=bM||{}),bE=(n.extend(bB,bD),bB.endpoint=bB.endpoint||br.Defaults.Endpoint||n.Defaults.Endpoint,bB.paintStyle=bB.paintStyle||br.Defaults.EndpointStyle||n.Defaults.EndpointStyle,[]),bH=(bC=aL(bC)).length&&bC.constructor!=String?bC:[bC],bF=0;bF<bH.length;bF++){var bK=C(bH[bF]),bA=H(bK),bK=(bB.source=bK,X({elId:bA,timestamp:bd}),aH(bB)),bI=(bB.parentAnchor&&(bK.parentAnchor=bB.parentAnchor),W(aV,bA,bK),aj[bA]),bA=ag[bA],bI={anchorLoc:bK.anchor.compute({xy:[bI.left,bI.top],wh:bA,element:bK,timestamp:bd}),timestamp:bd};a9&&(bI.recalc=!1),bK.paint(bI),bE.push(bK)}return 1==bE.length?bE[0]:bE},this.addEndpoints=function(bD,bA,bz){for(var bC=[],bB=0;bB<bA.length;bB++){var bE=br.addEndpoint(bD,bA[bB],bz);l(bE)?Array.prototype.push.apply(bC,bE):bC.push(bE)}return bC},this.animate=function(bB,bA,bz){var bC=C(bB),bF=c(bB,"id"),bB=n.CurrentLibrary.dragEvents.step,bD=n.CurrentLibrary.dragEvents.complete;(bz=bz||{})[bB]=ap(bz[bB],function(){br.repaint(bF)}),bz[bD]=ap(bz[bD],function(){br.repaint(bF)}),n.CurrentLibrary.animate(bC,bA,bz)},this.checkCondition=function(bB,bD){var bz=br.getListener(bB),bC=!0;if(bz&&0<bz.length)try{for(var bA=0;bA<bz.length;bA++)bC=bC&&bz[bA](bD)}catch(bE){o(br,"cannot check condition ["+bB+"]"+bE)}return bC},this.checkASyncCondition=function(bB,bD,bC,bA){var bz=br.getListener(bB);if(bz&&0<bz.length)try{bz[0](bD,bC,bA)}catch(bE){o(br,"cannot asynchronously check condition ["+bB+"]"+bE)}},this.connect=function(bC,bA){var bB,bC=((bF,bA)=>{var bz=n.extend({sourceIsNew:!0,targetIsNew:!0},bF);if(bA&&n.extend(bz,bA),bz.source&&bz.source.endpoint&&(bz.sourceEndpoint=bz.source),bz.source&&bz.target.endpoint&&(bz.targetEndpoint=bz.target),bF.uuids&&(bz.sourceEndpoint=ax(bF.uuids[0]),bz.targetEndpoint=ax(bF.uuids[1])),bz.sourceEndpoint&&bz.sourceEndpoint.isFull())o(br,"could not add connection; source endpoint is full");else{if(!bz.targetEndpoint||!bz.targetEndpoint.isFull()){if(bz.sourceEndpoint&&(bz.sourceIsNew=!1),bz.targetEndpoint&&(bz.targetIsNew=!1),!bz.type&&bz.sourceEndpoint&&(bz.type=bz.sourceEndpoint.connectionType),bz.sourceEndpoint&&bz.sourceEndpoint.connectorOverlays){bz.overlays=bz.overlays||[];for(var bD=0;bD<bz.sourceEndpoint.connectorOverlays.length;bD++)bz.overlays.push(bz.sourceEndpoint.connectorOverlays[bD])}if(bz.tooltip=bF.tooltip,!bz.tooltip&&bz.sourceEndpoint&&bz.sourceEndpoint.connectorTooltip&&(bz.tooltip=bz.sourceEndpoint.connectorTooltip),bz.target&&!bz.target.endpoint&&!bz.targetEndpoint&&!bz.newConnection){var bE=H(bz.target),bG=a1[bE],bB=aK[bE];if(bG){if(!am[bE])return;var bC=null!=bB?bB:br.addEndpoint(bz.target,bG);bl[bE]&&(aK[bE]=bC),(bz.targetEndpoint=bC)._makeTargetCreator=!0,bz.targetIsNew=!0}}if(bz.source&&!bz.source.endpoint&&!bz.sourceEndpoint&&!bz.newConnection){bE=H(bz.source),bG=aB[bE],bB=a6[bE];if(bG){if(!ae[bE])return;bC=null!=bB?bB:br.addEndpoint(bz.source,bG);bc[bE]&&(a6[bE]=bC),bz.sourceEndpoint=bC,bz.sourceIsNew=!0}}return bz}o(br,"could not add connection; target endpoint is full")}})(bC,bA);return bC&&(null==bC.deleteEndpointsOnDetach&&(bC.deleteEndpointsOnDetach=!0),bB=af(bC),bx(bB,bC)),bB},this.deleteEndpoint=function(bA){var bF="string"==typeof bA?aW[bA]:bA;if(bF){var bE,bA=bF.getUuid();for(bE in bA&&(aW[bA]=null),bF.detachAll(),bF.endpoint.cleanup&&bF.endpoint.cleanup(),aZ(bF.endpoint.getDisplayElements()),br.anchorManager.deleteEndpoint(bF),aV){var bz=aV[bE];if(bz){for(var bD=[],bB=0;bB<bz.length;bB++)bz[bB]!=bF&&bD.push(bz[bB]);aV[bE]=bD}}jsPlumbAdapter.headless||br.dragManager.endpointDeleted(bF)}},this.deleteEveryEndpoint=function(){for(var bB in br.setSuspendDrawing(!0),aV){var bz=aV[bB];if(bz&&bz.length)for(var bA=0;bA<bz.length;bA++)br.deleteEndpoint(bz[bA])}aV={},aW={},br.setSuspendDrawing(!1,!0)},function(bC,bE,bz){var bB=br.Defaults.ConnectionType||br.getDefaultConnectionType(),bB=bC.constructor==bB?{connection:bC,source:bC.source,target:bC.target,sourceId:bC.sourceId,targetId:bC.targetId,sourceEndpoint:bC.endpoints[0],targetEndpoint:bC.endpoints[1]}:bC;bE&&(br.fire("jsPlumbConnectionDetached",bB,bz),br.fire("connectionDetached",bB,bz)),br.anchorManager.connectionDetached(bB)}),a8=function(bz){br.fire("connectionDrag",bz)},aT=function(bz){br.fire("connectionDragStop",bz)},bt=(this.detach=function(){var bC,bH,bD,bB,bG,bF;0!=arguments.length&&(bD=br.Defaults.ConnectionType||br.getDefaultConnectionType(),bD=arguments[0].constructor==bD,bH=!1!==(bC=2==arguments.length&&bD?arguments[1]||{}:arguments[0]).fireEvent,bB=bC.forceDetach,(bD=bD?arguments[0]:bC.connection)?(bB||bD.isDetachAllowed(bD)&&bD.endpoints[0].isDetachAllowed(bD)&&bD.endpoints[1].isDetachAllowed(bD))&&(bB||br.checkCondition("beforeDetach",bD))&&bD.endpoints[0].detach(bD,!1,!0,bH):(bB=n.extend({},bC)).uuids?ax(bB.uuids[0]).detachFrom(ax(bB.uuids[1]),bH):bB.sourceEndpoint&&bB.targetEndpoint?bB.sourceEndpoint.detachFrom(bB.targetEndpoint):(bG=H(bB.source),bF=H(bB.target),V(bG,function(bI){(bI.sourceId==bG&&bI.targetId==bF||bI.targetId==bG&&bI.sourceId==bF)&&br.checkCondition("beforeDetach",bI)&&bI.endpoints[0].detach(bI,!1,!0,bH)})))},this.detachAllConnections=function(bB,bC){bC=bC||{},bB=C(bB);var bB=c(bB,"id"),bz=aV[bB];if(bz&&bz.length)for(var bA=0;bA<bz.length;bA++)bz[bA].detachAll(bC.fireEvent)},this.detachEveryConnection=function(bB){for(var bC in bB=bB||{},aV){var bz=aV[bC];if(bz&&bz.length)for(var bA=0;bA<bz.length;bA++)bz[bA].detachAll(bB.fireEvent)}a0={}},this.draggable=function(bB,bz){if("object"==typeof bB&&bB.length)for(var bA=0;bA<bB.length;bA++)(bC=C(bB[bA]))&&bg(bC,!0,bz);else if(bB._nodes)for(var bC,bA=0;bA<bB._nodes.length;bA++)(bC=C(bB._nodes[bA]))&&bg(bC,!0,bz);else(bC=C(bB))&&bg(bC,!0,bz)},this.extend=function(bA,bz){return n.CurrentLibrary.extend(bA,bz)},this.getDefaultEndpointType=function(){return ah},this.getDefaultConnectionType=function(){return az},function(bD,bC,bA,bz){for(var bB=0;bB<bD.length;bB++)bD[bB][bC].apply(bD[bB],bA);return bz(bD)}),T=function(bD,bC,bA){for(var bz=[],bB=0;bB<bD.length;bB++)bz.push([bD[bB][bC].apply(bD[bB],bA),bD[bB]]);return bz},aq=function(bB,bA,bz){return function(){return bt(bB,bA,arguments,bz)}},aA=function(bA,bz){return function(){return T(bA,bz,arguments)}},L=(this.getConnections=function(bI,bA){bI?bI.constructor==String&&(bI={scope:bI}):bI={};var bC,bL,bK,bH=bI.scope||br.getDefaultScope(),bG=bv(bH,!0),bz=bv(bI.source),bE=bv(bI.target),bD=!bA&&1<bG.length?{}:[];for(bC in a0)if(aI(bG,bC))for(var bB=0;bB<a0[bC].length;bB++){var bF=a0[bC][bB];aI(bz,bF.sourceId)&&aI(bE,bF.targetId)&&(bL=bC,bF=bF,bK=void 0,(!bA&&1<bG.length?(null==(bK=bD[bL])&&(bD[bL]=bK=[]),bK):bD).push(bF))}return bD},function(bz,bA){return function(bC){for(var bB=0;bB<bz.length;bB++)bC(bz[bB]);return bA(bz)}}),P=function(bz){return function(bA){return bz[bA]}},Q=function(bz,bA){return{setHover:aq(bz,"setHover",bA),removeAllOverlays:aq(bz,"removeAllOverlays",bA),setLabel:aq(bz,"setLabel",bA),addOverlay:aq(bz,"addOverlay",bA),removeOverlay:aq(bz,"removeOverlay",bA),removeOverlays:aq(bz,"removeOverlays",bA),showOverlay:aq(bz,"showOverlay",bA),hideOverlay:aq(bz,"hideOverlay",bA),showOverlays:aq(bz,"showOverlays",bA),hideOverlays:aq(bz,"hideOverlays",bA),setPaintStyle:aq(bz,"setPaintStyle",bA),setHoverPaintStyle:aq(bz,"setHoverPaintStyle",bA),setParameter:aq(bz,"setParameter",bA),setParameters:aq(bz,"setParameters",bA),setVisible:aq(bz,"setVisible",bA),setZIndex:aq(bz,"setZIndex",bA),repaint:aq(bz,"repaint",bA),addType:aq(bz,"addType",bA),toggleType:aq(bz,"toggleType",bA),removeType:aq(bz,"removeType",bA),getLabel:aA(bz,"getLabel"),getOverlay:aA(bz,"getOverlay"),isHover:aA(bz,"isHover"),getParameter:aA(bz,"getParameter"),getParameters:aA(bz,"getParameters"),getPaintStyle:aA(bz,"getPaintStyle"),getHoverPaintStyle:aA(bz,"getHoverPaintStyle"),isVisible:aA(bz,"isVisible"),getZIndex:aA(bz,"getZIndex"),hasType:aA(bz,"hasType"),getType:aA(bz,"getType"),length:bz.length,each:L(bz,bA),get:P(bz)}},aN=function(bA){var bz=Q(bA,aN);return n.CurrentLibrary.extend(bz,{setDetachable:aq(bA,"setDetachable",aN),setReattach:aq(bA,"setReattach",aN),setConnector:aq(bA,"setConnector",aN),detach:function(){for(var bB=0;bB<bA.length;bB++)br.detach(bA[bB])},isDetachable:aA(bA,"isDetachable"),isReattach:aA(bA,"isReattach")})},bf=function(bA){var bz=Q(bA,bf);return n.CurrentLibrary.extend(bz,{setEnabled:aq(bA,"setEnabled",bf),isEnabled:aA(bA,"isEnabled"),detachAll:function(){for(var bB=0;bB<bA.length;bB++)bA[bB].detachAll()},delete:function(){for(var bB=0;bB<bA.length;bB++)br.deleteEndpoint(bA[bB])}})},aU=(this.select=function(bz){(bz=bz||{}).scope=bz.scope||"*";bz=br.getConnections(bz,!0);return aN(bz)},this.selectEndpoints=function(bH){(bH=bH||{}).scope=bH.scope||"*";var bF,bM=!bH.element&&!bH.source&&!bH.target,bA=bM?"*":bv(bH.element),bB=bM?"*":bv(bH.source),bJ=bM?"*":bv(bH.target),bO=bv(bH.scope,!0),bP=[];for(bF in aV){var bD=aI(bA,bF,!0),bz=aI(bB,bF,!0),bE="*"!=bB,bK=aI(bJ,bF,!0),bC="*"!=bJ;if(bD||bz||bK)for(var bI=0;bI<aV[bF].length;bI++){var bN,bG,bL=aV[bF][bI];aI(bO,bL.scope,!0)&&(bN=bE&&0<bB.length&&!bL.isSource,bG=bC&&0<bJ.length&&!bL.isTarget,bN||bG||bP.push(bL))}}return bf(bP)},this.getAllConnections=function(){return a0},this.getDefaultScope=function(){return R},this.getEndpoint=ax,this.getEndpoints=function(bz){return aV[H(bz)]},this.getId=H,this.getOffset=function(bA){aj[bA];return X({elId:bA})},this.getSelector=function(bz){return n.CurrentLibrary.getSelector(bz)},this.getSize=function(bA){return ag[bA]||X({elId:bA}),ag[bA]},this.appendElement=aX,!1),a1=(this.isHoverSuspended=function(){return aU},this.setHoverSuspended=function(bz){aU=bz},this.isCanvasAvailable=aY("canvas"),this.isSVGAvailable=aY("svg"),this.isVMLAvailable=aY("vml"),this.hide=function(bz,bA){a7(bz,"none",bA)},this.idstamp=an,this.init=function(){var bz;K||(br.setRenderMode(br.Defaults.RenderMode),(bz=function(bA){n.CurrentLibrary.bind(document,bA,function(bG){if(!br.currentlyDragging&&Y==n.CANVAS){for(var bF in a0)for(var bH=a0[bF],bD=0;bD<bH.length;bD++)if(bH[bD].connector[bA](bG))return;for(var bE in aV)for(var bB=aV[bE],bD=0;bD<bB.length;bD++)if(bB[bD].endpoint[bA](bG))return}})})("click"),bz("dblclick"),bz("mousemove"),bz("mousedown"),bz("mouseup"),bz("contextmenu"),K=!0,br.fire("ready"))},this.log=null,this.jsPlumbUIComponent=B,this.makeAnchor=function(){var bE,bB,bz,bC,bD;return 0==arguments.length?null:(bE=arguments[0],bB=arguments[1],bC=null,bE.compute&&bE.getOrientation?bE:("string"==typeof bE?bC=n.Anchors[arguments[0]]({elementId:bB,jsPlumbInstance:br}):l(bE)&&(l(bE[0])||z(bE[0])?bC=2==bE.length&&z(bE[0])&&u(bE[1])?(bz=n.extend({elementId:bB,jsPlumbInstance:br},bE[1]),n.Anchors[bE[0]](bz)):new au(bE,null,bB):(bD={x:bE[0],y:bE[1],orientation:4<=bE.length?[bE[2],bE[3]]:[0,0],offsets:6==bE.length?[bE[4],bE[5]]:[0,0],elementId:bB},(bC=new ab(bD)).clone=function(){return new ab(bD)})),bC.id||(bC.id="anchor_"+an()),bC))},this.makeAnchors=function(bC,bA,bz){for(var bD=[],bB=0;bB<bC.length;bB++)"string"==typeof bC[bB]?bD.push(n.Anchors[bC[bB]]({elementId:bA,jsPlumbInstance:bz})):l(bC[bB])&&bD.push(br.makeAnchor(bC[bB],bA,bz));return bD},this.makeDynamicAnchor=function(bz,bA){return new au(bz,bA)},{}),aK={},bl={},at={},aB=(this.makeTarget=function(bC,bD,bJ){for(var bA=n.extend({_jsPlumb:br},bJ),bH=(n.extend(bA,bD),ac(bA,1),n.CurrentLibrary),bI=bA.scope||br.Defaults.Scope,bE=!(!1===bA.deleteEndpointsOnDetach),bB=bA.maxConnections||-1,bz=bA.onMaxConnections,bG=(_doOne=function(bO){var bM=H(bO),bL=(a1[bM]=bA,bl[bM]=bA.uniqueEndpoint,at[bM]=bB,am[bM]=!0,proxyComponent=new B(bA),n.extend({},bA.dropOptions||{})),bN=bH.dragEvents.drop;bL.scope=bL.scope||bI,bL[bN]=ap(bL[bN],function(){var bR=n.CurrentLibrary.getDropEvent(arguments),bT=br.select({target:bM}).length,b3=(br.currentlyDragging=!1,C(bH.getDragObject(arguments))),bS=c(b3,"dragId"),b1=c(b3,"originalScope"),bS=bk[bS],bQ=bS.endpoints[0];bA.endpoint&&n.extend({},bA.endpoint);if(!am[bM]||0<at[bM]&&bT>=at[bM])return bz&&bz({element:bO,connection:bS},bR),!1;bQ.anchor.locked=!1,b1&&bH.setDragScope(b3,b1);var b0,bV,bT=proxyComponent.isDropAllowed(bS.sourceId,H(bO),bS.scope,bS,null);bS.endpointsToDeleteOnDetach&&(bQ===bS.endpointsToDeleteOnDetach[0]?bS.endpointsToDeleteOnDetach[0]=null:bQ===bS.endpointsToDeleteOnDetach[1]&&(bS.endpointsToDeleteOnDetach[1]=null)),bS.suspendedEndpoint&&(bS.targetId=bS.suspendedEndpoint.elementId,bS.target=bH.getElementObject(bS.suspendedEndpoint.elementId),bS.endpoints[1]=bS.suspendedEndpoint),bT?(bQ.detach(bS,!1,!0,!1),b3=aK[bM]||br.addEndpoint(bO,bA),bA.uniqueEndpoint&&(aK[bM]=b3),b3._makeTargetCreator=!0,null!=b3.anchor.positionFinder&&(bT=bH.getUIPosition(arguments,br.getZoom()),bV=s(bO,br),b0=a(bO),bT=b3.anchor.positionFinder(bT,bV,b0,b3.anchor.constructorParams),b3.anchor.x=bT[0],b3.anchor.y=bT[1]),bV=br.connect({source:bQ,target:b3,scope:b1,previousConnection:bS,container:bS.parent,deleteEndpointsOnDetach:bE,doNotFireConnectionEvent:bQ.endpointWillMoveAfterConnection}),bS.endpoints[1]._makeTargetCreator&&bS.endpoints[1].connections.length<2&&br.deleteEndpoint(bS.endpoints[1]),bE&&(bV.endpointsToDeleteOnDetach=[bQ,b3]),bV.repaint()):bS.suspendedEndpoint&&(bS.isReattach()?(bS.setHover(!1),bS.floatingAnchorIndex=null,bS.suspendedEndpoint.addConnection(bS),br.repaint(bQ.elementId)):bQ.detach(bS,!1,!0,!0,bR))}),bH.initDroppable(bO,bL,!0)},(bC=aL(bC)).length&&bC.constructor!=String?bC:[bC]),bF=0;bF<bG.length;bF++)_doOne(C(bG[bF]));return br},this.unmakeTarget=function(bA,bB){bA=n.CurrentLibrary.getElementObject(bA);bA=H(bA);return bB||(delete a1[bA],delete bl[bA],delete at[bA],delete am[bA]),br},this.makeTargets=function(bB,bC,bz){for(var bA=0;bA<bB.length;bA++)br.makeTarget(bB[bA],bC,bz)},{}),a6={},bc={},ae={},J={},N={},am={},ai=(this.makeSource=function(bD,bE,bI){for(var bB=n.extend({},bI),bH=(n.extend(bB,bE),ac(bB,0),n.CurrentLibrary),bC=bB.maxConnections||-1,bA=bB.onMaxConnections,bz=function(bQ){function bM(bZ){if(ae[bJ]){var bX=br.select({source:bJ}).length;if(0<=N[bJ]&&bX>=N[bJ])return bA&&bA({element:bQ,maxConnections:bC},bZ),!1;if(bE.filter)if(!1===bE.filter(bH.getOriginalEvent(bZ),bQ))return;var bX=X({elId:bK}),b2=((bZ.pageX||bZ.page.x)-bX.left)/bX.width,b1=((bZ.pageY||bZ.page.y)-bX.top)/bX.height,b7=b2,b6=b1,b0=(bB.parent&&(b0=bH.getElementObject(bB.parent),b0=H(b0),bX=X({elId:b0}),b7=((bZ.pageX||bZ.page.x)-bX.left)/bX.width,b6=((bZ.pageY||bZ.page.y)-bX.top)/bX.height),{}),b2=(n.extend(b0,bB),b0.isSource=!0,b0.anchor=[b2,b1,0,0],b0.parentAnchor=[b7,b6,0,0],b0.dragOptions=bS,bB.parent&&(bX=b0.container||br.Defaults.Container||n.Defaults.Container,b0.container=bX||n.CurrentLibrary.getParent(bB.parent)),bU=br.addEndpoint(bK,b0),bO=!0,bU.endpointWillMoveAfterConnection=null!=bB.parent,bU.endpointWillMoveTo=bB.parent?bH.getElementObject(bB.parent):null,function(){bO&&br.deleteEndpoint(bU)});br.registerListener(bU.canvas,"mouseup",b2),br.registerListener(bQ,"mouseup",b2),bH.trigger(bU.canvas,"mousedown",bZ)}}var bK=H(bQ),bR=bB.parent,bJ=null!=bR?br.getId(bH.getElementObject(bR)):bK,bR=(aB[bJ]=bB,bc[bJ]=bB.uniqueEndpoint,ae[bJ]=!0,bH.dragEvents.stop),bP=bH.dragEvents.drag,bS=n.extend({},bB.dragOptions||{}),bN=bS.drag,bT=bS.stop,bU=null,bO=!1;N[bJ]=bC,bS.scope=bS.scope||bB.scope,bS[bP]=ap(bS[bP],function(){bN&&bN.apply(this,arguments),bO=!1}),bS[bR]=ap(bS[bR],function(){var bZ,bW,bV,b0;bT&&bT.apply(this,arguments),br.currentlyDragging=!1,0==bU.connections.length?br.deleteEndpoint(bU):(bH.unbind(bU.canvas,"mousedown"),bW=bB.anchor||br.Defaults.Anchor,bU.anchor,bZ=bU.connections[0],bU.anchor=br.makeAnchor(bW,bK,br),bB.parent&&(bW=bH.getElementObject(bB.parent))&&(bV=bU.elementId,b0=bB.container||br.Defaults.Container||n.Defaults.Container,bU.setElement(bW,b0),bU.endpointWillMoveAfterConnection=!1,br.anchorManager.rehomeEndpoint(bV,bW),bZ.previousConnection=null,A(a0[bZ.scope],function(b1){return b1.id===bZ.id}),br.anchorManager.connectionDetached({sourceId:bZ.sourceId,targetId:bZ.targetId,connection:bZ}),bx(bZ)),bU.repaint(),br.repaint(bU.elementId),br.repaint(bZ.targetId))});br.registerListener(bQ,"mousedown",bM),J[bK]=bM},bG=(bD=aL(bD)).length&&bD.constructor!=String?bD:[bD],bF=0;bF<bG.length;bF++)bz(C(bG[bF]));return br},this.unmakeSource=function(bA,bB){bA=n.CurrentLibrary.getElementObject(bA);var bA=H(bA),bz=J[bA];return bz&&br.unregisterListener(_el,"mousedown",bz),bB||(delete aB[bA],delete bc[bA],delete ae[bA],delete J[bA],delete N[bA]),br},this.unmakeEverySource=function(){for(var bz in ae)br.unmakeSource(bz,!0);aB={},bc={},ae={},J={}},this.unmakeEveryTarget=function(){for(var bz in am)br.unmakeTarget(bz,!0);return a1={},bl={},at={},am={},br},this.makeSources=function(bB,bC,bz){for(var bA=0;bA<bB.length;bA++)br.makeSource(bB[bA],bC,bz);return br},this.setSourceEnabled=function(bz,bA){return aP("source",bz,bA)},this.toggleSourceEnabled=function(bz){return aP("source",bz,null,!0),br.isSourceEnabled(bz)},this.isSource=function(bz){return bz=n.CurrentLibrary.getElementObject(bz),null!=ae[H(bz)]},this.isSourceEnabled=function(bz){return bz=n.CurrentLibrary.getElementObject(bz),!0===ae[H(bz)]},this.setTargetEnabled=function(bz,bA){return aP("target",bz,bA)},this.toggleTargetEnabled=function(bz){return aP("target",bz,null,!0)},this.isTarget=function(bz){return bz=n.CurrentLibrary.getElementObject(bz),null!=am[H(bz)]},this.isTargetEnabled=function(bz){return bz=n.CurrentLibrary.getElementObject(bz),!0===am[H(bz)]},this.ready=function(bz){br.bind("ready",bz)},this.repaint=function(bA,bC,bB){if("object"==typeof bA)for(var bz=0;bz<bA.length;bz++)be(C(bA[bz]),bC,bB);else be(C(bA),bC,bB);return br},this.repaintEverything=function(){for(var bz in aV)be(C(bz));return br},this.removeAllEndpoints=function(bB){var bB=c(bB,"id"),bC=aV[bB];if(bC)for(var bA=0;bA<bC.length;bA++)br.deleteEndpoint(bC[bA]);return aV[bB]=[],br},{}),a9=(this.registerListener=function(bA,bz,bB){n.CurrentLibrary.bind(bA,bz,bB),W(ai,bz,{el:bA,event:bz,listener:bB})},this.unregisterListener=function(bA,bz,bB){n.CurrentLibrary.unbind(bA,bz,bB),A(ai,function(bC){return bC.type==bz&&bC.listener==bB})},this.reset=function(){for(var bA in br.deleteEveryEndpoint(),br.unbind(),a1={},aK={},bl={},at={},aB={},a6={},bc={},N={},ai)for(var bz=0;bz<ai[bA].length;bz++){var bB=ai[bA][bz];n.CurrentLibrary.unbind(bB.el,bB.event,bB.listener)}ai={},br.anchorManager.reset(),jsPlumbAdapter.headless||br.dragManager.reset()},this.setDefaultScope=function(bz){return R=bz,br},this.setDraggable=function(bA,bz){return aJ(bA,function(bB,bC){bq[bC]=bz,n.CurrentLibrary.isDragSupported(bB)&&n.CurrentLibrary.setDraggable(bB,bz)})},this.setId=function(bD,bz,bF){var bG=bD.constructor==String?bD:br.getId(bD),bC=br.getConnections({source:bG,scope:"*"},!0),bB=br.getConnections({target:bG,scope:"*"},!0);bz=""+bz,bF||(bD=n.CurrentLibrary.getElementObject(bG),n.CurrentLibrary.setAttribute(bD,"id",bz)),bD=n.CurrentLibrary.getElementObject(bz),aV[bz]=aV[bG]||[];for(var bA=0;bA<aV[bz].length;bA++)aV[bz][bA].elementId=bz,aV[bz][bA].element=bD,aV[bz][bA].anchor.elementId=bz;delete aV[bG],br.anchorManager.changeId(bG,bz);function bE(bK,bH,bJ){for(var bI=0;bI<bK.length;bI++)bK[bI].endpoints[bH].elementId=bz,bK[bI].endpoints[bH].element=bD,bK[bI][bJ+"Id"]=bz,bK[bI][bJ]=bD}bE(bC,0,"source"),bE(bB,1,"target")},this.setIdChanged=function(bA,bz){br.setId(bA,bz,!0)},!(this.setDebugLog=function(bz){0})),bd=null,bs=(this.setSuspendDrawing=function(bA,bz){bd=(a9=bA)?(new Date).getTime():null,bz&&br.repaintEverything()},this.isSuspendDrawing=function(){return a9},this.CANVAS="canvas",this.SVG="svg",this.VML="vml",this.setRenderMode=function(bz){return Y=jsPlumbAdapter.setRenderMode(bz)},this.getRenderMode=function(){return Y},this.show=function(bz,bA){return a7(bz,"block",bA),br},this.sizeCanvas=function(bB,bz,bD,bA,bC){return bB&&(bB.style.height=bC+"px",bB.height=bC,bB.style.width=bA+"px",bB.width=bA,bB.style.left=bz+"px",bB.style.top=bD+"px"),br},this.getTestHarness=function(){return{endpointsByElement:aV,endpointCount:function(bz){bz=aV[bz];return bz?bz.length:0},connectionCount:function(bz){bz=a0[bz=bz||R];return bz?bz.length:0},getId:H,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}},this.toggle=aS,this.toggleVisible=aS,this.toggleDraggable=function(bz){return aJ(bz,function(bB,bA){var bC=null!=bq[bA]&&bq[bA];return bq[bA]=bC=!bC,n.CurrentLibrary.setDraggable(bB,bC),bC})},this.wrap=ap,this.addListener=this.bind,function(bE,bB){var bC=null,bz=bE;return"svg"===bB.tagName.toLowerCase()&&bB.parentNode?bC=bB.parentNode:bB.offsetParent&&(bC=bB.offsetParent),null!=bC&&(bB="body"===bC.tagName.toLowerCase()?{left:0,top:0}:s(bC,br),bC="body"===bC.tagName.toLowerCase()?{left:0,top:0}:{left:bC.scrollLeft,top:bC.scrollTop},bz[0]=bE[0]-bB.left+bC.left,bz[1]=bE[1]-bB.top+bC.top),bz}),ab=function(bD){var bB=this,bA=(this.x=bD.x||0,this.y=bD.y||0,this.elementId=bD.elementId,bD.orientation||[0,0]),bz=null;this.offsets=bD.offsets||[0,0],bB.timestamp=null,this.compute=function(bI){var bH=bI.xy,bE=bI.wh,bG=bI.timestamp;return bG&&bG===bB.timestamp||(bz=[bH[0]+bB.x*bE[0]+bB.offsets[0],bH[1]+bB.y*bE[1]+bB.offsets[1]],bz=bs(bz,bI.element.canvas),bB.timestamp=bG),bz},this.getOrientation=function(bE){return bA},this.equals=function(bE){var bF,bG;return!!bE&&(bF=bE.getOrientation(),bG=this.getOrientation(),this.x==bE.x)&&this.y==bE.y&&this.offsets[0]==bE.offsets[0]&&this.offsets[1]==bE.offsets[1]&&bG[0]==bF[0]&&bG[1]==bF[1]},this.getCurrentLocation=function(){return bz}},a3=function(bF){var bD=bF.reference,bB=a(C(bF.referenceCanvas)),bz=null,bC=null;this.x=0,this.y=0,this.isFloating=!0,this.compute=function(bK){var bJ=bK.xy,bJ=[bJ[0]+bB[0]/2,bJ[1]+bB[1]/2],bJ=bs(bJ,bK.element.canvas);return bC=bJ},this.getOrientation=function(bI){return bz||(bI=bD.getOrientation(bI),[0*Math.abs(bI[0])*-1,0*Math.abs(bI[1])*-1])},this.over=function(bH){bz=bH.getOrientation()},this.out=function(){bz=null},this.getCurrentLocation=function(){return bC}},au=function(bB,bA,bG){this.isSelective=!0,this.isDynamic=!0;for(var bJ=[],bH=function(bK){return bK.constructor==ab?bK:br.makeAnchor(bK,bG,br)},bF=0;bF<bB.length;bF++)bJ[bF]=bH(bB[bF]);this.addAnchor=function(bK){bJ.push(bH(bK))},this.getAnchors=function(){return bJ},this.locked=!1;var bC=0<bJ.length?bJ[0]:null,bI=this,bz=bA||function(bU,bL,bM,bN,bK){for(var bP=bM[0]+bN[0]/2,bO=bM[1]+bN[1]/2,bR=-1,bT=1/0,bQ=0;bQ<bK.length;bQ++){var bS=((bQ,bN,bM,bR,bL)=>{var bK=bR[0]+bQ.x*bL[0],bQ=bR[1]+bQ.y*bL[1],bP=bR[0]+bL[0]/2,bR=bR[1]+bL[1]/2;return Math.sqrt(Math.pow(bN-bK,2)+Math.pow(bM-bQ,2))+Math.sqrt(Math.pow(bP-bK,2)+Math.pow(bR-bQ,2))})(bK[bQ],bP,bO,bU,bL);bS<bT&&(bR=bQ+0,bT=bS)}return bK[bR]};this.compute=function(bO){var bN=bO.xy,bK=bO.wh,bL=bO.txy,bP=bO.twh;return bI.locked||null==bL||null==bP||(bO.timestamp=null,bC=bz(bN,bK,bL,bP,bJ),bI.x=bC.x,bI.y=bC.y),bC.compute(bO)},this.getCurrentLocation=function(){return null!=bC?bC.getCurrentLocation():null},this.getOrientation=function(bK){return null!=bC?bC.getOrientation(bK):[0,0]},this.over=function(bK){null!=bC&&bC.over(bK)},this.out=function(){null!=bC&&bC.out()}},bn={},ak={},aM={},U={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},bp=function(bI,bJ,bF,bC){var bE,bK;return bI===bJ?{orientation:U.IDENTITY,a:["top","top"]}:(bI=Math.atan2(bC.centery-bF.centery,bC.centerx-bF.centerx),bJ=Math.atan2(bF.centery-bC.centery,bF.centerx-bC.centerx),bE=bF.left<=bC.left&&bF.right>=bC.left||bF.left<=bC.right&&bF.right>=bC.right||bF.left<=bC.left&&bF.right>=bC.right||bC.left<=bF.left&&bC.right>=bF.right,bK=bF.top<=bC.top&&bF.bottom>=bC.top||bF.top<=bC.bottom&&bF.bottom>=bC.bottom||bF.top<=bC.top&&bF.bottom>=bC.bottom||bC.top<=bF.top&&bC.bottom>=bF.bottom,bE||bK?bE?{orientation:U.HORIZONTAL,a:bF.top<bC.top?["bottom","top"]:["top","bottom"],theta:bI,theta2:bJ}:{orientation:U.VERTICAL,a:bF.left<bC.left?["right","left"]:["left","right"],theta:bI,theta2:bJ}:(0,bK=null,bC.left>bF.left&&bC.top>bF.top?bK=["right","top"]:bC.left>bF.left&&bF.top>bC.top?bK=["top","left"]:bC.left<bF.left&&bC.top<bF.top?bK=["top","right"]:bC.left<bF.left&&bC.top>bF.top&&(bK=["left","top"]),{orientation:U.DIAGONAL,a:bK,theta:bI,theta2:bJ}))},a5=function(bN,bJ,bH,bI,bO,bK,bB){for(var bP=[],bA=bJ[bO?0:1]/(bI.length+1),bL=0;bL<bI.length;bL++){var bQ=(bL+1)*bA,bz=bK*bJ[bO?1:0],bG=(bB&&(bQ=bJ[bO?0:1]-bQ),bO?bQ:bz),bD=bH[0]+bG,bz=bO?bz:bQ;bP.push([bD,bH[1]+bz,bG/bJ[0],bz/bJ[1],bI[bL][1],bI[bL][2]])}return bP},a2={top:function(bA,bz){return bA[0]>bz[0]?1:-1},right:aa(!0),bottom:aa(!0),left:function(bA,bz){var bC=bA[0][0]<0?-Math.PI-bA[0][0]:Math.PI-bA[0][0];return(bz[0][0]<0?-Math.PI-bz[0][0]:Math.PI-bz[0][0])<bC||bA[0][1]>bz[0][1]?1:-1}},ar=function(bz,bA){return bz.sort(bA)},ao=function(bA,bz){function bB(bK,bR,bG,bJ,bP,bO,bF){if(0<bJ.length)for(var bJ=ar(bJ,a2[bK]),bE=a5(bK,bR,bG,bJ,bP,bO,"right"===bK||"top"===bK),bS=function(bV,bU){var bT=bs([bU[0],bU[1]],bV.canvas);ak[bV.id]=[bT[0],bT[1],bU[2],bU[3]],aM[bV.id]=bF},bH=0;bH<bE.length;bH++){var bM=bE[bH][4],bQ=bM.endpoints[0].elementId===bA,bI=bM.endpoints[1].elementId===bA;bQ?bS(bM.endpoints[0],bE[bH]):bI&&bS(bM.endpoints[1],bE[bH])}}var bC=ag[bA],bD=aj[bA];bB("bottom",bC,[bD.left,bD.top],bz.bottom,!0,1,[0,1]),bB("top",bC,[bD.left,bD.top],bz.top,!0,0,[0,-1]),bB("left",bC,[bD.left,bD.top],bz.left,!1,0,[-1,0]),bB("right",bC,[bD.left,bD.top],bz.right,!1,1,[1,0])},az=(br.anchorManager=new function(){function bB(bY,bL,bT,bI,bO,bP,bR,bN,b0,bQ,bH,bX){var bG=-1,bJ=bI.endpoints[bR],bS=bJ.id,bL=[[bL,bT],bI,bO,bP,bS],bF=bY[b0],bZ=bJ._continuousAnchorEdge?bY[bJ._continuousAnchorEdge]:null;if(bZ){bT=g(bZ,function(b1){return b1[4]==bS});if(-1!=bT){bZ.splice(bT,1);for(var bU=0;bU<bZ.length;bU++)r(bH,bZ[bU][1],function(b1){return b1.id==bZ[bU][1].id}),r(bX,bZ[bU][1].endpoints[bR],function(b1){return b1.id==bZ[bU][1].endpoints[bR].id})}}for(bU=0;bU<bF.length;bU++)1==bR&&bF[bU][3]===bP&&-1==bG&&(bG=bU),r(bH,bF[bU][1],function(b1){return b1.id==bF[bU][1].id}),r(bX,bF[bU][1].endpoints[bR],function(b1){return b1.id==bF[bU][1].endpoints[bR].id});bI=bN?-1!=bG?bG:0:bF.length,bF.splice(bI,0,bL),bJ._continuousAnchorEdge=b0}var bz={},bD={},bA=this,bC={};this.reset=function(){bz={},bD={},bC={}},this.newConnection=function(bH){function bF(bK,bL,bN,bM,bO){bJ==bG&&bN.isContinuous&&(n.CurrentLibrary.removeElement(bE[1].canvas),bI=!1),W(bD,bM,[bO,bL,bN.constructor==au])}var bJ=bH.sourceId,bG=bH.targetId,bE=bH.endpoints,bI=!0;bF(0,bE[0],bE[0].anchor,bG,bH),bI&&bF(0,bE[1],bE[1].anchor,bJ,bH)},this.connectionDetached=function(bE){function bJ(bP,bQ,bS,bR,bT){bS.constructor!=a3&&A(bD[bR],function(bU){return bU[0].id==bT.id})}function bM(bR,bP){var bQ;bR&&(A(bR.top,bQ=function(bS){return bS[4]==bP}),A(bR.left,bQ),A(bR.bottom,bQ),A(bR.right,bQ))}var bE=bE.connection||bE,bK=bE.sourceId,bL=bE.targetId,bO=bE.endpoints,bK=(bJ(0,bO[1],bO[1].anchor,bK,bE),bJ(0,0,bO[0].anchor,bL,bE),bE.sourceId),bO=bE.targetId,bL=bE.endpoints[0].id,bE=bE.endpoints[1].id;bM(bC[bK],bL),bM(bC[bO],bE),bA.redraw(bK),bA.redraw(bO)},this.add=function(bF,bE){W(bz,bE,bF)},this.changeId=function(bF,bE){bD[bE]=bD[bF],bz[bE]=bz[bF],delete bD[bF],delete bz[bF]},this.getConnectionsFor=function(bE){return bD[bE]||[]},this.getEndpointsFor=function(bE){return bz[bE]||[]},this.deleteEndpoint=function(bE){A(bz[bE.elementId],function(bF){return bF.id==bE.id})},this.clearFor=function(bE){delete bz[bE],bz[bE]=[]};this.redraw=function(bT,bV,bG,bJ){if(!a9){for(var b4=bz[bT]||[],b3=bD[bT]||[],bF=[],b2=[],bH=[],bO=(bG=bG||p(),bJ=bJ||{left:0,top:0},bV=bV&&{left:bV.left+bJ.left,top:bV.top+bJ.top},X({elId:bT,offset:bV,recalc:!1,timestamp:bG}),aj[bT]),bK=ag[bT],bQ={},b0=0;b0<b3.length;b0++){var b1,bX,bR,bP,bE,bL=b3[b0][0],bN=bL.sourceId,bI=bL.targetId,bM=bL.endpoints[0].anchor.isContinuous,bS=bL.endpoints[1].anchor.isContinuous;(bM||bS)&&(bX=bQ[b1=bN+"_"+bI],bR=bL.sourceId==bT?1:0,bM&&!bC[bN]&&(bC[bN]={top:[],right:[],bottom:[],left:[]}),bS&&!bC[bI]&&(bC[bI]={top:[],right:[],bottom:[],left:[]}),bT!=bI&&X({elId:bI,timestamp:bG}),bT!=bN&&X({elId:bN,timestamp:bG}),bP=aQ(bI),bE=aQ(bN),bI==bN&&(bM||bS)?bB(bC[bN],-Math.PI/2,0,bL,!1,bI,0,!1,"top",0,bF,b2):(bX||(bX=bp(bN,bI,bE.o,bP.o),bQ[b1]=bX),bM&&bB(bC[bN],bX.theta,0,bL,!1,bI,0,!1,bX.a[0],0,bF,b2),bS&&bB(bC[bI],bX.theta2,-1,bL,!0,bN,1,!0,bX.a[1],0,bF,b2)),bM&&r(bH,bN,function(b5){return b5===bN}),bS&&r(bH,bI,function(b5){return b5===bI}),r(bF,bL,function(b5){return b5.id==bL.id}),bM&&0==bR||bS&&1==bR)&&r(b2,bL.endpoints[bR],function(b5){return b5.id==bL.endpoints[bR].id})}for(b0=0;b0<b4.length;b0++)0==b4[b0].connections.length&&b4[b0].anchor.isContinuous&&(bC[bT]||(bC[bT]={top:[],right:[],bottom:[],left:[]}),bB(bC[bT],-Math.PI/2,0,{endpoints:[b4[b0],b4[b0]],paint:function(){}},!1,bT,0,!1,"top",0,bF,b2),r(bH,bT,function(b5){return b5===bT}));for(b0=0;b0<bH.length;b0++)ao(bH[b0],bC[bH[b0]]);for(b0=0;b0<b4.length;b0++)b4[b0].paint({timestamp:bG,offset:bO,dimensions:bK});for(b0=0;b0<b2.length;b0++)b2[b0].paint({timestamp:bG,offset:bO,dimensions:bK});for(b0=0;b0<b3.length;b0++){var bU=b3[b0][1];if(bU.anchor.constructor==au){bU.paint({elementWithPrecedence:bT}),r(bF,b3[b0][0],function(b5){return b5.id==b3[b0][0].id});for(var bZ=0;bZ<bU.connections.length;bZ++)bU.connections[bZ]!==b3[b0][0]&&r(bF,bU.connections[bZ],function(b5){return b5.id==bU.connections[bZ].id})}else bU.anchor.constructor==ab&&r(bF,b3[b0][0],function(b5){return b5.id==b3[b0][0].id})}bJ=bk[bT];bJ&&bJ.paint({timestamp:bG,recalc:!1,elId:bT});for(b0=0;b0<bF.length;b0++)bF[b0].paint({elId:bT,timestamp:bG,recalc:!1})}},this.rehomeEndpoint=function(bE,bI){var bF=bz[bE]||[],bG=br.getId(bI);if(bG!==bE){for(var bH=0;bH<bF.length;bH++)bA.add(bF[bH],bG);bF.splice(0,bF.length)}}},br.continuousAnchorFactory={get:function(bA){var bz=bn[bA.elementId];return bz||(bn[bA.elementId]=bz={type:"Continuous",compute:function(bB){return ak[bB.element.id]||[0,0]},getCurrentLocation:function(bB){return ak[bB.id]||[0,0]},getOrientation:function(bB){return aM[bB.id]||[0,0]},isDynamic:!0,isContinuous:!0}),bz}},jsPlumbAdapter.headless||(br.dragManager=jsPlumbAdapter.getDragManager(br)),br.recalculateOffsets=br.dragManager.updateOffsets,function(bU){function bO(bW,b2,bX,bZ,b0,bY,b1){var b6;return bW?(bK.endpoints[b2]=bW).addConnection(bK):(bX.endpoints||(bX.endpoints=[null,null]),bW=bX.endpoints[b2]||bX.endpoint||br.Defaults.Endpoints[b2]||n.Defaults.Endpoints[b2]||br.Defaults.Endpoint||n.Defaults.Endpoint,bX.endpointStyles||(bX.endpointStyles=[null,null]),bX.endpointHoverStyles||(bX.endpointHoverStyles=[null,null]),null==(b6=bX.endpointStyles[b2]||bX.endpointStyle||br.Defaults.EndpointStyles[b2]||n.Defaults.EndpointStyles[b2]||br.Defaults.EndpointStyle||n.Defaults.EndpointStyle).fillStyle&&null!=bY&&(b6.fillStyle=bY.strokeStyle),null==b6.outlineColor&&null!=bY&&(b6.outlineColor=bY.outlineColor),null==b6.outlineWidth&&null!=bY&&(b6.outlineWidth=bY.outlineWidth),bY=bX.endpointHoverStyles[b2]||bX.endpointHoverStyle||br.Defaults.EndpointHoverStyles[b2]||n.Defaults.EndpointHoverStyles[b2]||br.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,null!=b1&&null==(bY=null==bY?{}:bY).fillStyle&&(bY.fillStyle=b1.strokeStyle),b1=bX.anchors?bX.anchors[b2]:bX.anchor||bT(br.Defaults.Anchors[b2],b0)||bT(n.Defaults.Anchors[b2],b0)||bT(br.Defaults.Anchor,b0)||bT(n.Defaults.Anchor,b0),b0=bX.uuids?bX.uuids[b2]:null,b6=aH({paintStyle:b6,hoverPaintStyle:bY,endpoint:bW,connections:[bK],uuid:b0,anchor:b1,source:bZ,scope:bX.scope,container:bX.container,reattach:bX.reattach||br.Defaults.ReattachConnections,detachable:bX.detachable||br.Defaults.ConnectionsDetachable}),bK.endpoints[b2]=b6,!1===bX.drawEndpoints&&b6.setVisible(!1,!0,!0)),b6}var bP,bQ,bK=this,bB=!0,bS=(bK.idPrefix="_jsplumb_c_",bK.defaultLabelLocation=.5,bK.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.parent=bU.parent,x.apply(this,arguments),this.isVisible=function(){return bB},this.setVisible=function(bW){bK[(bB=bW)?"showOverlays":"hideOverlays"](),bK.connector&&bK.connector.canvas&&(bK.connector.canvas.style.display=bW?"block":"none"),bK.repaint()},this.getTypeDescriptor=function(){return"connection"},this.getDefaultType=function(){return{parameters:{},scope:null,detachable:bK._jsPlumb.Defaults.ConnectionsDetachable,rettach:bK._jsPlumb.Defaults.ReattachConnections,paintStyle:bK._jsPlumb.Defaults.PaintStyle||n.Defaults.PaintStyle,connector:bK._jsPlumb.Defaults.Connector||n.Defaults.Connector,hoverPaintStyle:bK._jsPlumb.Defaults.HoverPaintStyle||n.Defaults.HoverPaintStyle,overlays:bK._jsPlumb.Defaults.ConnectorOverlays||n.Defaults.ConnectorOverlays}},this.applyType),bT=(this.applyType=function(bW){bS(bW),null!=bW.detachable&&bK.setDetachable(bW.detachable),null!=bW.reattach&&bK.setReattach(bW.reattach),bW.scope&&(bK.scope=bW.scope),bK.setConnector(bW.connector)},bQ=bK.setHover,bK.setHover=function(bX){var bW=br.ConnectorZIndex||n.Defaults.ConnectorZIndex;bW&&bK.connector.setZIndex(bW+(bX?1:0)),bK.connector.setHover.apply(bK.connector,arguments),bQ.apply(bK,arguments)},bP=function(bW){bK.setHover(bW,!1)},this.setConnector=function(bW,bY){null!=bK.connector&&aZ(bK.connector.getDisplayElements(),bK.parent);var bZ={_jsPlumb:bK._jsPlumb,parent:bU.parent,cssClass:bU.cssClass,container:bU.container,tooltip:bK.tooltip},bW=(z(bW)?this.connector=new n.Connectors[Y][bW](bZ):l(bW)&&(1==bW.length?this.connector=new n.Connectors[Y][bW[0]](bZ):this.connector=new n.Connectors[Y][bW[0]](n.extend(bW[1],bZ))),bK.canvas=bK.connector.canvas,D(bK.connector,bK,bP),br.ConnectorZIndex||n.Defaults.ConnectorZIndex);bW&&bK.connector.setZIndex(bW),bY||bK.repaint()},this.source=C(bU.source),this.target=C(bU.target),bU.sourceEndpoint&&(this.source=bU.sourceEndpoint.endpointWillMoveTo||bU.sourceEndpoint.getElement()),bU.targetEndpoint&&(this.target=bU.targetEndpoint.getElement()),bK.previousConnection=bU.previousConnection,this.sourceId=c(this.source,"id"),this.targetId=c(this.target,"id"),this.scope=bU.scope,this.endpoints=[],this.endpointStyles=[],function(bX,bW){return bX?br.makeAnchor(bX,bW,br):null}),bM=bO(bU.sourceEndpoint,0,bU,bK.source,bK.sourceId,bU.paintStyle,bU.hoverPaintStyle),bM=(bM&&W(aV,this.sourceId,bM),bO(bU.targetEndpoint,1,bU,bK.target,bK.targetId,bU.paintStyle,bU.hoverPaintStyle)),bM=(bM&&W(aV,this.targetId,bM),this.scope||(this.scope=this.endpoints[0].scope),bK.endpointsToDeleteOnDetach=[null,null],bU.deleteEndpointsOnDetach&&(bU.sourceIsNew&&(bK.endpointsToDeleteOnDetach[0]=bK.endpoints[0]),bU.targetIsNew)&&(bK.endpointsToDeleteOnDetach[1]=bK.endpoints[1]),bK.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||bU.connector||br.Defaults.Connector||n.Defaults.Connector,!0),this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||bU.paintStyle||br.Defaults.PaintStyle||n.Defaults.PaintStyle,!0),this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||bU.hoverPaintStyle||br.Defaults.HoverPaintStyle||n.Defaults.HoverPaintStyle,!0),this.paintStyleInUse=this.getPaintStyle(),X({elId:this.sourceId,timestamp:bd}),X({elId:this.targetId,timestamp:bd}),aj[this.sourceId]),bC=ag[this.sourceId],bz=aj[this.targetId],bH=ag[this.targetId],bI=bd||p(),bN=this.endpoints[0].anchor.compute({xy:[bM.left,bM.top],wh:bC,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[bz.left,bz.top],twh:bH,tElement:this.endpoints[1],timestamp:bI}),bA=(this.endpoints[0].paint({anchorLoc:bN,timestamp:bI}),bN=this.endpoints[1].anchor.compute({xy:[bz.left,bz.top],wh:bH,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[bM.left,bM.top],twh:bC,tElement:this.endpoints[0],timestamp:bI}),this.endpoints[1].paint({anchorLoc:bN,timestamp:bI}),br.Defaults.ConnectionsDetachable),bG=(!1===bU.detachable&&(bA=!1),!1===bK.endpoints[0].connectionsDetachable&&(bA=!1),!1===bK.endpoints[1].connectionsDetachable&&(bA=!1),this.isDetachable=function(){return!0===bA},this.setDetachable=function(bW){bA=!0===bW},bU.reattach||bK.endpoints[0].reattachConnections||bK.endpoints[1].reattachConnections||br.Defaults.ReattachConnections),bF=(this.isReattach=function(){return!0===bG},this.setReattach=function(bW){bG=!0===bW},bU.cost||bK.endpoints[0].getConnectionCost()),bE=(bK.getCost=function(){return bF},!(!(bK.setCost=function(bW){bF=bW})===bU.bidirectional)),bz=(null==bU.bidirectional&&(bE=bK.endpoints[0].areConnectionsBidirectional()),bK.isBidirectional=function(){return bE},n.extend({},this.endpoints[0].getParameters())),bJ=(n.extend(bz,this.endpoints[1].getParameters()),n.extend(bz,bK.getParameters()),bK.setParameters(bz),this.getAttachedElements=function(){return bK.endpoints},this.moveParent=function(bZ){var bY=n.CurrentLibrary,bX=bY.getParent(bK.connector.canvas);bK.connector.bgCanvas&&(bY.removeElement(bK.connector.bgCanvas,bX),bY.appendElement(bK.connector.bgCanvas,bZ)),bY.removeElement(bK.connector.canvas,bX),bY.appendElement(bK.connector.canvas,bZ);for(var bW=0;bW<bK.overlays.length;bW++)bK.overlays[bW].isAppendedAtTopLevel&&(bY.removeElement(bK.overlays[bW].canvas,bX),bY.appendElement(bK.overlays[bW].canvas,bZ),bK.overlays[bW].reattachListeners)&&bK.overlays[bW].reattachListeners(bK.connector);bK.connector.reattachListeners&&bK.connector.reattachListeners()},null),bH=(this.paint=function(cd){if(bB){var b4=(cd=cd||{}).elId,bX=cd.timestamp,cc=this.targetId;this.sourceId;if(null==bX||bX!=bJ){for(var b4=X({elId:b4,offset:cd.ui,recalc:cd.recalc,timestamp:bX}),cd=X({elId:cc,timestamp:bX}),cc=this.endpoints[0],bW=this.endpoints[1],cc=cc.anchor.getCurrentLocation(cc),bW=bW.anchor.getCurrentLocation(bW),bZ=0,ca=0;ca<bK.overlays.length;ca++)(b7=bK.overlays[ca]).isVisible()&&(bZ=Math.max(bZ,b7.computeMaxSize()));var b9=this.connector.compute(cc,bW,this.endpoints[0],this.endpoints[1],this.endpoints[0].anchor,this.endpoints[1].anchor,bK.paintStyleInUse.lineWidth,bZ,b4,cd);bK.connector.paint(b9,bK.paintStyleInUse);for(var b7,ca=0;ca<bK.overlays.length;ca++)(b7=bK.overlays[ca]).isVisible&&(bK.overlayPlacements[ca]=b7.draw(bK.connector,bK.paintStyleInUse,b9))}bJ=bX}},this.repaint=function(bX){var bW=!(!1===(bX=bX||{}).recalc);this.paint({elId:this.sourceId,recalc:bW,timestamp:bX.timestamp})},bU.type||bK.endpoints[0].connectionType||bK.endpoints[1].connectionType);bH&&bK.addType(bH)}),bh=function(bA){var bz=!1;return{drag:function(){if(bz)return!(bz=!1);var bB=n.CurrentLibrary.getUIPosition(arguments,br.getZoom()),bC=bA.element;bC&&(n.CurrentLibrary.setOffset(bC,bB),be(C(bC),bB))},stopDrag:function(){bz=!0}}},av=function(bD,bC,bE,bB,bz){bC=new a3({reference:bC,referenceCanvas:bB});return aH({paintStyle:bD,endpoint:bE,anchor:bC,source:bz,scope:"__floating"})},S=function(bB,bz){var bD=document.createElement("div"),bA=(bD.style.position="absolute",C(bD)),bD=(aX(bD,bz),H(bA));X({elId:bD}),bB.id=bD,bB.element=bA},ah=function(b5){var bX,bW,bA,bF,bz,bD,bT,bV,b4,bK,bZ,b0,bS=this,b3=(bS.idPrefix="_jsplumb_e_",bS.defaultLabelLocation=[.5,.5],bS.defaultOverlayKeys=["Overlays","EndpointOverlays"],this.parent=b5.parent,x.apply(this,arguments),b5=b5||{},this.getTypeDescriptor=function(){return"endpoint"},this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:bS._jsPlumb.Defaults.MaxConnections,paintStyle:bS._jsPlumb.Defaults.EndpointStyle||n.Defaults.EndpointStyle,endpoint:bS._jsPlumb.Defaults.Endpoint||n.Defaults.Endpoint,hoverPaintStyle:bS._jsPlumb.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,overlays:bS._jsPlumb.Defaults.EndpointOverlays||n.Defaults.EndpointOverlays,connectorStyle:b5.connectorStyle,connectorHoverStyle:b5.connectorHoverStyle,connectorClass:b5.connectorClass,connectorHoverClass:b5.connectorHoverClass,connectorOverlays:b5.connectorOverlays,connector:b5.connector,connectorTooltip:b5.connectorTooltip}},this.applyType),bE=(this.applyType=function(b7){b3(b7),null!=b7.maxConnections&&(bY=b7.maxConnections),b7.scope&&(bS.scope=b7.scope),bS.connectorStyle=b7.connectorStyle,bS.connectorHoverStyle=b7.connectorHoverStyle,bS.connectorOverlays=b7.connectorOverlays,bS.connector=b7.connector,bS.connectorTooltip=b7.connectorTooltip,bS.connectionType=b7.connectionType,bS.connectorClass=b7.connectorClass,bS.connectorHoverClass=b7.connectorHoverClass},!0),bC=!(!1===b5.enabled),bR=(this.isVisible=function(){return bE},this.setVisible=function(b8,cb,b7){if(bE=b8,bS.canvas&&(bS.canvas.style.display=b8?"block":"none"),bS[b8?"showOverlays":"hideOverlays"](),!cb)for(var b9,ca=0;ca<bS.connections.length;ca++)bS.connections[ca].setVisible(b8),b7||(b9=bS===bS.connections[ca].endpoints[0]?1:0,1==bS.connections[ca].endpoints[b9].connections.length&&bS.connections[ca].endpoints[b9].setVisible(b8,!0,!0))},this.isEnabled=function(){return bC},this.setEnabled=function(b7){bC=b7},b5.source),bL=b5.uuid,b2=null,bG=null,bJ=(bL&&(aW[bL]=bS),c(bR,"id")),bB=(this.elementId=bJ,this.element=bR,b5.connectionCost),b1=(this.getConnectionCost=function(){return bB},!(this.setConnectionCost=function(b7){bB=b7})!==b5.connectionsBidirectional),bP=(this.areConnectionsBidirectional=function(){return b1},this.setConnectionsBidirectional=function(b7){b1=b7},bS.anchor=b5.anchor?br.makeAnchor(b5.anchor,bJ,br):b5.anchors?br.makeAnchor(b5.anchors,bJ,br):br.makeAnchor(br.Defaults.Anchor||"TopCenter",bJ,br),b5._transient||br.anchorManager.add(bS,bJ),null),bQ=(this.setEndpoint=function(b7){var b8={_jsPlumb:bS._jsPlumb,parent:b5.parent,container:b5.container,tooltip:b5.tooltip,connectorTooltip:b5.connectorTooltip,endpoint:bS},b9=(bP=z(b7)?new n.Endpoints[Y][b7](b8):l(b7)?(b8=n.extend(b7[1],b8),new n.Endpoints[Y][b7[0]](b8)):b7.clone(),n.extend({},b8));bP.clone=function(){var ca=new Object;return bP.constructor.apply(ca,[b9]),ca},bS.endpoint=bP,bS.type=bS.endpoint.type},this.setEndpoint(b5.endpoint||br.Defaults.Endpoint||n.Defaults.Endpoint||"Dot"),bS.setHover),bN=(bS.setHover=function(){bS.endpoint.setHover.apply(bS.endpoint,arguments),bQ.apply(bS,arguments)},D(bS.endpoint,bS,function(b7){0<bS.connections.length?bS.connections[0].setHover(b7,!1):bS.setHover(b7)}),this.setPaintStyle(b5.paintStyle||b5.style||br.Defaults.EndpointStyle||n.Defaults.EndpointStyle,!0),this.setHoverPaintStyle(b5.hoverPaintStyle||br.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,!0),this.paintStyleInUse=this.getPaintStyle(),this.getPaintStyle()),bY=(this.connectorStyle=b5.connectorStyle,this.connectorHoverStyle=b5.connectorHoverStyle,this.connectorOverlays=b5.connectorOverlays,this.connector=b5.connector,this.connectorTooltip=b5.connectorTooltip,this.connectorClass=b5.connectorClass,this.connectorHoverClass=b5.connectorHoverClass,this.isSource=b5.isSource||!1,this.isTarget=b5.isTarget||!1,b5.maxConnections||br.Defaults.MaxConnections),bM=(this.getAttachedElements=function(){return bS.connections},this.canvas=this.endpoint.canvas,this.connections=b5.connections||[],this.scope=b5.scope||R,this.connectionType=b5.connectionType,this.timestamp=null,bS.reattachConnections=b5.reattach||br.Defaults.ReattachConnections,bS.connectionsDetachable=br.Defaults.ConnectionsDetachable,!1!==b5.connectionsDetachable&&!1!==b5.detachable||(bS.connectionsDetachable=!1),b5.dragAllowedWhenFull||!0),bI=(b5.onMaxConnections&&bS.bind("maxConnections",b5.onMaxConnections),this.computeAnchor=function(b7){return bS.anchor.compute(b7)},this.addConnection=function(b7){bS.connections.push(b7)},this.detach=function(b8,cd,b9,cg,b7){var cf=g(bS.connections,function(ci){return ci.id==b8.id}),ce=!1;if(cg=!1!==cg,0<=cf&&(b9||b8._forceDetach||b8.isDetachable()||b8.isDetachAllowed(b8))){var ch=b8.endpoints[0]==bS?b8.endpoints[1]:b8.endpoints[0];if(b9||b8._forceDetach||bS.isDetachAllowed(b8)){if(bS.connections.splice(cf,1),!cd&&(ch.detach(b8,!0,b9),b8.endpointsToDeleteOnDetach))for(var cc=0;cc<b8.endpointsToDeleteOnDetach.length;cc++){var ca=b8.endpointsToDeleteOnDetach[cc];ca&&0==ca.connections.length&&br.deleteEndpoint(ca)}aZ(b8.connector.getDisplayElements(),b8.parent),A(a0[b8.scope],function(ci){return ci.id==b8.id});ce=!0;ba(b8,!cd&&cg,b7)}}return ce},this.detachAll=function(b8,b7){for(;0<bS.connections.length;)bS.detach(bS.connections[0],!1,!0,b8,b7)},this.detachFrom=function(ca,b9,b7){for(var cb=[],b8=0;b8<bS.connections.length;b8++)bS.connections[b8].endpoints[1]!=ca&&bS.connections[b8].endpoints[0]!=ca||cb.push(bS.connections[b8]);for(b8=0;b8<cb.length;b8++)bS.detach(cb[b8],!1,!0,b9,b7)&&cb[b8].setHover(!1,!1)},this.detachFromConnection=function(b8){var b7=g(bS.connections,function(b9){return b9.id==b8.id});0<=b7&&bS.connections.splice(b7,1)},this.getElement=function(){return bR},this.setElement=function(ca,b7){var cc=H(ca),cb=(A(aV[bS.elementId],function(cd){return cd.id==bS.id}),bR=C(ca),bJ=H(bR),bS.elementId=bJ,ay({source:cc,container:b7})),ca=bD.getParent(bS.canvas);bD.removeElement(bS.canvas,ca),bD.appendElement(bS.canvas,cb);for(var b8=0;b8<bS.connections.length;b8++)bS.connections[b8].moveParent(cb),bS.connections[b8].sourceId=bJ,bS.connections[b8].source=bR;W(aV,cc,bS)},this.getUuid=function(){return bL},this.makeInPlaceCopy=function(){var b9=bS.anchor.getCurrentLocation(bS),b8=bS.anchor.getOrientation(bS);return aH({anchor:{compute:function(){return[b9[0],b9[1]]},getCurrentLocation:function(){return[b9[0],b9[1]]},getOrientation:function(){return b8}},source:bR,paintStyle:this.getPaintStyle(),endpoint:bP,_transient:!0,scope:bS.scope})},this.isConnectedTo=function(b9){var b8=!1;if(b9)for(var b7=0;b7<bS.connections.length;b7++)if(bS.connections[b7].endpoints[1]==b9){b8=!0;break}return b8},this.isFloating=function(){return null!=b2},this.connectorSelector=function(){var b7=bS.connections[0];return(!bS.isTarget||!b7)&&(bS.connections.length<bY||-1==bY)?null:b7},this.isFull=function(){return!(bS.isFloating()||bY<1||bS.connections.length<bY)},this.setDragAllowedWhenFull=function(b7){bM=b7},this.setStyle=bS.setPaintStyle,this.equals=function(b7){return this.anchor.equals(b7.anchor)},this.paint=function(ca){var cg=(ca=ca||{}).timestamp,cf=!(!1===ca.recalc);if(!cg||bS.timestamp!==cg){X({elId:bJ,timestamp:cg,recalc:cf});var cm=ca.offset||aj[bJ];if(cm){var b7,ci,cd=ca.anchorPoint,cb=ca.connectorPaintStyle,ch=(null==cd&&(b7=ca.dimensions||ag[bJ],null!=cm&&null!=b7||(X({elId:bJ,timestamp:cg}),cm=aj[bJ],b7=ag[bJ]),cm={xy:[cm.left,cm.top],wh:b7,element:bS,timestamp:cg},cf&&bS.anchor.isDynamic&&0<bS.connections.length&&(ca=0==(cf=(b7=(b8=>{var b7=0;if(null!=b8)for(var b9=0;b9<bS.connections.length;b9++)if(bS.connections[b9].sourceId==b8||bS.connections[b9].targetId==b8){b7=b9;break}return bS.connections[b7]})(ca.elementWithPrecedence)).endpoints[0]==bS?1:0)?b7.sourceId:b7.targetId,ci=aj[ca],ca=ag[ca],cm.txy=[ci.left,ci.top],cm.twh=ca,cm.tElement=b7.endpoints[cf]),cd=bS.anchor.compute(cm)),bP.compute(cd,bS.anchor.getOrientation(bS),bS.paintStyleInUse,cb||bS.paintStyleInUse));bP.paint(ch,bS.paintStyleInUse,bS.anchor),bS.timestamp=cg;for(var ce=0;ce<bS.overlays.length;ce++){var b8=bS.overlays[ce];b8.isVisible&&(bS.overlayPlacements[ce]=b8.draw(bS.endpoint,bS.paintStyleInUse,ch))}}}},this.repaint=this.paint,this.removeConnection=this.detach,n.CurrentLibrary.isDragSupported(bR)&&(bA=!(bX={id:null,element:null}),bF=bW=null,bz=bh(bX),bD=n.CurrentLibrary,bZ=b5.dragOptions||{},bT=n.extend({},bD.defaultDragOptions),bV=bD.dragEvents.start,b4=bD.dragEvents.stop,bK=bD.dragEvents.drag,(bZ=n.extend(bT,bZ)).scope=bZ.scope||bS.scope,bZ[bV]=ap(bZ[bV],function(){bW=bS.connectorSelector();var b7=!0;if(bS.isEnabled()||(b7=!1),null!=bW||b5.isSource||(b7=!1),b5.isSource&&bS.isFull()&&!bM&&(b7=!1),!1===(b7=null==bW||bW.isDetachable()?b7:!1))return n.CurrentLibrary.stopDrag&&n.CurrentLibrary.stopDrag(),bz.stopDrag(),!1;bW&&!bS.isFull()&&b5.isSource&&(bW=null),X({elId:bJ}),(bG=bS.makeInPlaceCopy()).referenceEndpoint=bS,bG.paint(),S(bX,bS.parent);var ce,cc,b9,b7=C(bG.canvas),b7=s(b7,br),b7=bs([b7.left,b7.top],bG.canvas);n.CurrentLibrary.setOffset(bX.element,{left:b7[0],top:b7[1]}),bS.parentAnchor&&(bS.anchor=br.makeAnchor(bS.parentAnchor,bS.elementId,br)),d(C(bS.canvas),"dragId",bX.id),d(C(bS.canvas),"elId",bJ),b5.proxy&&bS.setPaintStyle(b5.proxy.paintStyle),b2=av(bS.getPaintStyle(),bS.anchor,bP,bS.canvas,bX.element),null==bW?(bS.anchor.locked=!0,bS.setHover(!1,!1),bW=af({sourceEndpoint:bS,targetEndpoint:b2,source:bS.endpointWillMoveTo||C(bR),target:bX.element,anchors:[bS.anchor,b2.anchor],paintStyle:b5.connectorStyle,hoverPaintStyle:b5.connectorHoverStyle,connector:b5.connector,overlays:b5.connectorOverlays,type:bS.connectionType,cssClass:bS.connectorClass,hoverClass:bS.connectorHoverClass})):(bA=!0,bW.setHover(!1),bI(C(bG.canvas),!1,!0),b7=bW.endpoints[0].id==bS.id?0:1,bW.floatingAnchorIndex=b7,bS.detachFromConnection(bW),ce=C(bS.canvas),cc=n.CurrentLibrary.getDragScope(ce),d(ce,"originalScope",cc),b9=n.CurrentLibrary.getDropScope(ce),n.CurrentLibrary.setDragScope(ce,b9),0==b7?(bF=[bW.source,bW.sourceId,b0,cc],bW.source=bX.element,bW.sourceId=bX.id):(bF=[bW.target,bW.targetId,b0,cc],bW.target=bX.element,bW.targetId=bX.id),bW.endpoints[0==b7?1:0].anchor.locked=!0,bW.suspendedEndpoint=bW.endpoints[b7],bW.suspendedEndpoint.setHover(!1),b2.referenceEndpoint=bW.suspendedEndpoint,bW.endpoints[b7]=b2,a8(bW)),bk[bX.id]=bW,b2.addConnection(bW),W(aV,bX.id,b2),br.currentlyDragging=!0}),bZ[bK]=ap(bZ[bK],bz.drag),bZ[b4]=ap(bZ[b4],function(){var b8=bD.getDropEvent(arguments),b7=(br.currentlyDragging=!1,A(aV[bX.id],function(b9){return b9.id==b2.id}),aZ([bX.element[0],b2.canvas],bR),aw(bG.canvas,bR),br.anchorManager.clearFor(bX.id),null==bW.floatingAnchorIndex?1:bW.floatingAnchorIndex);bW.endpoints[0==b7?1:0].anchor.locked=!1,bS.setPaintStyle(bN),bW.endpoints[b7]==b2&&(bA&&bW.suspendedEndpoint?(0==b7?(bW.source=bF[0],bW.sourceId=bF[1]):(bW.target=bF[0],bW.targetId=bF[1]),n.CurrentLibrary.setDragScope(bF[2],bF[3]),bW.endpoints[b7]=bW.suspendedEndpoint,(bW.isReattach()||bW._forceReattach||bW._forceDetach||!bW.endpoints[0==b7?1:0].detach(bW,!1,!1,!0,b8))&&(bW.setHover(!1),bW.floatingAnchorIndex=null,bW.suspendedEndpoint.addConnection(bW),br.repaint(bF[1])),bW._forceDetach=null,bW._forceReattach=null):(aZ(bW.connector.getDisplayElements(),bS.parent),bS.detachFromConnection(bW))),bS.anchor.locked=!1,bS.paint({recalc:!1}),aT(bW),bG=bW=null,delete aV[b2.elementId],b2.anchor=null,b2=null,br.currentlyDragging=!1}),b0=C(bS.canvas),n.CurrentLibrary.initDraggable(b0,bZ,!0)),function(b9,ce,cc,cf){var b8,cd,b7;(b5.isTarget||ce)&&n.CurrentLibrary.isDropSupported(bR)&&(ce=b5.dropOptions||br.Defaults.DropOptions||n.Defaults.DropOptions,(ce=n.extend({},ce)).scope=ce.scope||bS.scope,b8=n.CurrentLibrary.dragEvents.drop,cd=n.CurrentLibrary.dragEvents.over,b7=n.CurrentLibrary.dragEvents.out,ce[b8]=ap(ce[b8],function(){var cg=n.CurrentLibrary.getDropEvent(arguments),ct=C(n.CurrentLibrary.getDragObject(arguments)),ci=c(ct,"dragId"),cs=(c(ct,"elId"),c(ct,"originalScope")),cn=bk[ci];if(cn.suspendedEndpoint&&(cn.suspendedEndpoint.id==bS.id||bS.referenceEndpoint&&cn.suspendedEndpoint.id==bS.referenceEndpoint.id))cn._forceReattach=!0;else if(null!=cn){var cp=null==cn.floatingAnchorIndex?1:cn.floatingAnchorIndex,ct=(cs&&n.CurrentLibrary.setDragScope(ct,cs),null==cf||cf.isEnabled());if(bS.isFull()&&bS.fire("maxConnections",{endpoint:bS,connection:cn,maxConnections:bY},cg),!bS.isFull()&&(0!=cp||bS.isSource)&&(1!=cp||bS.isTarget)&&ct){cs=!0,ct=(cn.suspendedEndpoint&&cn.suspendedEndpoint.id!=bS.id&&(0==cp?(cn.source=cn.suspendedEndpoint.element,cn.sourceId=cn.suspendedEndpoint.elementId):(cn.target=cn.suspendedEndpoint.element,cn.targetId=cn.suspendedEndpoint.elementId),cn.isDetachAllowed(cn)&&cn.endpoints[cp].isDetachAllowed(cn)&&cn.suspendedEndpoint.isDetachAllowed(cn)&&br.checkCondition("beforeDetach",cn)||(cs=!1)),0==cp?(cn.source=bS.element,cn.sourceId=bS.elementId):(cn.target=bS.element,cn.targetId=bS.elementId),function(){cn.floatingAnchorIndex=null});if(cs=cs&&bS.isDropAllowed(cn.sourceId,cn.targetId,cn.scope,cn,bS)){cn.endpoints[cp].detachFromConnection(cn),cn.suspendedEndpoint&&cn.suspendedEndpoint.detachFromConnection(cn),(cn.endpoints[cp]=bS).addConnection(cn);var cv,cu,cx=bS.getParameters();for(cv in cx)cn.setParameter(cv,cx[cv]);cn.suspendedEndpoint?(cs=cn.suspendedEndpoint.getElement(),cu=cn.suspendedEndpoint.elementId,ba({source:0==cp?cs:cn.source,target:1==cp?cs:cn.target,sourceId:0==cp?cu:cn.sourceId,targetId:1==cp?cu:cn.targetId,sourceEndpoint:0==cp?cn.suspendedEndpoint:cn.endpoints[0],targetEndpoint:1==cp?cn.suspendedEndpoint:cn.endpoints[1],connection:cn},!0,cg)):cx.draggable&&n.CurrentLibrary.initDraggable(bS.element,bZ,!0),bx(cn,null,cg)}else cn.suspendedEndpoint&&(cn.endpoints[cp]=cn.suspendedEndpoint,cn.setHover(!1),cn._forceDetach=!0,0==cp?(cn.source=cn.suspendedEndpoint.element,cn.sourceId=cn.suspendedEndpoint.elementId):(cn.target=cn.suspendedEndpoint.element,cn.targetId=cn.suspendedEndpoint.elementId),cn.suspendedEndpoint.addConnection(cn),cn.endpoints[0].repaint(),cn.repaint(),br.repaint(cn.source.elementId),cn._forceDetach=!1);ct()}br.currentlyDragging=!1,delete bk[ci],cn.suspendedEndpoint=null}}),ce[cd]=ap(ce[cd],function(){var cg,ch=n.CurrentLibrary.getDragObject(arguments),ch=c(C(ch),"dragId"),ch=bk[ch];null!=ch&&(cg=null==ch.floatingAnchorIndex?1:ch.floatingAnchorIndex,bS.isTarget&&0!=ch.floatingAnchorIndex||ch.suspendedEndpoint&&bS.referenceEndpoint&&bS.referenceEndpoint.id==ch.suspendedEndpoint.id)&&ch.endpoints[cg].anchor.over(bS.anchor)}),ce[b7]=ap(ce[b7],function(){var cg,ch=n.CurrentLibrary.getDragObject(arguments),ch=c(C(ch),"dragId"),ch=bk[ch];null!=ch&&(cg=null==ch.floatingAnchorIndex?1:ch.floatingAnchorIndex,bS.isTarget&&0!=ch.floatingAnchorIndex||ch.suspendedEndpoint&&bS.referenceEndpoint&&bS.referenceEndpoint.id==ch.suspendedEndpoint.id)&&ch.endpoints[cg].anchor.out()}),n.CurrentLibrary.initDroppable(b9,ce,!0,cc))});return bI(C(bS.canvas),!0,!(b5._transient||bS.anchor.isFloating),bS),b5.type&&bS.addType(b5.type),bS}}function q(H,M,J,I,L,K){return function(O){var N=(O=O||{}).jsPlumbInstance.makeAnchor([H,M,J,I,0,0],O.elementId,O.jsPlumbInstance);return N.type=L,K&&K(N,O),N}}var g=jsPlumbUtil.findWithFunction,G=jsPlumbUtil.indexOf,A=jsPlumbUtil.removeWithFunction,r=(jsPlumbUtil.remove,jsPlumbUtil.addWithFunction),l=(jsPlumbUtil.addToList,jsPlumbUtil.isArray),z=jsPlumbUtil.isString,u=jsPlumbUtil.isObject,C=function(H){return n.CurrentLibrary.getElementObject(H)},o=jsPlumbUtil.log,p=(jsPlumbUtil.group,jsPlumbUtil.groupEnd,jsPlumbUtil.time,jsPlumbUtil.timeEnd,function(){return""+(new Date).getTime()}),B=function(aa){function Y(){var ad;W&&ac&&(n.extend(ad={},W),n.extend(ad,ac),delete U.hoverPaintStyle,ad.gradient&&W.fillStyle&&delete ad.gradient,ac=ad)}function P(ad){return null==ad?null:ad.split(" ")}function Q(ae){if(U.getDefaultType){for(var ag=U.getTypeDescriptor(),af=jsPlumbUtil.merge({},U.getDefaultType()),ad=0;ad<H.length;ad++)af=jsPlumbUtil.merge(af,U._jsPlumb.getType(H[ad],ag));U.applyType(af),ae||U.repaint()}}var U=this,ab=arguments,S=!1,M=aa.parameters||{},X=U.idPrefix+(new Date).getTime(),W=null,ac=null,L=(U._jsPlumb=aa._jsPlumb,U.getId=function(){return X},U.tooltip=aa.tooltip,U.hoverClass=aa.hoverClass||U._jsPlumb.Defaults.HoverClass||n.Defaults.HoverClass,jsPlumbUtil.EventGenerator.apply(this),this.clone=function(){var ad=new Object;return U.constructor.apply(ad,ab),ad},this.getParameter=function(ad){return M[ad]},this.getParameters=function(){return M},this.setParameter=function(ad,ae){M[ad]=ae},this.setParameters=function(ad){M=ad},this.overlayPlacements=[],aa.beforeDetach),O=(this.isDetachAllowed=function(ad){var ae=U._jsPlumb.checkCondition("beforeDetach",ad);if(L)try{ae=L(ad)}catch(af){o("jsPlumb: beforeDetach callback failed",af)}return ae},aa.beforeDrop),V=(this.isDropAllowed=function(ai,af,ag,ad,ae){var ah=U._jsPlumb.checkCondition("beforeDrop",{sourceId:ai,targetId:af,scope:ag,connection:ad,dropEndpoint:ae});if(O)try{ah=O({sourceId:ai,targetId:af,scope:ag,connection:ad,dropEndpoint:ae})}catch(aj){o("jsPlumb: beforeDrop callback failed",aj)}return ah},this.setPaintStyle=function(ad,ae){W=ad,U.paintStyleInUse=W,Y(),ae||U.repaint()},this.getPaintStyle=function(){return W},this.setHoverPaintStyle=function(ad,ae){ac=ad,Y(),ae||U.repaint()},this.getHoverPaintStyle=function(){return ac},this.setHover=function(ad,af,ae){U._jsPlumb.currentlyDragging||U._jsPlumb.isHoverSuspended()||(S=ad,null!=U.hoverClass&&null!=U.canvas&&(ad?J.addClass(U.canvas,U.hoverClass):J.removeClass(U.canvas,U.hoverClass)),null!=ac&&(U.paintStyleInUse=ad?ac:W,ae=ae||p(),U.repaint({timestamp:ae,recalc:!1})),U.getAttachedElements&&!af&&Z(ad,p(),U))},this.isHover=function(){return S},null),J=(this.setZIndex=function(ad){V=ad},this.getZIndex=function(){return V},n.CurrentLibrary),I=["click","dblclick","mouseenter","mouseout","mousemove","mousedown","mouseup","contextmenu"],T={mouseout:"mouseexit"},Z=(this.attachListeners=function(ae,af){for(var ad=0;ad<I.length;ad++)((af,ag,ae)=>{var ad=T[ae]||ae;J.bind(af,ae,function(ah){ag.fire(ad,ag,ah)})})(ae,af,I[ad])},function(ah,ag,ad){var af=U.getAttachedElements();if(af)for(var ae=0;ae<af.length;ae++)ad&&ad==af[ae]||af[ae].setHover(ah,!0,ag)}),H=(this.reattachListenersForElement=function(ae){if(1<arguments.length){for(var ad=0;ad<I.length;ad++)((af,ae)=>{T[ae],J.unbind(af,ae)})(ae,I[ad]);for(ad=1;ad<arguments.length;ad++)U.attachListeners(ae,arguments[ad])}},[]);U.setType=function(ad,ae){H=P(ad)||[],Q(ae)},U.getType=function(){return H},U.hasType=function(ad){return-1!=jsPlumbUtil.indexOf(H,ad)},U.addType=function(af,ag){var ae=P(af),ah=!1;if(null!=ae){for(var ad=0;ad<ae.length;ad++)U.hasType(ae[ad])||(H.push(ae[ad]),ah=!0);ah&&Q(ag)}},U.removeType=function(ag,ah){var ae=P(ag),ai=!1;if(null!=ae){for(var ad=0;ad<ae.length;ad++)ai=(ak=>-1!=(ak=jsPlumbUtil.indexOf(H,ak))&&(H.splice(ak,1),!0))(ae[ad])||ai;ai&&Q(ah)}},U.toggleType=function(ag,ah){var af=P(ag);if(null!=af){for(var ae=0;ae<af.length;ae++){var ad=jsPlumbUtil.indexOf(H,af[ae]);-1!=ad?H.splice(ad,1):H.push(af[ae])}Q(ah)}},this.applyType=function(ae){if(U.setPaintStyle(ae.paintStyle),U.setHoverPaintStyle(ae.hoverPaintStyle),ae.parameters)for(var ad in ae.parameters)U.setParameter(ad,ae.parameters[ad])}},e=0,n=new w;void 0!==window&&(window.jsPlumb=n),n.getInstance=function(I){I=new w(I);return I.init(),I},"function"==typeof define&&define.amd&&define.amd.jsPlumb&&define("jsplumb",[],function(){return n}),n.Anchors.TopCenter=q(.5,0,0,-1,"TopCenter"),n.Anchors.BottomCenter=q(.5,1,0,1,"BottomCenter"),n.Anchors.LeftMiddle=q(0,.5,-1,0,"LeftMiddle"),n.Anchors.RightMiddle=q(1,.5,1,0,"RightMiddle"),n.Anchors.Center=q(.5,.5,0,0,"Center"),n.Anchors.TopRight=q(1,0,0,-1,"TopRight"),n.Anchors.BottomRight=q(1,1,0,1,"BottomRight"),n.Anchors.TopLeft=q(0,0,0,-1,"TopLeft"),n.Anchors.BottomLeft=q(0,1,0,1,"BottomLeft"),n.Defaults.DynamicAnchors=function(H){return H.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],H.elementId,H.jsPlumbInstance)},n.Anchors.AutoDefault=function(I){I=I.jsPlumbInstance.makeDynamicAnchor(n.Defaults.DynamicAnchors(I));return I.type="AutoDefault",I},n.Anchors.Assign=q(0,0,0,0,"Assign",function(I,J){var H=J.position||"Fixed";I.positionFinder=H.constructor==String?J.jsPlumbInstance.AnchorPositionFinders[H]:H,I.constructorParams=J}),n.Anchors.Continuous=function(H){return H.jsPlumbInstance.continuousAnchorFactory.get(H)},n.AnchorPositionFinders={Fixed:function(K,H,J,I){return[(K.left-H.left)/J[0],(K.top-H.top)/J[1]]},Grid:function(H,Q,L,I){var P=H.left-Q.left,H=H.top-Q.top,Q=L[0]/I.grid[0],I=L[1]/I.grid[1],P=Math.floor(P/Q),H=Math.floor(H/I);return[(P*Q+Q/2)/L[0],(H*I+I/2)/L[1]]}},n.Anchors.Perimeter=function(H){var I=(H=H||{}).anchorCount||60,L=H.shape;if(!L)throw new Error("no shape supplied to Perimeter Anchor type");function J(){for(var V=2*Math.PI/I,X=0,T=[],U=0;U<I;U++){var S=.5+.5*Math.sin(X),Y=.5+.5*Math.cos(X);T.push([S,Y,0,0]),X+=V}return T}function M(U){for(var W=I/U.length,S=[],T=function(aa,ad,Z,ac,ae){for(var Y=(Z-aa)/(W=I*ae),X=(ac-ad)/W,ab=0;ab<W;ab++)S.push([aa+Y*ab,ad+X*ab,0,0])},V=0;V<U.length;V++)T.apply(null,U[V]);return S}function P(S){for(var U=[],T=0;T<S.length;T++)U.push([S[T][0],S[T][1],S[T][2],S[T][3],1/S.length]);return M(U)}function N(){return P([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])}var K={circle:J,ellipse:J,diamond:function(){return P([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},rectangle:N,square:N,triangle:function(){return P([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},path:function(X){for(var V=X.points,W=[],T=0,U=0;U<V.length-1;U++){var S=Math.sqrt(Math.pow(V[U][2]-V[U][0])+Math.pow(V[U][3]-V[U][1]));T+=S,W.push([V[U][0],V[U][1],V[U+1][0],V[U+1][1],S])}for(U=0;U<W.length;U++)W[U][4]=W[U][4]/T;return M(W)}};if(K[L])return K=K[L](H),H.rotation&&(K=((X,W)=>{for(var Y=[],V=W/180*Math.PI,U=0;U<X.length;U++){var T=X[U][0]-.5,S=X[U][1]-.5;Y.push([T*Math.cos(V)-S*Math.sin(V)+.5,T*Math.sin(V)+S*Math.cos(V)+.5,X[U][2],X[U][3]])}return Y})(K,H.rotation)),(H=H.jsPlumbInstance.makeDynamicAnchor(K)).type="Perimeter",H;throw new Error("Shape ["+L+"] is unknown by Perimeter Anchor type")}})(),(()=>{function b(f){jsPlumb.DOMElementComponent.apply(this,arguments);var e=[];this.getDisplayElements=function(){return e},this.appendDisplayElement=function(g){e.push(g)}}function c(f){var e=!0,d=this;this.isAppendedAtTopLevel=!0,this.component=f.component,this.loc=null==f.location?.5:f.location,this.endpointLoc=null==f.endpointLocation?[.5,.5]:f.endpointLocation,this.setVisible=function(g){e=g,d.component.repaint()},this.isVisible=function(){return e},this.hide=function(){d.setVisible(!1)},this.show=function(){d.setVisible(!0)},this.incrementLocation=function(g){d.loc+=g,d.component.repaint()},this.setLocation=function(g){d.loc=g,d.component.repaint()},this.getLocation=function(){return d.loc}}function a(i){function k(m){return f=null==f?d.getDimensions():f}jsPlumb.DOMElementComponent.apply(this,arguments),c.apply(this,arguments);var l,d=this,e=!1,f=(i=i||{},this.id=i.id,this.getElement=function(){var m;return null==l&&(l=i.create(i.component),(l=jsPlumb.CurrentLibrary.getDOMElement(l)).style.position="absolute",m=i._jsPlumb.overlayClass+" "+(d.cssClass||i.cssClass||""),l.className=m,jsPlumb.appendElement(l,i.component.parent),i._jsPlumb.getId(l),d.attachListeners(l,d),d.canvas=l),l},this.getDimensions=function(){return jsPlumb.CurrentLibrary.getSize(jsPlumb.CurrentLibrary.getElementObject(d.getElement()))},null),g=(this.clearCachedDimensions=function(){f=null},this.computeMaxSize=function(){var m=k();return Math.max(m[0],m[1])},d.setVisible);d.setVisible=function(m){g(m),l.style.display=m?"block":"none"},this.cleanup=function(){null!=l&&jsPlumb.CurrentLibrary.removeElement(l)},this.paint=function(m,o,n){e||(d.getElement(),m.appendDisplayElement(l),d.attachListeners(l,m),e=!0),l.style.left=n[0]+o.minx+"px",l.style.top=n[1]+o.miny+"px"},this.draw=function(n,o,p){var s,r,q,t=k();return null!=t&&2==t.length?(q={x:0,y:0},q=n.pointOnPath?(r=d.loc,s=!1,(jsPlumbUtil.isString(d.loc)||d.loc<0||1<d.loc)&&(r=parseInt(d.loc),s=!0),n.pointOnPath(r,s)):{x:(r=d.loc.constructor==Array?d.loc:d.endpointLoc)[0]*p[2],y:r[1]*p[3]},minx=q.x-t[0]/2,miny=q.y-t[1]/2,d.paint(n,{minx:minx,miny:miny,td:t,cxy:q},p),[minx,minx+t[0],miny,miny+t[1]]):[0,0,0,0]},this.reattachListeners=function(m){l&&d.reattachListenersForElement(l,d,m)}}jsPlumb.DOMElementComponent=function(d){jsPlumb.jsPlumbUIComponent.apply(this,arguments),this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(f){}},jsPlumb.Connectors.Straight=function(){this.type="Straight";var k,f,l,o,m,i,h,e,d,n,s=this;this.compute=function(B,K,t,A,G,u,E,z){var J=Math.abs(B[0]-K[0]),D=Math.abs(B[1]-K[1]),C=.45*J,v=.45*D,H=(J*=1.9,D*=1.9,Math.min(B[0],K[0])-C),F=Math.min(B[1],K[1])-v,E=Math.max(2*E,z);return J<E&&(H=B[0]+(K[0]-B[0])/2-(J=E)/2,C=(J-Math.abs(B[0]-K[0]))/2),D<E&&(F=B[1]+(K[1]-B[1])/2-(D=E)/2,v=(D-Math.abs(B[1]-K[1]))/2),i=B[0]<K[0]?C:J-C,k=[H,F,J,D,i,h=B[1]<K[1]?v:D-v,e=B[0]<K[0]?J-C:C,d=B[1]<K[1]?D-v:v],o=e-i,m=d-h,f=jsPlumbUtil.gradient({x:i,y:h},{x:e,y:d}),l=-1/f,Math.atan(f),Math.atan(l),n=Math.sqrt(o*o+m*m),k},this.pointOnPath=function(u,v){return 0!=u||v?1!=u||v?(v=v?0<u?u:n+u:u*n,jsPlumbUtil.pointOnLine({x:i,y:h},{x:e,y:d},v)):{x:e,y:d}:{x:i,y:h}},this.gradientAtPoint=function(t){return f},this.pointAlongPathFrom=function(t,x,w){w=s.pointOnPath(t,w),t=1==t?{x:i+10*(e-i),y:h+10*(h-d)}:x<=0?{x:i,y:h}:{x:e,y:d};return x<=0&&1<Math.abs(x)&&(x*=-1),jsPlumbUtil.pointOnLine(w,t,x)}},jsPlumb.Connectors.Bezier=function(w){function d(){return[{x:g,y:f},{x:r[0],y:r[1]},{x:m[0],y:m[1]},{x:p,y:o}]}function n(y,x,z){return x=z?jsBezier.locationAlongCurveFrom(y,0<x?0:1,x):x}var r,m,p,o,g,f,t,s,v,e,q=this;this.majorAnchor=(w=w||{}).curviness||150,this.minorAnchor=10,this.type="Bezier",this._findControlPoint=function(I,x,D,y,B,G,z){var G=G.getOrientation(y),y=z.getOrientation(B),z=G[0]!=y[0]||G[1]==y[1],B=[],J=q.majorAnchor,E=q.minorAnchor;return z?(0==y[0]?B.push(D[0]<x[0]?I[0]+E:I[0]-E):B.push(I[0]+J*y[0]),0==y[1]?B.push(D[1]<x[1]?I[1]+E:I[1]-E):B.push(I[1]+J*G[1])):(0==G[0]?B.push(x[0]<D[0]?I[0]+E:I[0]-E):B.push(I[0]-J*G[0]),0==G[1]?B.push(x[1]<D[1]?I[1]+E:I[1]-E):B.push(I[1]+J*y[1])),B},this.compute=function(T,A,N,B,R,y,x,M){x=Math.max(M,x||0),v=Math.abs(T[0]-A[0])+x,e=Math.abs(T[1]-A[1])+x,t=Math.min(T[0],A[0])-x/2,s=Math.min(T[1],A[1])-x/2,g=T[0]<A[0]?v-x/2:x/2,f=T[1]<A[1]?e-x/2:x/2,p=T[0]<A[0]?x/2:v-x/2,o=T[1]<A[1]?x/2:e-x/2,r=q._findControlPoint([g,f],T,A,N,B,R,y),m=q._findControlPoint([p,o],A,T,B,N,y,R);var J,x=Math.min(g,p),A=Math.min(r[0],m[0]),T=Math.min(x,A),B=Math.max(g,p),N=Math.max(r[0],m[0]),y=Math.max(B,N),x=(v<y&&(v=y),T<0&&(t+=T,R=Math.abs(T),v+=R,r[0]+=R,g+=R,p+=R,m[0]+=R),Math.min(f,o)),A=Math.min(r[1],m[1]),B=Math.min(x,A),N=Math.max(f,o),y=Math.max(r[1],m[1]),T=Math.max(N,y);return e<T&&(e=T),B<0&&(s+=B,R=Math.abs(B),e+=R,r[1]+=R,f+=R,o+=R,m[1]+=R),M&&v<M&&(J=(M-v)/2,v=M,t-=J,g+=J,p+=J,r[0]=r[0]+J,m[0]=m[0]+J),M&&e<M&&(J=(M-e)/2,e=M,s-=J,f+=J,o+=J,r[1]=r[1]+J,m[1]=m[1]+J),[t,s,v,e,g,f,p,o,r[0],r[1],m[0],m[1]]};this.pointOnPath=function(x,z){var y=d();return x=n(y,x,z),jsBezier.pointOnCurve(y,x)},this.gradientAtPoint=function(x,z){var y=d();return x=n(y,x,z),jsBezier.gradientAtPoint(y,x)},this.pointAlongPathFrom=function(x,A,z){var y=d();return x=n(y,x,z),jsBezier.pointAlongCurveFrom(y,x,A)}},jsPlumb.Connectors.Flowchart=function(A){this.type="Flowchart";function l(M,J,L,K,I,H){var L=0==v.length?L:v[v.length-1][0],K=0==v.length?K:v[v.length-1][1],F=M==L?1/0:0,G=Math.abs(M==L?J-K:M-L);v.push([M,J,L,K,F,G]),n+=G,z=Math.max(z,M),x=Math.max(x,J),B=Math.min(B,M),y=Math.min(y,J)}function i(F,H){H&&(F=0<F?F/n:(n+F)/n);for(var D=h.length-1,E=1,G=0;G<h.length;G++)if(h[G][1]>=F){E=(F-h[D=G][0])/r[G];break}return{segment:v[D],proportion:E,index:D}}var t,q,s=this,e=(A=A||{}).stub||A.minStubLength||30,k=jsPlumbUtil.isArray(e)?e[0]:e,p=jsPlumbUtil.isArray(e)?e[1]:e,u=A.gap||0,f=A.midpoint||.5,v=[],n=0,h=[],r=[],w=[],z=-1/0,x=-1/0,B=1/0,y=1/0;A.grid;this.compute=function(aa,ao,D,U,az,O,Y,T,au,aq){v=[],h=[],r=[],z=x=-1/(n=0),B=y=1/0,s.lineWidth=Y,t=ao[0]<aa[0],q=ao[1]<aa[1];var ai,ae=Y||1,I=ae/2+(k+p),F=ae/2+(p+k),H=ae/2+(k+p),ae=ae/2+(p+k),R=az.orientation||az.getOrientation(D),aA=O.orientation||O.getOrientation(U),O=(t?ao:aa)[0],am=(q?ao:aa)[1],ap=Math.abs(ao[0]-aa[0])+I+F,ay=Math.abs(ao[1]-aa[1])+H+ae,M=((0==R[0]&&0==R[1]||0==aA[0]&&0==aA[1])&&(ai=[1,0][ag=ay<ap?0:1],aA=[],(R=[])[ag]=aa[ag]>ao[ag]?-1:1,aA[ag]=ao[ag]<aa[ag]?1:-1,aA[ai]=R[ai]=0),t?ap-F+u*R[0]:I+u*R[0]),L=q?ay-ae+u*R[1]:H+u*R[1],aw=t?I+u*aA[0]:ap-F+u*aA[0],av=q?H+u*aA[1]:ay-ae+u*aA[1],ad=M+R[0]*k,ac=L+R[1]*k,P=aw+aA[0]*p,N=av+aA[1]*p,Z=Math.abs(M-aw)>k+p,ab=Math.abs(L-av)>k+p,al=ad+(P-ad)*f,aj=ac+(N-ac)*f,ao=R[0]*aA[0]+R[1]*aA[1],aa=(w=[O-=I,am-=H,ap,ay,M,L,aw,av],0==R[0]?"y":"x"),ag=-1==ao?"opposite":1==ao?"orthogonal":"perpendicular",J=jsPlumbUtil.segment([M,L],[aw,av]),ar=(-1==R["x"==aa?0:1]&&(J={x:[null,4,3,2,1],y:[null,2,1,4,3]}[aa][J]),l(ad,ac,M,L),{oppositex:function(){var aB;return D.elementId==U.elementId?(aB=ac+(1-az.y)*au.height+Math.max(k,p),[[ad,aB],[P,aB]]):!Z||1!=J&&2!=J?[[ad,aj],[P,aj]]:[[al,L],[al,av]]},orthogonalx:function(){return 1==J||2==J?[[P,ac]]:[[ad,N]]},perpendicularx:function(){var aB=(av+L)/2;return 1==J&&1==aA[1]||2==J&&-1==aA[1]?Math.abs(aw-M)>Math.max(k,p)?[[P,ac]]:[[ad,ac],[ad,aB],[P,aB]]:3==J&&-1==aA[1]||4==J&&1==aA[1]?[[ad,aB],[P,aB]]:3==J&&1==aA[1]||4==J&&-1==aA[1]?[[ad,N]]:1==J&&-1==aA[1]||2==J&&1==aA[1]?Math.abs(aw-M)>Math.max(k,p)?[[al,ac],[al,N]]:[[ad,N]]:void 0},oppositey:function(){var aB;return D.elementId==U.elementId?[[aB=ad+(1-az.x)*au.width+Math.max(k,p),ac],[aB,N]]:!ab||2!=J&&3!=J?[[al,ac],[al,N]]:[[M,aj],[aw,aj]]},orthogonaly:function(){return 2==J||3==J?[[ad,N]]:[[P,ac]]},perpendiculary:function(){var aB;return 2==J&&-1==aA[0]||3==J&&1==aA[0]?Math.abs(aw-M)>Math.max(k,p)?[[ad,N]]:[[ad,aj],[P,aj]]:1==J&&-1==aA[0]||4==J&&1==aA[0]?[[aB=(aw+M)/2,ac],[aB,N]]:1==J&&1==aA[0]||4==J&&-1==aA[0]?[[P,ac]]:2==J&&1==aA[0]||3==J&&-1==aA[0]?Math.abs(av-L)>Math.max(k,p)?[[ad,aj],[P,aj]]:[[P,ac]]:void 0}}[ag+aa]());if(ar)for(var ax=0;ax<ar.length;ax++)l(ar[ax][0],ar[ax][1],M,L);return l(P,N,M,L),l(aw,av,M,L),(()=>{w.push(v.length);for(var D=0;D<v.length;D++)w.push(v[D][0]),w.push(v[D][1])})(),(()=>{for(var G=0,F=0;F<v.length;F++)r[F]=v[F][5]/n,h[F]=[G,G+=v[F][5]/n]})(),x>w[3]&&(w[3]=x+2*Y),z>w[2]&&(w[2]=z+2*Y),w},this.pointOnPath=function(D,E){return s.pointAlongPathFrom(D,0,E)},this.gradientAtPoint=function(D,E){return v[i(D,E).index][4]},this.pointAlongPathFrom=function(K,D,J){var K=i(K,J),J=K.segment,E=K.proportion,G=v[K.index][5],F=v[K.index][4];return{x:F==1/0?J[2]:J[2]>J[0]?J[0]+(1-E)*G-D:J[2]+E*G+D,y:0==F?J[3]:J[3]>J[1]?J[1]+(1-E)*G-D:J[3]+E*G+D,segmentInfo:K}}},jsPlumb.Endpoints.Dot=function(e){this.type="Dot";var d=this;this.radius=(e=e||{}).radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this.compute=function(k,g,m,i){m=m.radius||d.radius;return[k[0]-m,k[1]-m,2*m,2*m,m]}},jsPlumb.Endpoints.Rectangle=function(e){this.type="Rectangle";var d=this;this.width=(e=e||{}).width||20,this.height=e.height||20,this.compute=function(l,h,n,k){var i=n.width||d.width,n=n.height||d.height;return[l[0]-i/2,l[1]-n/2,i,n]}},jsPlumb.Endpoints.Image=function(i){this.type="Image",b.apply(this,arguments);var n=this,h=!1,g=!1,f=i.width,e=i.height,l=null,d=i.endpoint,d=(this.img=new Image,n.ready=!1,this.img.onload=function(){n.ready=!0,f=f||n.img.width,e=e||n.img.height,l&&l(n)},d.setImage=function(o,q){o.constructor!=String&&o.src;l=q,n.img.src=o,null!=n.canvas&&n.canvas.setAttribute("src",o)},d.setImage(i.src||i.url,i.onload),this.compute=function(q,o,r,p){return n.anchorPoint=q,n.ready?[q[0]-f/2,q[1]-e/2,f,e]:[0,0,0,0]},n.canvas=document.createElement("img"),h=!1,n.canvas.style.margin=0,n.canvas.style.padding=0,n.canvas.style.outline=0,n.canvas.style.position="absolute",i.cssClass?" "+i.cssClass:"");n.canvas.className=jsPlumb.endpointClass+d,f&&n.canvas.setAttribute("width",f),e&&n.canvas.setAttribute("height",e),jsPlumb.appendElement(n.canvas,i.parent),n.attachListeners(n.canvas,n),n.cleanup=function(){g=!0};this.paint=function(q,p,o){n.ready?(()=>{var o,s;g||(h||(n.canvas.setAttribute("src",n.img.src),n.appendDisplayElement(n.canvas),h=!0),o=n.anchorPoint[0]-f/2,s=n.anchorPoint[1]-e/2,jsPlumb.sizeCanvas(n.canvas,o,s,f,e))})():window.setTimeout(function(){n.paint(q,p,o)},200)}},jsPlumb.Endpoints.Blank=function(e){var d=this;this.type="Blank",b.apply(this,arguments),this.compute=function(h,f,i,g){return[h[0],h[1],10,0]},d.canvas=document.createElement("div"),d.canvas.style.display="block",d.canvas.style.width="1px",d.canvas.style.height="1px",d.canvas.style.background="transparent",d.canvas.style.position="absolute",d.canvas.className=d._jsPlumb.endpointClass,jsPlumb.appendElement(d.canvas,e.parent),this.paint=function(h,g,f){jsPlumb.sizeCanvas(d.canvas,h[0],h[1],h[2],h[3])}},jsPlumb.Endpoints.Triangle=function(d){this.type="Triangle",(d=d||{}).width=d.width||55,d.height=d.height||55,this.width=d.width,this.height=d.height,this.compute=function(k,g,m,i){var h=m.width||self.width,m=m.height||self.height;return[k[0]-h/2,k[1]-m/2,h,m]}},jsPlumb.Overlays.Arrow=function(h){this.type="Arrow",c.apply(this,arguments),this.isAppendedAtTopLevel=!1;var e=this,g=(this.length=(h=h||{}).length||20,this.width=h.width||20,this.id=h.id,(h.direction||1)<0?-1:1),f=h.paintStyle||{lineWidth:1},d=h.foldback||.623;this.computeMaxSize=function(){return 1.5*e.width},this.cleanup=function(){},this.draw=function(m,s,w){var y,v,B,u,p,o,n,x,r;return m.pointAlongPathFrom?(jsPlumbUtil.isString(e.loc)||1<e.loc||e.loc<0?(v=parseInt(e.loc),y=m.pointAlongPathFrom(v,g*e.length/2,!0),v=m.pointOnPath(v,!0),u=jsPlumbUtil.pointOnLine(y,v,e.length)):1==e.loc?(y=m.pointOnPath(e.loc),v=m.pointAlongPathFrom(e.loc,-1),u=jsPlumbUtil.pointOnLine(y,v,e.length),-1==g&&(B=u,u=y,y=B)):0==e.loc?(u=m.pointOnPath(e.loc),v=m.pointAlongPathFrom(e.loc,1),y=jsPlumbUtil.pointOnLine(u,v,e.length),-1==g&&(B=u,u=y,y=B)):(y=m.pointAlongPathFrom(e.loc,g*e.length/2),v=m.pointOnPath(e.loc),u=jsPlumbUtil.pointOnLine(y,v,e.length)),B=jsPlumbUtil.perpendicularLineTo(y,u,e.width),v=jsPlumbUtil.pointOnLine(y,u,d*e.length),u=Math.min(y.x,B[0].x,B[1].x),p=Math.max(y.x,B[0].x,B[1].x),o=Math.min(y.y,B[0].y,B[1].y),n=Math.max(y.y,B[0].y,B[1].y),x=f.strokeStyle||s.strokeStyle,r=f.fillStyle||s.strokeStyle,s=f.lineWidth||s.lineWidth,e.paint(m,{hxy:y,tail:B,cxy:v},s,x,r,w),[u,p,o,n]):[0,0,0,0]}},jsPlumb.Overlays.PlainArrow=function(e){e=e||{};e=jsPlumb.extend(e,{foldback:1});jsPlumb.Overlays.Arrow.call(this,e),this.type="PlainArrow"},jsPlumb.Overlays.Diamond=function(f){var d=(f=f||{}).length||40,f=jsPlumb.extend(f,{length:d/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,f),this.type="Diamond"},jsPlumb.Overlays.Custom=function(d){this.type="Custom",a.apply(this,arguments)},jsPlumb.Overlays.Label=function(h){var d=this,f=(this.labelStyle=h.labelStyle||jsPlumb.Defaults.LabelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null,h.create=function(){return document.createElement("div")},jsPlumb.Overlays.Custom.apply(this,arguments),this.type="Label",h.label||""),d=this,g=null,e=(this.setLabel=function(k){f=k,g=null,d.clearCachedDimensions(),e(),d.component.repaint()},function(){var k;"function"==typeof f?(k=f(d),d.getElement().innerHTML=k.replace(/\r\n/g,"<br/>")):null==g&&(g=f,d.getElement().innerHTML=g.replace(/\r\n/g,"<br/>"))}),i=(this.getLabel=function(){return f},this.getDimensions);this.getDimensions=function(){return e(),i()}}})(),jsPlumb.Connectors.StateMachine=function(l){function r(){return[{x:g,y:e},{x:p[0],y:p[1]},{x:p[0]+1,y:p[1]+1},{x:o,y:m}]}function s(w,v,x){return v=x?jsBezier.locationAlongCurveFrom(w,0<v?0:1,v):v}var o,m,g,e,n=null,p=[],d=l.curviness||10,k=l.margin||5,q=l.proximityLimit||80,f=l.orientation&&"clockwise"==l.orientation,i=l.loopbackRadius||25,h=!1,t=!1!==l.showLoopback;this.type="StateMachine",l=l||{},this.compute=function(ad,H,W,I,ac,z,v,U){var C,Q=Math.abs(ad[0]-H[0]),Y=Math.abs(ad[1]-H[1]),S=.45*Q,ab=.45*Y,O=(Q*=1.9,Y*=1.9,v=v||1,Math.min(ad[0],H[0])-S),M=Math.min(ad[1],H[1])-ab;return n=t&&W.elementId==I.elementId?(h=!0,[O=(W=ad[0])-i-v-i,M=(C=(I=ad[1]-k)-i)-i-v-i,Q=2*v+4*i,Y=2*v+4*i,W-O,C-M,i,f,W-O,I-M,ad[0]-O,ad[1]-k-M]):(h=!1,o=ad[0]<H[0]?S:Q-S,m=ad[1]<H[1]?ab:Y-ab,g=ad[0]<H[0]?Q-S:S,e=ad[1]<H[1]?Y-ab:ab,0==ad[2]&&(o-=k),1==ad[2]&&(o+=k),0==ad[3]&&(m-=k),1==ad[3]&&(m+=k),0==H[2]&&(g-=k),1==H[2]&&(g+=k),0==H[3]&&(e-=k),1==H[3]&&(e+=k),I=-1*(C=(o+g)/2)/(W=(m+e)/2),S=Math.atan(I),I==1/0||I==-1/0||Math.abs(d/2*Math.sin(S)),I==1/0||I==-1/0||Math.abs(d/2*Math.cos(S)),ab=((e,g,d,f)=>e<=d&&f<=g?1:e<=d&&g<=f?2:d<=e&&g<=f?3:4)(o,m,g,e),I=Math.sqrt(Math.pow(g-o,2)+Math.pow(e-m,2)),p=((g,f,i,e,h,m,l,d,k)=>d<=k?[g,f]:1==i?e[3]<=0&&1<=h[3]?[g+(e[2]<.5?-1*m:m),f]:1<=e[2]&&h[2]<=0?[g,f+(e[3]<.5?-1*l:l)]:[g+-1*m,f+-1*l]:2==i?1<=e[3]&&h[3]<=0?[g+(e[2]<.5?-1*m:m),f]:1<=e[2]&&h[2]<=0?[g,f+(e[3]<.5?-1*l:l)]:[g+ +m,f+-1*l]:3==i?1<=e[3]&&h[3]<=0?[g+(e[2]<.5?-1*m:m),f]:e[2]<=0&&1<=h[2]?[g,f+(e[3]<.5?-1*l:l)]:[g+-1*m,f+-1*l]:4==i?e[3]<=0&&1<=h[3]?[g+(e[2]<.5?-1*m:m),f]:e[2]<=0&&1<=h[2]?[g,f+(e[3]<.5?-1*l:l)]:[g+ +m,f+-1*l]:void 0)(C,W,ab,ad,H,d,d,I,q),S=Math.max(3*Math.abs(p[0]-o),3*Math.abs(p[0]-g),Math.abs(g-o),2*v,U),C=Math.max(3*Math.abs(p[1]-m),3*Math.abs(p[1]-e),Math.abs(e-m),2*v,U),Q<S&&(O-=(W=S-Q)/2,o+=W/2,g+=W/2,Q=S,p[0]+=W/2),Y<C&&(M-=(ab=C-Y)/2,m+=ab/2,e+=ab/2,Y=C,p[1]+=ab/2),[O,M,Q,Y,o,m,g,e,p[0],p[1]])};this.pointOnPath=function(x,B){var z;return h?(B&&(x/=2*Math.PI*i),z=2*(x=0<x&&x<1?1-x:x)*Math.PI+Math.PI/2,{x:n[4]+n[6]*Math.cos(z),y:n[5]+n[6]*Math.sin(z)}):(z=r(),x=s(z,x,B),jsBezier.pointOnCurve(z,x))},this.gradientAtPoint=function(v,y){var x;return h?(y&&(v/=2*Math.PI*i),Math.atan(2*v*Math.PI)):(x=r(),v=s(x,v,y),jsBezier.gradientAtPoint(x,v))},this.pointAlongPathFrom=function(D,v,C){var B;return h?(C&&(D/=B=2*Math.PI*i),0<D&&D<1&&(D=1-D),B=2*Math.PI*n[6],B=2*D*Math.PI-v/B*2*Math.PI+Math.PI/2,{x:n[4]+n[6]*Math.cos(B),y:n[5]+n[6]*Math.sin(B)}):(B=r(),D=s(B,D,C),jsBezier.pointAlongCurveFrom(B,D,v))}},jsPlumb.Connectors.canvas.StateMachine=function(f){var d=this;f=f||{};jsPlumb.Connectors.StateMachine.apply(this,arguments),jsPlumb.CanvasConnector.apply(this,arguments),this._paint=function(l){var i,h;10==l.length?(d.ctx.beginPath(),d.ctx.moveTo(l[4],l[5]),d.ctx.bezierCurveTo(l[8],l[9],l[8],l[9],l[6],l[7]),d.ctx.stroke()):(d.ctx.save(),d.ctx.beginPath(),i=2*Math.PI,h=l[7],d.ctx.arc(l[4],l[5],l[6],0,i,h),d.ctx.stroke(),d.ctx.closePath(),d.ctx.restore())},this.createGradient=function(i,h){return h.createLinearGradient(i[4],i[5],i[6],i[7])}},jsPlumb.Connectors.svg.StateMachine=function(){jsPlumb.Connectors.StateMachine.apply(this,arguments),jsPlumb.SvgConnector.apply(this,arguments),this.getPath=function(e){return 10==e.length?"M "+e[4]+" "+e[5]+" C "+e[8]+" "+e[9]+" "+e[8]+" "+e[9]+" "+e[6]+" "+e[7]:"M"+(e[8]+4)+" "+e[9]+" A "+e[6]+" "+e[6]+" 0 1,0 "+(e[8]-4)+" "+e[9]}},jsPlumb.Connectors.vml.StateMachine=function(){jsPlumb.Connectors.StateMachine.apply(this,arguments),jsPlumb.VmlConnector.apply(this,arguments);var d=jsPlumb.vml.convertValue;this.getPath=function(k){var h,g;return 10==k.length?"m"+d(k[4])+","+d(k[5])+" c"+d(k[8])+","+d(k[9])+","+d(k[8])+","+d(k[9])+","+d(k[6])+","+d(k[7])+" e":"ar "+((h=d(k[8]-k[6]))+","+(g=d(k[9]-2*k[6]))+","+(h+d(2*k[6]))+","+(g+d(2*k[6])))+","+d(k[8])+","+d(k[9])+","+d(k[8])+","+d(k[9])+" e"}},(()=>{var h={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},c=null;if(document.createStyleSheet&&document.namespaces){for(var m=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"],c=document.createStyleSheet(),r=0;r<m.length;r++)c.addRule(m[r],"behavior:url(#default#VML);position:absolute;");document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}function b(w,u,v,i){"transparent"===u?i.setOpacity(v,"0.0"):i.setOpacity(v,"1.0")}function q(y,u,B,C){var D,x={};if(u.strokeStyle?(x.stroked="true",D=jsPlumbUtil.convertStyle(u.strokeStyle,!0),b(0,x.strokecolor=D,"stroke",B),x.strokeweight=u.lineWidth+"px"):x.stroked="false",u.fillStyle?(x.filled="true",D=jsPlumbUtil.convertStyle(u.fillStyle,!0),b(0,x.fillcolor=D,"fill",B)):x.filled="false",u.dashstyle)null==B.strokeNode?B.strokeNode=f("stroke",[0,0,0,0],{dashstyle:u.dashstyle},y,C):B.strokeNode.dashstyle=u.dashstyle;else if(u["stroke-dasharray"]&&u.lineWidth){for(var E=-1==u["stroke-dasharray"].indexOf(",")?" ":",",z=u["stroke-dasharray"].split(E),w="",A=0;A<z.length;A++)w+=Math.floor(z[A]/u.lineWidth)+E;null==B.strokeNode?B.strokeNode=f("stroke",[0,0,0,0],{dashstyle:w},y,C):B.strokeNode.dashstyle=w}e(y,x)}function n(){var i=this,u=(jsPlumb.jsPlumbUIComponent.apply(this,arguments),this.opacityNodes={stroke:null,fill:null},this.initOpacityNodes=function(v){i.opacityNodes.stroke=f("stroke",[0,0,1,1],{opacity:"0.0"},v,i._jsPlumb),i.opacityNodes.fill=f("fill",[0,0,1,1],{opacity:"0.0"},v,i._jsPlumb)},this.setOpacity=function(v,x){v=i.opacityNodes[v];v&&(v.opacity=""+x)},[]);this.getDisplayElements=function(){return u},this.appendDisplayElement=function(w,v){v||i.canvas.parentNode.appendChild(w),u.push(w)}}function o(x,v){x.apply(this,v),n.apply(this,v);var u=this;u.canvas=null,u.isAppendedAtTopLevel=!0,this.paint=function(B,G,F,H,L,K){var z={},H=(H&&(z.stroked="true",z.strokecolor=jsPlumbUtil.convertStyle(H,!0)),F&&(z.strokeweight=F+"px"),L&&(z.filled="true",z.fillcolor=L),Math.min(G.hxy.x,G.tail[0].x,G.tail[1].x,G.cxy.x)),F=Math.min(G.hxy.y,G.tail[0].y,G.tail[1].y,G.cxy.y),L=Math.max(G.hxy.x,G.tail[0].x,G.tail[1].x,G.cxy.x),A=Math.max(G.hxy.y,G.tail[0].y,G.tail[1].y,G.cxy.y),L=[H,F,Math.abs(L-H),Math.abs(A-F)];z.path=(z=>"m "+p(z.hxy.x)+","+p(z.hxy.y)+" l "+p(z.tail[0].x)+","+p(z.tail[0].y)+" "+p(z.cxy.x)+","+p(z.cxy.y)+" "+p(z.tail[1].x)+","+p(z.tail[1].y)+" x e")(G),z.coordsize=K[2]*t+","+K[3]*t,L[0]=K[0],L[1]=K[1],L[2]=K[2],L[3]=K[3],null==u.canvas?(u.canvas=f("shape",L,z,B.canvas.parentNode,B._jsPlumb,!0),B.appendDisplayElement(u.canvas,!0),u.attachListeners(u.canvas,B),u.attachListeners(u.canvas,u)):(k(u.canvas,L),e(u.canvas,z))},this.reattachListeners=function(){u.canvas&&u.reattachListenersForElement(u.canvas,u)},this.cleanup=function(){null!=u.canvas&&jsPlumb.CurrentLibrary.removeElement(u.canvas)}}jsPlumb.vml={};var t=1e3,e=function(v,w){for(var u in w)v[u]=w[u]},f=function(u,y,z,w,i,v){z=z||{};u=document.createElement("jsplumb:"+u);return(v?i:jsPlumb.CurrentLibrary).appendElement(u,w),u.className=(z.class?z.class+" ":"")+"jsplumb_vml",k(u,y),e(u,z),u},k=function(u,i,v){u.style.left=i[0]+"px",u.style.top=i[1]+"px",u.style.width=i[2]+"px",u.style.height=i[3]+"px",u.style.position="absolute",v&&(u.style.zIndex=v)},p=jsPlumb.vml.convertValue=function(i){return Math.floor(i*t)},d=jsPlumb.VmlConnector=function(v){var i=this,u=(i.strokeNode=null,i.canvas=null,n.apply(this,arguments),i._jsPlumb.connectorClass+(v.cssClass?" "+v.cssClass:""));this.paint=function(A,x,z){if(null!=x){var y={path:i.getPath(A)};if(x.outlineColor){var w,C=x.outlineWidth||1,C=x.lineWidth+2*C,B={strokeStyle:jsPlumbUtil.convertStyle(x.outlineColor),lineWidth:C};for(w in h)B[w]=x[w];null==i.bgCanvas?(y.class=u,y.coordsize=A[2]*t+","+A[3]*t,i.bgCanvas=f("shape",A,y,v.parent,i._jsPlumb,!0),k(i.bgCanvas,A,i.getZIndex()),i.appendDisplayElement(i.bgCanvas,!0),i.attachListeners(i.bgCanvas,i),i.initOpacityNodes(i.bgCanvas,["stroke"])):(y.coordsize=A[2]*t+","+A[3]*t,k(i.bgCanvas,A,i.getZIndex()),e(i.bgCanvas,y)),q(i.bgCanvas,B,i)}null==i.canvas?(y.class=u,y.coordsize=A[2]*t+","+A[3]*t,i.tooltip&&(y.label=i.tooltip),i.canvas=f("shape",A,y,v.parent,i._jsPlumb,!0),i.appendDisplayElement(i.canvas,!0),i.attachListeners(i.canvas,i),i.initOpacityNodes(i.canvas,["stroke"])):(y.coordsize=A[2]*t+","+A[3]*t,k(i.canvas,A,i.getZIndex()),e(i.canvas,y)),q(i.canvas,x,i,i._jsPlumb)}},this.reattachListeners=function(){i.canvas&&i.reattachListenersForElement(i.canvas,i)}},l=window.VmlEndpoint=function(y){n.apply(this,arguments);var i=null,v=this,w=(v.canvas=document.createElement("div"),v.canvas.style.position="absolute",v._jsPlumb.endpointClass+(y.cssClass?" "+y.cssClass:""));y._jsPlumb.appendElement(v.canvas,y.parent),v.tooltip&&v.canvas.setAttribute("label",v.tooltip),this.paint=function(C,A,z){var B={};jsPlumb.sizeCanvas(v.canvas,C[0],C[1],C[2],C[3]),null==i?(B.class=w,i=v.getVml([0,0,C[2],C[3]],B,z,v.canvas,v._jsPlumb),v.attachListeners(i,v),v.appendDisplayElement(i,!0),v.appendDisplayElement(v.canvas,!0),v.initOpacityNodes(i,["fill"])):(k(i,[0,0,C[2],C[3]]),e(i,B)),q(i,A,v)},this.reattachListeners=function(){i&&v.reattachListenersForElement(i,v)}};jsPlumb.Connectors.vml.Bezier=function(){jsPlumb.Connectors.Bezier.apply(this,arguments),d.apply(this,arguments),this.getPath=function(i){return"m"+p(i[4])+","+p(i[5])+" c"+p(i[8])+","+p(i[9])+","+p(i[10])+","+p(i[11])+","+p(i[6])+","+p(i[7])+" e"}},jsPlumb.Connectors.vml.Straight=function(){jsPlumb.Connectors.Straight.apply(this,arguments),d.apply(this,arguments),this.getPath=function(i){return"m"+p(i[4])+","+p(i[5])+" l"+p(i[6])+","+p(i[7])+" e"}},jsPlumb.Connectors.vml.Flowchart=function(){jsPlumb.Connectors.Flowchart.apply(this,arguments),d.apply(this,arguments),this.getPath=function(v){for(var w="m "+p(v[4])+","+p(v[5])+" l",u=0;u<v[8];u++)w=w+" "+p(v[9+2*u])+","+p(v[10+2*u]);return w=w+" "+p(v[6])+","+p(v[7])+" e"}},jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments),l.apply(this,arguments),this.getVml=function(w,x,u,v,i){return f("oval",w,x,v,i)}},jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments),l.apply(this,arguments),this.getVml=function(w,x,u,v,i){return f("rect",w,x,v,i)}},jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom,jsPlumb.Overlays.vml.Arrow=function(){o.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumb.Overlays.vml.PlainArrow=function(){o.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumb.Overlays.vml.Diamond=function(){o.apply(this,[jsPlumb.Overlays.Diamond,arguments])}})(),(()=>{function g(F,D){for(var E in D)F.setAttribute(E,""+D[E])}function n(D){return"position:absolute;left:"+D[0]+"px;top:"+D[1]+"px"}function x(K,G,E,D,H){var L,F,J;for(J in E.gradient?((N,I,F,D,J)=>{var L,J=t+J._jsPlumb.idstamp();i(N),L=F.gradient.offset?f(b,{id:J}):f(e,{id:J,gradientUnits:"userSpaceOnUse"}),N.appendChild(L);for(var K=0;K<F.gradient.stops.length;K++){var H=K,H=8==D.length?D[4]<D[6]?K:F.gradient.stops.length-1-K:D[4]<D[6]?F.gradient.stops.length-1-K:K,H=jsPlumbUtil.convertStyle(F.gradient.stops[H][1],!0),H=f(a,{offset:Math.floor(100*F.gradient.stops[K][0])+"%","stop-color":H});L.appendChild(H)}I.setAttribute(h,(F.strokeStyle?z:c)+":url(#"+J+")")})(K,G,E,D,H):(i(K),G.setAttribute(h,"")),G.setAttribute(c,E.fillStyle?jsPlumbUtil.convertStyle(E.fillStyle,!0):m),G.setAttribute(z,E.strokeStyle?jsPlumbUtil.convertStyle(E.strokeStyle,!0):m),E.lineWidth&&G.setAttribute("stroke-width",E.lineWidth),E[A]&&E.lineWidth&&!E[w]?(L=-1==E[A].indexOf(",")?" ":",",D=E[A].split(L),F="",D.forEach(function(M){F+=Math.floor(M*E.lineWidth)+L}),G.setAttribute(w,F)):E[w]&&G.setAttribute(w,E[w]),l)E[J]&&G.setAttribute(l[J],E[J])}function r(I,J,E){for(var D,K=E.split(" "),G=I.className.baseVal.split(" "),F=0;F<K.length;F++)J?-1==G.indexOf(K[F])&&G.push(K[F]):-1!=(D=G.indexOf(K[F]))&&G.splice(D,1);I.className.baseVal=G.join(" ")}function s(H){var D=this,G=H.pointerEventsSpec||"all",F=(jsPlumb.jsPlumbUIComponent.apply(this,H.originalArgs),D.canvas=null,D.path=null,D.svg=null,H.cssClass+" "+(H.originalArgs[0].cssClass||"")),G={style:"",width:0,height:0,"pointer-events":G,position:"absolute"},E=(D.tooltip&&(G.title=D.tooltip),D.svg=f("svg",G),H.useDivWrapper?(D.canvas=document.createElement("div"),D.canvas.style.position="absolute",jsPlumb.sizeCanvas(D.canvas,0,0,1,1),D.canvas.className=F,D.tooltip&&D.canvas.setAttribute("title",D.tooltip)):(g(D.svg,{class:F}),D.canvas=D.svg),H._jsPlumb.appendElement(D.canvas,H.originalArgs[0].parent),H.useDivWrapper&&D.canvas.appendChild(D.svg),[D.canvas]);this.getDisplayElements=function(){return E},this.appendDisplayElement=function(J){E.push(J)},this.paint=function(N,L,K){var O;null!=L&&(L=N[0],O=N[1],H.useDivWrapper&&(jsPlumb.sizeCanvas(D.canvas,N[0],N[1],N[2],N[3]),O=L=0),L=n([L,O,N[2],N[3]]),D.getZIndex()&&(L+=";z-index:"+D.getZIndex()+";"),g(D.svg,{style:L,width:N[2],height:N[3]}),D._paint.apply(this,arguments))}}function p(H,F){H.apply(this,F),jsPlumb.jsPlumbUIComponent.apply(this,F),this.isAppendedAtTopLevel=!1;var D=this,G=null,E=(this.paint=function(J,M,I,N,K){null==G&&(G=f("path",{"pointer-events":"all"}),J.svg.appendChild(G),D.attachListeners(G,J),D.attachListeners(G,D));J=F&&1==F.length&&F[0].cssClass||"";g(G,{d:E(M),class:J,stroke:N||null,fill:K||null})},function(I){return"M"+I.hxy.x+","+I.hxy.y+" L"+I.tail[0].x+","+I.tail[0].y+" L"+I.cxy.x+","+I.cxy.y+" L"+I.tail[1].x+","+I.tail[1].y+" L"+I.hxy.x+","+I.hxy.y});this.reattachListeners=function(){G&&D.reattachListenersForElement(G,D)},this.cleanup=function(){null!=G&&jsPlumb.CurrentLibrary.removeElement(G)}}var l={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},w="stroke-dasharray",A="dashstyle",e="linearGradient",b="radialGradient",c="fill",a="stop",z="stroke",h="style",m="none",t="jsplumb_gradient_",C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},f=function(E,D){E=document.createElementNS(C.svg,E);return(D=D||{}).version="1.1",D.xmlns=C.xhtml,g(E,D),E},i=function(E){for(var D=0;D<E.childNodes.length;D++)E.childNodes[D].tagName!=e&&E.childNodes[D].tagName!=b||E.removeChild(E.childNodes[D])},d=(jsPlumbUtil.svg={addClass:function(E,D){r(E,!0,D)},removeClass:function(E,D){r(E,!1,D)},node:f,attr:g,pos:n},jsPlumb.SvgConnector=function(E){var D=this;s.apply(this,[{cssClass:E._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",tooltip:E.tooltip,_jsPlumb:E._jsPlumb}]),this._paint=function(L,H){var I,F={d:D.getPath(L)},J=null;F["pointer-events"]="all",H.outlineColor&&(I=H.outlineWidth||1,I=H.lineWidth+2*I,(J=jsPlumb.CurrentLibrary.extend({},H)).strokeStyle=jsPlumbUtil.convertStyle(H.outlineColor),J.lineWidth=I,null==D.bgPath?(D.bgPath=f("path",F),D.svg.appendChild(D.bgPath),D.attachListeners(D.bgPath,D)):g(D.bgPath,F),x(D.svg,D.bgPath,J,L,D)),null==D.path?(D.path=f("path",F),D.svg.appendChild(D.path),D.attachListeners(D.path,D)):g(D.path,F),x(D.svg,D.path,H,L,D)},this.reattachListeners=function(){D.bgPath&&D.reattachListenersForElement(D.bgPath,D),D.path&&D.reattachListenersForElement(D.path,D)}}),y=(jsPlumb.Connectors.svg.Bezier=function(D){jsPlumb.Connectors.Bezier.apply(this,arguments),d.apply(this,arguments),this.getPath=function(F){var E="M "+F[4]+" "+F[5];return E+=" C "+F[8]+" "+F[9]+" "+F[10]+" "+F[11]+" "+F[6]+" "+F[7]}},jsPlumb.Connectors.svg.Straight=function(D){jsPlumb.Connectors.Straight.apply(this,arguments),d.apply(this,arguments),this.getPath=function(E){return"M "+E[4]+" "+E[5]+" L "+E[6]+" "+E[7]}},jsPlumb.Connectors.svg.Flowchart=function(){var D=this;jsPlumb.Connectors.Flowchart.apply(this,arguments),d.apply(this,arguments),this.getPath=function(E){for(var G="M "+E[4]+","+E[5],J=E[4],I=E[5],M=0;M<E[8];M++){var H=E[9+2*M],Q=E[10+2*M],O=D.lineWidth/2;G=(G=(G=G+" L "+H+" "+Q)+" L "+(H+(H!=J&&Q==I?E[9+2*(M+1)]<H?1:-1:0)*O)+" "+(Q+(H==J&&Q!=I?E[10+2*(M+1)]<Q?1:-1:0)*O))+" M "+(J=H)+" "+(I=Q)}return G=G+" L "+E[6]+","+E[7]}},window.SvgEndpoint=function(E){var D=this;s.apply(this,[{cssClass:E._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:E._jsPlumb}]),this._paint=function(H,G){G=jsPlumb.extend({},G);G.outlineColor&&(G.strokeWidth=G.outlineWidth,G.strokeStyle=jsPlumbUtil.convertStyle(G.outlineColor,!0)),null==D.node&&(D.node=D.makeNode(H,G),D.svg.appendChild(D.node),D.attachListeners(D.node,D)),x(D.svg,D.node,G,H,D),n(D.node)},this.reattachListeners=function(){D.node&&D.reattachListenersForElement(D.node,D)}});jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments),y.apply(this,arguments),this.makeNode=function(E,D){return f("circle",{cx:E[2]/2,cy:E[3]/2,r:E[2]/2})}},jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments),y.apply(this,arguments),this.makeNode=function(E,D){return f("rect",{width:E[2],height:E[3]})}},jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom,jsPlumb.Overlays.svg.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumb.Overlays.svg.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumb.Overlays.svg.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumb.Overlays.svg.GuideLines=function(){var G,F,I=null,D=this,E=(jsPlumb.Overlays.GuideLines.apply(this,arguments),this.paint=function(K,M,J,N,L){null==I&&(I=f("path"),K.svg.appendChild(I),D.attachListeners(I,K),D.attachListeners(I,D),G=f("path"),K.svg.appendChild(G),D.attachListeners(G,K),D.attachListeners(G,D),F=f("path"),K.svg.appendChild(F),D.attachListeners(F,K),D.attachListeners(F,D)),g(I,{d:E(M[0],M[1]),stroke:"red",fill:null}),g(G,{d:E(M[2][0],M[2][1]),stroke:"blue",fill:null}),g(F,{d:E(M[3][0],M[3][1]),stroke:"green",fill:null})},function(K,J){return"M "+K.x+","+K.y+" L"+J.x+","+J.y})}})(),(()=>{function k(){function r(v,u){return null!=v&&i(v,u)}var q=this,p=(q.overlayPlacements=[],jsPlumb.jsPlumbUIComponent.apply(this,arguments),jsPlumbUtil.EventGenerator.apply(this,arguments),!(this._over=function(z){var B=m(a(q.canvas)),z=n(z),u=z[0]-B.left,C=z[1]-B.top;if(0<u&&0<C&&u<q.canvas.width&&C<q.canvas.height){for(var v=0;v<q.overlayPlacements.length;v++){var w=q.overlayPlacements[v];if(w&&w[0]<=u&&w[1]>=u&&w[2]<=C&&w[3]>=C)return!0}z=q.canvas.getContext("2d").getImageData(parseInt(u),parseInt(C),1,1);return 0!=z.data[0]||0!=z.data[1]||0!=z.data[2]||0!=z.data[3]}return!1})),o=!1,s=!1;this.mousemove=function(x){n(x);var w=f(x),w=document.elementFromPoint(w[0],w[1]),y=r(w,"_jsPlumb_overlay"),w=null==d&&(r(w,"_jsPlumb_endpoint")||r(w,"_jsPlumb_connector"));if(!p&&w&&q._over(x))return p=!0,q.fire("mouseenter",q,x),!0;!p||q._over(x)&&w||y||(p=!1,q.fire("mouseexit",q,x)),q.fire("mousemove",q,x)},this.click=function(u){p&&q._over(u)&&!s&&q.fire("click",q,u),s=!1},this.dblclick=function(u){p&&q._over(u)&&!s&&q.fire("dblclick",q,u),s=!1},this.mousedown=function(u){q._over(u)&&!o&&(o=!0,m(a(q.canvas)),q.fire("mousedown",q,u))},this.mouseup=function(u){o=!1,q.fire("mouseup",q,u)},this.contextmenu=function(u){p&&q._over(u)&&!s&&q.fire("contextmenu",q,u),s=!1}}function c(p){var o=document.createElement("canvas");return p._jsPlumb.appendElement(o,p.parent),o.style.position="absolute",p.class&&(o.className=p.class),p._jsPlumb.getId(o,p.uuid),p.tooltip&&o.setAttribute("title",p.tooltip),o}function l(p){k.apply(this,arguments);var o=[];this.getDisplayElements=function(){return o},this.appendDisplayElement=function(q){o.push(q)}}function b(r){var p=this;l.apply(this,arguments),r={class:p._jsPlumb.endpointClass+" "+(r.cssClass||""),_jsPlumb:p._jsPlumb,parent:r.parent,tooltip:p.tooltip},p.canvas=c(r),p.ctx=p.canvas.getContext("2d"),p.appendDisplayElement(p.canvas),this.paint=function(x,u,s){var w;jsPlumb.sizeCanvas(p.canvas,x[0],x[1],x[2],x[3]),null!=u.outlineColor&&(w=u.outlineWidth||1,u.lineWidth),p._paint.apply(this,arguments)}}function e(p,o){p.apply(this,o),function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments)}.apply(this,o),this.paint=function(s,u,q,v,t){s=s.ctx;s.lineWidth=q,s.beginPath(),s.moveTo(u.hxy.x,u.hxy.y),s.lineTo(u.tail[0].x,u.tail[0].y),s.lineTo(u.cxy.x,u.cxy.y),s.lineTo(u.tail[1].x,u.tail[1].y),s.lineTo(u.hxy.x,u.hxy.y),s.closePath(),v&&(s.strokeStyle=v,s.stroke()),t&&(s.fillStyle=t,s.fill())}}var d=null,i=function(p,o){return jsPlumb.CurrentLibrary.hasClass(a(p),o)},a=function(o){return jsPlumb.CurrentLibrary.getElementObject(o)},m=function(o){return jsPlumb.CurrentLibrary.getOffset(a(o))},n=function(o){return jsPlumb.CurrentLibrary.getPageXY(o)},f=function(o){return jsPlumb.CurrentLibrary.getClientXY(o)},h=jsPlumb.CanvasConnector=function(r){l.apply(this,arguments);function o(v,t){if(p.ctx.save(),jsPlumb.extend(p.ctx,t),t.gradient){for(var u=p.createGradient(v,p.ctx),s=0;s<t.gradient.stops.length;s++)u.addColorStop(t.gradient.stops[s][0],t.gradient.stops[s][1]);p.ctx.strokeStyle=u}p._paint(v,t),p.ctx.restore()}var p=this,q=p._jsPlumb.connectorClass+" "+(r.cssClass||"");p.canvas=c({class:q,_jsPlumb:p._jsPlumb,parent:r.parent,tooltip:r.tooltip}),p.ctx=p.canvas.getContext("2d"),p.appendDisplayElement(p.canvas),p.paint=function(w,t){var v;null!=t&&(jsPlumb.sizeCanvas(p.canvas,w[0],w[1],w[2],w[3]),p.getZIndex()&&(p.canvas.style.zIndex=p.getZIndex()),null!=t.outlineColor&&(v=t.outlineWidth||1,o(w,{strokeStyle:t.outlineColor,lineWidth:t.lineWidth+2*v})),o(w,t))}};jsPlumb.Endpoints.canvas.Dot=function(r){jsPlumb.Endpoints.Dot.apply(this,arguments),b.apply(this,arguments);var q=this,p=function(s){try{return parseInt(s)}catch(t){if("%"==s.substring(s.length-1))return parseInt(s.substring(0,s-1))}};this._paint=function(A,t,x){if(null!=t){var B=q.canvas.getContext("2d"),x=x.getOrientation(q);if(jsPlumb.extend(B,t),t.gradient){for(var v=(u=>{var s=q.defaultOffset,t=q.defaultInnerRadius;return[s=u.offset?p(u.offset):s,t=u.innerRadius?p(u.innerRadius):t]})(t.gradient),y=1==x[1]?-1*v[0]:v[0],x=1==x[0]?-1*v[0]:v[0],z=B.createRadialGradient(A[4],A[4],A[4],A[4]+x,A[4]+y,v[1]),w=0;w<t.gradient.stops.length;w++)z.addColorStop(t.gradient.stops[w][0],t.gradient.stops[w][1]);B.fillStyle=z}B.beginPath(),B.arc(A[4],A[4],A[4],0,2*Math.PI,!0),B.closePath(),(t.fillStyle||t.gradient)&&B.fill(),t.strokeStyle&&B.stroke()}}},jsPlumb.Endpoints.canvas.Rectangle=function(p){var o=this;jsPlumb.Endpoints.Rectangle.apply(this,arguments),b.apply(this,arguments),this._paint=function(x,r,v){var A=o.canvas.getContext("2d"),v=v.getOrientation(o);if(jsPlumb.extend(A,r),r.gradient){for(var z=1==v[1]?x[3]:0==v[1]?x[3]/2:0,y=-1==v[1]?x[3]:0==v[1]?x[3]/2:0,s=1==v[0]?x[2]:0==v[0]?x[2]/2:0,v=-1==v[0]?x[2]:0==v[0]?x[2]/2:0,w=A.createLinearGradient(s,z,v,y),u=0;u<r.gradient.stops.length;u++)w.addColorStop(r.gradient.stops[u][0],r.gradient.stops[u][1]);A.fillStyle=w}A.beginPath(),A.rect(0,0,x[2],x[3]),A.closePath(),(r.fillStyle||r.gradient)&&A.fill(),r.strokeStyle&&A.stroke()}},jsPlumb.Endpoints.canvas.Triangle=function(p){var o=this;jsPlumb.Endpoints.Triangle.apply(this,arguments),b.apply(this,arguments),this._paint=function(z,q,v){var s=z[2],z=z[3],D=o.canvas.getContext("2d"),w=0,u=0,t=0,v=v.getOrientation(o);1==v[0]&&(w=s,u=z,t=180),-1==v[1]&&(w=s,t=90),1==v[1]&&(u=z,t=-90),D.fillStyle=q.fillStyle,D.translate(w,u),D.rotate(t*Math.PI/180),D.beginPath(),D.moveTo(0,0),D.lineTo(s/2,z/2),D.lineTo(0,z),D.closePath(),(q.fillStyle||q.gradient)&&D.fill(),q.strokeStyle&&D.stroke()}},jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Connectors.canvas.Bezier=function(){var o=this;jsPlumb.Connectors.Bezier.apply(this,arguments),h.apply(this,arguments),this._paint=function(q,p){o.ctx.beginPath(),o.ctx.moveTo(q[4],q[5]),o.ctx.bezierCurveTo(q[8],q[9],q[10],q[11],q[6],q[7]),o.ctx.stroke()},this.createGradient=function(r,p,q){return o.ctx.createLinearGradient(r[6],r[7],r[4],r[5])}},jsPlumb.Connectors.canvas.Straight=function(){var p=this,o=[null,[1,-1],[1,1],[-1,1],[-1,-1]];jsPlumb.Connectors.Straight.apply(this,arguments),h.apply(this,arguments),this._paint=function(r,t){if(p.ctx.beginPath(),t.dashstyle&&2==t.dashstyle.split(" ").length){for(var v=t.dashstyle.split(" "),C=[(v=2!=v.length?[2,2]:v)[0]*t.lineWidth,v[1]*t.lineWidth],v=(r[6]-r[4])/(r[7]-r[5]),t=jsPlumbUtil.segment([r[4],r[5]],[r[6],r[7]]),x=o[t],u=Math.atan(v),t=Math.sqrt(Math.pow(r[6]-r[4],2)+Math.pow(r[7]-r[5],2)),B=Math.floor(t/(C[0]+C[1])),w=[r[4],r[5]],A=0;A<B;A++){p.ctx.moveTo(w[0],w[1]);var q=w[0]+Math.abs(Math.sin(u)*C[0])*x[0],F=w[1]+Math.abs(Math.cos(u)*C[0])*x[1],E=w[0]+Math.abs(Math.sin(u)*(C[0]+C[1]))*x[0],D=w[1]+Math.abs(Math.cos(u)*(C[0]+C[1]))*x[1];p.ctx.lineTo(q,F),w=[E,D]}p.ctx.moveTo(w[0],w[1])}else p.ctx.moveTo(r[4],r[5]);p.ctx.lineTo(r[6],r[7]),p.ctx.stroke()},this.createGradient=function(r,q){return q.createLinearGradient(r[4],r[5],r[6],r[7])}},jsPlumb.Connectors.canvas.Flowchart=function(){var o=this;jsPlumb.Connectors.Flowchart.apply(this,arguments),h.apply(this,arguments),this._paint=function(r,q){o.ctx.beginPath(),o.ctx.moveTo(r[4],r[5]);for(var p=0;p<r[8];p++)o.ctx.lineTo(r[9+2*p],r[10+2*p]);o.ctx.lineTo(r[6],r[7]),o.ctx.stroke()},this.createGradient=function(q,p){return p.createLinearGradient(q[4],q[5],q[6],q[7])}},jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.canvas.Custom=jsPlumb.Overlays.Custom,jsPlumb.Overlays.canvas.Arrow=function(){e.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumb.Overlays.canvas.PlainArrow=function(){e.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumb.Overlays.canvas.Diamond=function(){e.apply(this,[jsPlumb.Overlays.Diamond,arguments])}})(),(a=>{jsPlumb.CurrentLibrary={addClass:function(c,b){c=jsPlumb.CurrentLibrary.getElementObject(c);try{c[0].className.constructor==SVGAnimatedString&&jsPlumbUtil.svg.addClass(c[0],b)}catch(d){}c.addClass(b)},animate:function(d,c,b){d.animate(c,b)},appendElement:function(c,b){jsPlumb.CurrentLibrary.getElementObject(b).append(c)},ajax:function(b){(b=b||{}).type=b.type||"get",a.ajax(b)},bind:function(b,c,d){(b=jsPlumb.CurrentLibrary.getElementObject(b)).bind(c,d)},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(c,b){return a.extend(c,b)},getAttribute:function(b,c){return b.attr(c)},getClientXY:function(b){return[b.clientX,b.clientY]},getDragObject:function(b){return b[1].draggable},getDragScope:function(b){return b.draggable("option","scope")},getDropEvent:function(b){return b[0]},getDropScope:function(b){return b.droppable("option","scope")},getDOMElement:function(b){return"string"==typeof b?document.getElementById(b):b.context||null!=b.length?b[0]:b},getElementObject:function(b){return a("string"==typeof b?"#"+b:b)},getOffset:function(b){return b.offset()},getOriginalEvent:function(b){return b.originalEvent},getPageXY:function(b){return[b.pageX,b.pageY]},getParent:function(b){return jsPlumb.CurrentLibrary.getElementObject(b).parent()},getScrollLeft:function(b){return b.scrollLeft()},getScrollTop:function(b){return b.scrollTop()},getSelector:function(b){return a(b)},getSize:function(b){return[b.outerWidth(),b.outerHeight()]},getTagName:function(b){b=jsPlumb.CurrentLibrary.getElementObject(b);return 0<b.length?b[0].tagName:null},getUIPosition:function(c,d){var b;return d=d||1,1==c.length?ret={left:c[0].pageX,top:c[0].pageY}:(b=(c=c[1]).offset,ret=b||c.absolutePosition,c.position.left/=d,c.position.top/=d),{left:ret.left/d,top:ret.top/d}},hasClass:function(c,b){return c.hasClass(b)},initDraggable:function(c,b,d){(b=b||{}).helper=null,d&&(b.scope=b.scope||jsPlumb.Defaults.Scope),c.draggable(b)},initDroppable:function(c,b){b.scope=b.scope||jsPlumb.Defaults.Scope,c.droppable(b)},isAlreadyDraggable:function(b){return(b=jsPlumb.CurrentLibrary.getElementObject(b)).hasClass("ui-draggable")},isDragSupported:function(c,b){return c.draggable},isDropSupported:function(c,b){return c.droppable},removeClass:function(c,b){c=jsPlumb.CurrentLibrary.getElementObject(c);try{c[0].className.constructor==SVGAnimatedString&&jsPlumbUtil.svg.removeClass(c[0],b)}catch(d){}c.removeClass(b)},removeElement:function(b,c){jsPlumb.CurrentLibrary.getElementObject(b).remove()},setAttribute:function(c,d,b){c.attr(d,b)},setDraggable:function(c,b){c.draggable("option","disabled",!b)},setDragScope:function(c,b){c.draggable("option","scope",b)},setOffset:function(b,c){jsPlumb.CurrentLibrary.getElementObject(b).offset(c)},trigger:function(d,e,b){jQuery._data(jsPlumb.CurrentLibrary.getElementObject(d)[0],"handle")(b)},unbind:function(b,c,d){(b=jsPlumb.CurrentLibrary.getElementObject(b)).unbind(c,d)}},a(document).ready(jsPlumb.init)})(jQuery),(()=>{function h(y,x){for(var t=[],v=x.length-1,r=2*v-1,s=[],w=[],p=[],q=[],o=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],u=0;u<=v;u++)s[u]=d_subtract(x[u],y);for(u=0;u<=v-1;u++)w[u]=d_subtract(x[u+1],x[u]),w[u]=d_scale(w[u],3);for(u=0;u<=v-1;u++)for(var m=0;m<=v;m++)p[u]||(p[u]=[]),p[u][m]=d_dotProduct(w[u],s[m]);for(u=0;u<=r;u++)q[u]||(q[u]=[]),q[u].y=0,q[u].x=parseFloat(u)/r;for(r=v-1,s=0;s<=v+r;s++)for(u=Math.max(0,s-r),w=Math.min(s,v);u<=w;u++)q[u+(j=s-u)].y=q[u+j].y+p[j][u]*o[j][u];for(q=a(q,2*(v=x.length-1)-1,t,0),r=d_subtract(y,x[0]),p=d_square(r),u=o=0;u<q;u++)r=d_subtract(y,k(x,v,t[u],null,null)),(r=d_square(r))<p&&(p=r,o=t[u]);return r=d_subtract(y,x[v]),(r=d_square(r))<p&&(p=r,o=1),{location:o,distance:p}}function c(m,l){for(var p=e(m.length-1),q=0,n=0,o=0;o<m.length;o++)q+=m[o].x*p[o](l),n+=m[o].y*p[o](l);return{x:q,y:n}}function b(m,l,p){for(var q=c(m,l),n=0,o=0<p?1:-1,r=null;n<Math.abs(p);)r=c(m,l+=.005*o),n+=Math.sqrt(Math.pow(r.x-q.x,2)+Math.pow(r.y-q.y,2)),q=r;return{point:r,location:l}}function i(m,l){var o=c(m,l),l=(m=c(m.slice(0,m.length-1),l)).y-o.y,o=m.x-o.x;return 0==l?1/0:Math.atan(l/o)}void 0===Math.sgn&&(Math.sgn=function(l){return 0==l?0:0<l?1:-1});var d_subtract=function(m,l){return{x:m.x-l.x,y:m.y-l.y}},d_dotProduct=function(m,l){return m.x*l.x+m.y*l.y},d_square=function(l){return Math.sqrt(l.x*l.x+l.y*l.y)},d_scale=function(m,l){return{x:m.x*l,y:m.y*l}},f=Math.pow(2,-65),a=function(C,B,x,z){var v=[],w=[],A=[],t=[],u=0;y=Math.sgn(C[0].y);for(var q=1;q<=B;q++)(s=Math.sgn(C[q].y))!=y&&u++,y=s;switch(u){case 0:return 0;case 1:if(64<=z)return x[0]=(C[0].x+C[B].x)/2,1;for(var u=C[0].y-C[B].y,y=C[B].x-C[0].x,q=C[0].x*C[B].y-C[B].x*C[0].y,s=max_distance_below=0,p=1;p<B;p++){var r=u*C[p].x+y*C[p].y+q;s<r?s=r:r<max_distance_below&&(max_distance_below=r)}if(s=1/(0*(p=y)-+u)*(q-s-0*p),u=1/(0*(p=y)-+u)*(+(y=q-max_distance_below)-0*p),y=Math.min(s,u),Math.max(s,u)-y<f)return A=C[B].x-C[0].x,t=C[B].y-C[0].y,x[0]=0+(A*+C[0].y-t*+C[0].x)*(1/(0*A-+t)),1}for(k(C,B,.5,v,w),C=a(v,B,A,z+1),B=a(w,B,t,z+1),z=0;z<C;z++)x[z]=A[z];for(z=0;z<B;z++)x[z+C]=t[z];return C+B},k=function(m,l,p,q,n){for(var o=[[]],r=0;r<=l;r++)o[0][r]=m[r];for(m=1;m<=l;m++)for(r=0;r<=l-m;r++)o[m]||(o[m]=[]),o[m][r]||(o[m][r]={}),o[m][r].x=(1-p)*o[m-1][r].x+p*o[m-1][r+1].x,o[m][r].y=(1-p)*o[m-1][r].y+p*o[m-1][r+1].y;if(null!=q)for(r=0;r<=l;r++)q[r]=o[r][0];if(null!=n)for(r=0;r<=l;r++)n[r]=o[l-r][r];return o[l][0]},g={},e=function(t){if(!(s=g[t])){var s,p=function(u){return function(){return u}},q=function(){return function(u){return u}},n=function(){return function(u){return 1-u}},o=function(u){return function(v){for(var x=1,w=0;w<u.length;w++)x*=u[w](v);return x}};(s=[]).push(new function(){return function(u){return Math.pow(u,t)}});for(var r=1;r<t;r++){for(var l=[new p(t)],m=0;m<t-r;m++)l.push(new q);for(m=0;m<r;m++)l.push(new n);s.push(new o(l))}s.push(new function(){return function(u){return Math.pow(1-u,t)}}),g[t]=s}return s};window.jsBezier={distanceFromCurve:h,gradientAtPoint:i,gradientAtPointAlongCurveFrom:function(m,l,n){return 1<(l=b(m,l,n)).location&&(l.location=1),l.location<0&&(l.location=0),i(m,l.location)},nearestPointOnCurve:function(m,l){m=h(m,l);return{point:k(l,l.length-1,m.location,null,null),location:m.location}},pointOnCurve:c,pointAlongCurveFrom:function(m,l,n){return b(m,l,n).point},perpendicularToCurveAt:function(m,l,n,o){return l=b(m,l,null==o?0:o),m=i(m,l.location),o=Math.atan(-1/m),m=n/2*Math.sin(o),n=n/2*Math.cos(o),[{x:l.point.x+n,y:l.point.y+m},{x:l.point.x-n,y:l.point.y-m}]},locationAlongCurveFrom:function(m,l,n){return b(m,l,n).location}}})(),(()=>{function removeModal(helpUnderlay){helpUnderlay.className=helpUnderlay.className.replace(/help-isVisible*/g,""),helpUnderlay.className=helpUnderlay.className.trim()}function getWindowWidth(){var w=window,d=document,e=d.documentElement,d=d.getElementsByTagName("body")[0];return w.innerWidth||e.clientWidth||d.clientWidth}function doWhichKey(e){return(e=e||window.event).keyCode||e.which}var helpUnderlay=document.getElementById("helpUnderlay"),helpModal=document.getElementById("helpModal"),helpClose=document.getElementById("helpClose"),o={i:null,maxHeight:null,helpListWrap:document.getElementById("helpListWrap"),helpList:document.querySelector(".help-list"),helpLists:document.querySelectorAll(".help-list"),helpModal:helpModal,helpColsTotal:null,helpListsHeights:[]};for(o.helpColsTotal=0,o.i=0;o.i<o.helpLists.length;o.i+=1)-1!==o.helpLists[o.i].className.indexOf("help-list")&&(o.helpColsTotal+=1),o.helpListsHeights[o.i]=o.helpLists[o.i].offsetHeight;o.maxHeight=Math.max.apply(Math,o.helpListsHeights),getWindowWidth()<=1180&&630<getWindowWidth()&&2<o.helpColsTotal&&(o.helpColsTotal=2,o.maxHeight=o.maxHeight*o.helpColsTotal),getWindowWidth()<=630&&(o.maxHeight=o.maxHeight*o.helpColsTotal,o.helpColsTotal=1),o.helpListWrap.style.offsetWidth=o.helpList.offsetWidth*o.helpColsTotal+"px",o.helpListWrap.style.height=o.maxHeight+"px",o.helpModal.style.width=o.helpList.offsetWidth*o.helpColsTotal+60+"px",o.helpModal.style.height=o.maxHeight+100+"px",document.addEventListener("keypress",function(e){63===doWhichKey(e)&&-1===document.getElementById("helpUnderlay").className.indexOf("help-isVisible")&&(document.getElementById("helpUnderlay").className+=" help-isVisible"),helpUnderlay.style.height=(e=document,Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)+"px")},!1),document.addEventListener("keyup",function(e){27===doWhichKey(e)&&removeModal(helpUnderlay)},!1),helpUnderlay.addEventListener("click",function(){removeModal(helpUnderlay)},!1),helpModal.addEventListener("click",function(e){e.stopPropagation()},!1),helpClose.addEventListener("click",function(){removeModal(helpUnderlay)},!1)})(),(()=>{var document=void 0!==window&&void 0!==window.document?window.document:{},isCommonjs="undefined"!=typeof module&&module.exports,fn=(()=>{for(var val,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if((val=fnMap[i])&&val[1]in document){for(i=0;i<val.length;i++)ret[fnMap[0][i]]=val[i];return ret}return!1})(),eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror},screenfull={request:function(element){return new Promise(function(resolve,reject){var onFullScreenEntered=function(){this.off("change",onFullScreenEntered),resolve()}.bind(this);this.on("change",onFullScreenEntered),element=element||document.documentElement,Promise.resolve(element[fn.requestFullscreen]()).catch(reject)}.bind(this))},exit:function(){return new Promise(function(resolve,reject){var onFullScreenExit;this.isFullscreen?(onFullScreenExit=function(){this.off("change",onFullScreenExit),resolve()}.bind(this),this.on("change",onFullScreenExit),Promise.resolve(document[fn.exitFullscreen]()).catch(reject)):resolve()}.bind(this))},toggle:function(element){return this.isFullscreen?this.exit():this.request(element)},onchange:function(callback){this.on("change",callback)},onerror:function(callback){this.on("error",callback)},on:function(event,callback){event=eventNameMap[event];event&&document.addEventListener(event,callback,!1)},off:function(event,callback){event=eventNameMap[event];event&&document.removeEventListener(event,callback,!1)},raw:fn};fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),isCommonjs?module.exports=screenfull:window.screenfull=screenfull):isCommonjs?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})();var RoughNotation=(t=>{let e="http://www.w3.org/2000/svg";class s{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function i(t,e,s,i,n){return{type:"path",ops:u(t,e,s,i,n)}}function n(t,e,s){var n=(t||[]).length;if(2<n){let i=[];for(let e=0;e<n-1;e++)i.push(...u(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&&i.push(...u(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:"path",ops:i}}return 2===n?i(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:"path",ops:[]}}function o(t,e,s,i,o){return(t=>n(t,!0,o))([[t,e],[t+s,e],[t+s,e+i],[t,e+i]])}function r(t,e,s,i,n){return((t,e,s,i)=>{let[n,o]=g(i.increment,t,e,i.rx,i.ry,1,i.increment*a(.1,a(.4,1,s),s),s),r=l(n,null,s);if(!s.disableMultiStroke){let[n]=g(i.increment,t,e,i.rx,i.ry,1.5,0,s),o=l(n,null,s);r=r.concat(o)}return{estimatedPoints:o,opset:{type:"path",ops:r}}})(t,e,n,((t,e,s)=>{var i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*i),i=2*Math.PI/i,t=Math.abs(t/2),e=Math.abs(e/2),a=1-s.curveFitting;return{increment:i,rx:t+=c(t*a,s),ry:e+=c(e*a,s)}})(s,i,n)).opset}function h(t){return t.randomizer||(t.randomizer=new s(t.seed||0)),t.randomizer.next()}function a(t,e,s,i=1){return s.roughness*i*(h(s)*(e-t)+t)}function c(t,e,s=1){return a(-t,t,e,s)}function u(t,e,s,i,n,o=!1){var o=o?n.disableMultiStrokeFill:n.disableMultiStroke,h=f(t,e,s,i,n,!0,!1);return o?h:(o=f(t,e,s,i,n,!0,!0),h.concat(o))}function f(t,e,s,i,n,o,r){var a=Math.pow(t-s,2)+Math.pow(e-i,2),u=Math.sqrt(a);let f,l=(f=u<200?1:500<u?.4:-.0016668*u+1.233334,n.maxRandomnessOffset||0),g=(l=l*l*100>a?u/10:l)/2,d=.2+.2*h(n);var a=n.bowing*n.maxRandomnessOffset*(t-s)/200,u=c(n.bowing*n.maxRandomnessOffset*(i-e)/200,n,f),a=c(a,n,f),m=[],w=()=>c(g,n,f),v=()=>c(l,n,f);return o&&m.push(r?{op:"move",data:[t+w(),e+w()]}:{op:"move",data:[t+c(l,n,f),e+c(l,n,f)]}),m.push(r?{op:"bcurveTo",data:[u+t+(s-t)*d+w(),a+e+(i-e)*d+w(),u+t+2*(s-t)*d+w(),a+e+2*(i-e)*d+w(),s+w(),i+w()]}:{op:"bcurveTo",data:[u+t+(s-t)*d+v(),a+e+(i-e)*d+v(),u+t+2*(s-t)*d+v(),a+e+2*(i-e)*d+v(),s+v(),i+v()]}),m}function l(t,e,s){var i=t.length,n=[];if(3<i){var o=[],r=1-s.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<i;e++){let s=t[e];o[0]=[s[0],s[1]],o[1]=[s[0]+(r*t[e+1][0]-r*t[e-1][0])/6,s[1]+(r*t[e+1][1]-r*t[e-1][1])/6],o[2]=[t[e+1][0]+(r*t[e][0]-r*t[e+2][0])/6,t[e+1][1]+(r*t[e][1]-r*t[e+2][1])/6],o[3]=[t[e+1][0],t[e+1][1]],n.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&2===e.length){let t=s.maxRandomnessOffset;n.push({op:"lineTo",data:[e[0]+c(t,s),e[1]+c(t,s)]})}}else 3===i?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&n.push(...u(t[0][0],t[0][1],t[1][0],t[1][1],s));return n}function g(t,e,s,i,n,o,r,h){var a=[],u=[],f=c(.5,h)-Math.PI/2;u.push([c(o,h)+e+.9*i*Math.cos(f-t),c(o,h)+s+.9*n*Math.sin(f-t)]);for(let r=f;r<2*Math.PI+f-.01;r+=t){let t=[c(o,h)+e+i*Math.cos(r),c(o,h)+s+n*Math.sin(r)];a.push(t),u.push(t)}return u.push([c(o,h)+e+i*Math.cos(f+2*Math.PI+.5*r),c(o,h)+s+n*Math.sin(f+2*Math.PI+.5*r)]),u.push([c(o,h)+e+.98*i*Math.cos(f+r),c(o,h)+s+.98*n*Math.sin(f+r)]),u.push([c(o,h)+e+.9*i*Math.cos(f+.5*r),c(o,h)+s+.9*n*Math.sin(f+.5*r)]),[u,a]}function d(t,e){return{maxRandomnessOffset:2,roughness:"highlight"===t?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:"double"!==t,disableMultiStrokeFill:!1,seed:e}}function p(t,s,h,a,c,u){let f=[],l=h.strokeWidth||2;var g=(t=>{var e=t.padding;if(e||0===e){if("number"==typeof e)return[e,e,e,e];if(Array.isArray(e)){let t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]})(h),p=void 0===h.animate||!!h.animate,_=h.iterations||2,m=h.rtl?1:0,w=d("single",u);switch(h.type){case"underline":{let t=s.y+s.h+g[2];for(let e=m;e<_+m;e++)e%2?f.push(i(s.x+s.w,t,s.x,t,w)):f.push(i(s.x,t,s.x+s.w,t,w));break}case"strike-through":{let t=s.y+s.h/2;for(let e=m;e<_+m;e++)e%2?f.push(i(s.x+s.w,t,s.x,t,w)):f.push(i(s.x,t,s.x+s.w,t,w));break}case"box":{let t=s.x-g[3],e=s.y-g[0],i=s.w+(g[1]+g[3]),n=s.h+(g[0]+g[2]);for(let s=0;s<_;s++)f.push(o(t,e,i,n,w));break}case"bracket":{let t=Array.isArray(h.brackets)?h.brackets:h.brackets?[h.brackets]:["right"],e=s.x-2*g[3],i=s.x+s.w+2*g[1],o=s.y-2*g[0],r=s.y+s.h+2*g[2];for(let h of t){let t;switch(h){case"bottom":t=[[e,s.y+s.h],[e,r],[i,r],[i,s.y+s.h]];break;case"top":t=[[e,s.y],[e,o],[i,o],[i,s.y]];break;case"left":t=[[s.x,o],[e,o],[e,r],[s.x,r]];break;case"right":t=[[s.x+s.w,o],[i,o],[i,r],[s.x+s.w,r]]}t&&f.push(n(t,!1,w))}break}case"crossed-off":{let t=s.x,e=s.y,n=t+s.w,o=e+s.h;for(let s=m;s<_+m;s++)s%2?f.push(i(n,o,t,e,w)):f.push(i(t,e,n,o,w));for(let s=m;s<_+m;s++)s%2?f.push(i(t,o,n,e,w)):f.push(i(n,e,t,o,w));break}case"circle":{let t=d("double",u),e=s.w+(g[1]+g[3]),i=s.h+(g[0]+g[2]),n=s.x-g[3]+e/2,o=s.y-g[0]+i/2,h=Math.floor(_/2),a=_-2*h;for(let s=0;s<h;s++)f.push(r(n,o,e,i,t));for(let t=0;t<a;t++)f.push(r(n,o,e,i,w));break}case"highlight":{let t=d("highlight",u),e=(l=.95*s.h,s.y+s.h/2);for(let n=m;n<_+m;n++)n%2?f.push(i(s.x+s.w,e,s.x,e,t)):f.push(i(s.x,e,s.x+s.w,e,t));break}}if(f.length){let s=(()=>{var s,e=[];for(s of f){let t="";for(var i of s.ops){let s=i.data;switch(i.op){case"move":t.trim()&&e.push(t.trim()),t=`M${s[0]} ${s[1]} `;break;case"bcurveTo":t+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":t+=`L${s[0]} ${s[1]} `}}t.trim()&&e.push(t.trim())}return e})(),i=[],n=[],o=0,r=(t,e,s)=>t.setAttribute(e,s);for(let a of s){let s=document.createElementNS(e,"path");if(r(s,"d",a),r(s,"fill","none"),r(s,"stroke",h.color||"currentColor"),r(s,"stroke-width",""+l),p){let t=s.getTotalLength();i.push(t),o+=t}t.appendChild(s),n.push(s)}if(p){let t=0;for(let e=0;e<n.length;e++){let s=n[e],r=i[e],h=o?c*(r/o):0,u=a+t,f=s.style;f.strokeDashoffset=""+r,f.strokeDasharray=""+r,f.animation=`rough-notation-dash ${h}ms ease-out ${u}ms forwards`,t+=h}}}}class _{constructor(t,e){this._state="unattached",this._resizing=!1,this._seed=Math.floor(Math.random()*2**31),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,"showing"===this._state&&this.haveRectsChanged()&&this.show()},400))},this._e=t,this._config=JSON.parse(JSON.stringify(e)),this.attach()}get animate(){return this._config.animate}set animate(t){this._config.animate=t}get animationDuration(){return this._config.animationDuration}set animationDuration(t){this._config.animationDuration=t}get iterations(){return this._config.iterations}set iterations(t){this._config.iterations=t}get color(){return this._config.color}set color(t){this._config.color!==t&&(this._config.color=t,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}get padding(){return this._config.padding}set padding(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}attach(){if("unattached"===this._state&&this._e.parentElement){(()=>{var t;window.__rno_kf_s||((t=window.__rno_kf_s=document.createElement("style")).textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t))})();var t=this._svg=document.createElementNS(e,"svg"),s=(t.setAttribute("class","rough-annotation"),t.style),s=(s.position="absolute",s.top="0",s.left="0",s.overflow="visible",s.pointerEvents="none",s.width="100px",s.height="100px","highlight"===this._config.type);if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",t),this._state="not-showing",s){let t=window.getComputedStyle(this._e).position;t&&"static"!==t||(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(t=>{for(var e of t)e.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){var t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(let e=0;e<t.length;e++)if(!this.isSameRect(t[e],this._lastSizes[e]))return!0}return!1}isSameRect(t,e){var s=(t,e)=>Math.round(t)===Math.round(e);return s(t.x,e.x)&&s(t.y,e.y)&&s(t.w,e.w)&&s(t.h,e.h)}isShowing(){return"not-showing"!==this._state}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}render(t,e){let s=this._config;e&&((s=JSON.parse(JSON.stringify(this._config))).animate=!1);var i=this.rects();let n=0;i.forEach(t=>n+=t.w);var o=s.animationDuration||800;let r=0;for(let e=0;e<i.length;e++){var h=o*(i[e].w/n);p(t,i[e],s,r+this._animationDelay,h,this._seed),r+=h}this._lastSizes=i,this._state="showing"}rects(){var t=[];if(this._svg)if(this._config.multiline){var e=this._e.getClientRects();for(let s=0;s<e.length;s++)t.push(this.svgRect(this._svg,e[s]))}else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t}svgRect(t,e){t=t.getBoundingClientRect();return{x:(e.x||e.left)-(t.x||t.left),y:(e.y||e.top)-(t.y||t.top),w:e.width,h:e.height}}}return t.annotate=function(t,e){return new _(t,e)},t.annotationGroup=function(t){let e=0;for(let s of t){let t=s;t._animationDelay=e,e+=0===t.animationDuration?0:t.animationDuration||800}let s=[...t];return{show(){for(var t of s)t.show()},hide(){for(var t of s)t.hide()}}},Object.defineProperty(t,"__esModule",{value:!0}),t})({});($=>{function stopPropagation(event){event.stopPropagation()}function updateStates(){var oldIndex,$newParents;oldIndex=$container.data("onSlide"),$container.removeClass(options.classes.onPrefix+oldIndex),$container.addClass(options.classes.onPrefix+currentIndex),$container.data("onSlide",currentIndex),oldIndex=$("."+options.classes.current).parentsUntil(options.selectors.container),$newParents=slides[currentIndex].parentsUntil(options.selectors.container),oldIndex.removeClass(options.classes.childCurrent),$newParents.addClass(options.classes.childCurrent);for(var clsToRemove=[options.classes.before,options.classes.previous,options.classes.current,options.classes.next,options.classes.after],idx=0;idx<clsToRemove.length;idx++){var clsName=clsToRemove[idx];$("."+clsName).removeClass(clsName)}slides[currentIndex].addClass(options.classes.current),0<currentIndex&&slides[currentIndex-1].addClass(options.classes.previous),currentIndex+1<slides.length&&slides[currentIndex+1].addClass(options.classes.next),1<currentIndex&&$.each(slides.slice(0,currentIndex-1),function(i,$slide){$slide.addClass(options.classes.before)}),currentIndex+2<slides.length&&$.each(slides.slice(currentIndex+2),function(i,$slide){$slide.addClass(options.classes.after)}),options.setAriaHiddens&&$(options.selectors.slides).each(function(){var $slide=$(this),isSub=$slide.closest("."+options.classes.childCurrent).length,isBefore=$slide.hasClass(options.classes.before)&&!isSub,isSub=$slide.hasClass(options.classes.previous)&&!isSub,isNext=$slide.hasClass(options.classes.next),isAfter=$slide.hasClass(options.classes.after);$slide.attr("aria-hidden",isBefore||isSub||isNext||isAfter)})}function initSlidesArray(elements){$.isArray(elements)?$.each(elements,function(i,element){slides.push($(element))}):$(elements).each(function(i,element){slides.push($(element))})}function indexInBounds(index){return"number"==typeof index&&0<=index&&index<slides.length}function goByHash(str){var id=str.substr(str.indexOf("#")+1);$.each(slides,function(i,$slide){if($slide.attr("id")===id)return $.deck("go",i),!1}),options.preventFragmentScroll&&$.deck("getContainer").scrollLeft(0).scrollTop(0)}function addContainerHashClass(id){$container.addClass(options.classes.onPrefix+id)}function setupHashBehaviors(){$fragmentLinks=$(),$.each(slides,function(i,$slide){((i,$slide)=>{var currentId=$slide.attr("id"),previouslyAssigned=$slide.data("deckAssignedId")===currentId;currentId&&!previouslyAssigned||($slide.attr("id",options.hashPrefix+i),$slide.data("deckAssignedId",options.hashPrefix+i))})(i,$slide),($slide="#"+$slide.attr("id"))===window.location.hash&&setTimeout(function(){$.deck("go",i)},1),$fragmentLinks=$fragmentLinks.add('a[href="'+$slide+'"]')}),slides.length&&addContainerHashClass($.deck("getSlide").attr("id"))}function changeHash(from,to){var hash="#"+$.deck("getSlide",to).attr("id"),hash=window.location.href.replace(/#.*/,"")+hash;from=$.deck("getSlide",from).attr("id"),$container.removeClass(options.classes.onPrefix+from),addContainerHashClass($.deck("getSlide",to).attr("id")),Modernizr.history&&window.history.replaceState({},"",hash)}var slides,currentIndex,$container,$fragmentLinks,events_beforeChange="deck.beforeChange",events_change="deck.change",events_beforeInitialize="deck.beforeInit",events_initialize="deck.init",options={},$document=$(document),$window=$(window),methods={init:function(opts){(event=$.Event(events_beforeInitialize)).locks=0,event.done=$.noop,event.lockInit=function(){++event.locks},event.releaseInit=function(){--event.locks,event.locks||event.done()};var event,beforeInitEvent=event,overrides=opts;$.isPlainObject(opts)||$.extend(!0,overrides=arguments[1]||{},{selectors:{slides:opts}}),options=$.extend(!0,{},$.deck.defaults,overrides),slides=[],currentIndex=0,($container=$(options.selectors.container)).addClass(options.classes.loading),initSlidesArray(options.selectors.slides),beforeInitEvent.done=function(){var startTouch,editables,tolerance,listenToHorizontal,listenToVertical;slides=[],initSlidesArray(options.selectors.slides),setupHashBehaviors(),editables=["input","textarea","select","button","meter","progress","[contentEditable]"].join(", "),$document.unbind("keydown.deck").bind("keydown.deck",function(event){var isNext=event.which===options.keys.next,isPrev=event.which===options.keys.previous,isNext=isNext||-1<$.inArray(event.which,options.keys.next),isPrev=isPrev||-1<$.inArray(event.which,options.keys.previous);isNext?(methods.next(),event.preventDefault()):isPrev&&(methods.prev(),event.preventDefault())}),$document.undelegate(editables,"keydown.deck",stopPropagation),$document.delegate(editables,"keydown.deck",stopPropagation),editables=options.touch.swipeDirection,tolerance=options.touch.swipeTolerance,listenToHorizontal={both:!0,horizontal:!0}[editables],listenToVertical={both:!0,vertical:!0}[editables],$container.unbind("touchstart.deck"),$container.bind("touchstart.deck",function(event){startTouch=startTouch||$.extend({},event.originalEvent.targetTouches[0])}),$container.unbind("touchmove.deck"),$container.bind("touchmove.deck",function(event){$.each(event.originalEvent.changedTouches,function(i,touch){var xDistance,rightToLeft,bottomToTop;return!startTouch||touch.identifier!==startTouch.identifier||(xDistance=touch.screenX-startTouch.screenX,touch=touch.screenY-startTouch.screenY,rightToLeft=xDistance<-tolerance&&listenToHorizontal,bottomToTop=touch<-tolerance&&listenToVertical,tolerance<xDistance&&listenToHorizontal||tolerance<touch&&listenToVertical?($.deck("prev"),startTouch=void 0):(rightToLeft||bottomToTop)&&($.deck("next"),startTouch=void 0),!1)}),listenToVertical&&event.preventDefault()}),$container.unbind("touchend.deck"),$container.bind("touchend.deck",function(event){$.each(event.originalEvent.changedTouches,function(i,touch){startTouch&&touch.identifier===startTouch.identifier&&(startTouch=void 0)})}),$container.scrollLeft(0).scrollTop(0),slides.length&&updateStates(),$container.removeClass(options.classes.loading),$document.trigger(events_initialize)},$document.trigger(beforeInitEvent),beforeInitEvent.locks||beforeInitEvent.done(),window.setTimeout(function(){beforeInitEvent.locks&&(window.console&&window.console.warn("Something locked deck initialization              without releasing it before the timeout. Proceeding with              initialization anyway."),beforeInitEvent.done())},options.initLockTimeout)},go:function(indexOrId){var index,beforeChangeEvent=$.Event(events_beforeChange);indexInBounds(indexOrId)?index=indexOrId:"string"==typeof indexOrId&&$.each(slides,function(i,$slide){if($slide.attr("id")===indexOrId)return index=i,!1}),void 0===index||($document.trigger(beforeChangeEvent,[currentIndex,index]),beforeChangeEvent.isDefaultPrevented())||($document.trigger(events_change,[currentIndex,index]),changeHash(currentIndex,index),currentIndex=index,updateStates())},next:function(){methods.go(currentIndex+1)},prev:function(){methods.go(currentIndex-1)},getSlide:function(index){return indexInBounds(index=void 0!==index?index:currentIndex)?slides[index]:null},getSlides:function(){return slides},getTopLevelSlides:function(){var topLevelSlides=[],slideSelector=options.selectors.slides,subSelector=[slideSelector,slideSelector].join(" ");return $.each(slides,function(i,$slide){$slide.is(subSelector)||topLevelSlides.push($slide)}),topLevelSlides},getNestedSlides:function(index){index=null==index?currentIndex:index,index=$.deck("getSlide",index).find(options.selectors.slides).get();return $.map(index,function(slide,i){return $(slide)})},getContainer:function(){return $container},getOptions:function(){return options},extend:function(name,method){methods[name]=method}};$.deck=function(method,arg){var args=Array.prototype.slice.call(arguments,1);return methods[method]?methods[method].apply(this,args):methods.init(method,arg)},$.deck.defaults={classes:{after:"deck-after",before:"deck-before",childCurrent:"deck-child-current",current:"deck-current",loading:"deck-loading",next:"deck-next",onPrefix:"on-slide-",previous:"deck-previous"},selectors:{container:".deck-container",slides:".slide"},keys:{next:[13,32,34,39,40],previous:[8,33,37,38]},touch:{swipeDirection:"horizontal",swipeTolerance:60},initLockTimeout:1e4,hashPrefix:"slide-",preventFragmentScroll:!0,setAriaHiddens:!0},$document.ready(function(){$("html").addClass("ready")}),$window.bind("hashchange.deck",function(event){event.originalEvent&&event.originalEvent.newURL?goByHash(event.originalEvent.newURL):goByHash(window.location.hash)}),$window.bind("load.deck",function(){options.preventFragmentScroll&&$container.scrollLeft(0).scrollTop(0)})})(jQuery),($=>{$(document).bind("deck.change",function(e,from,to){var $prev=$.deck("getSlide",to-1),$next=$.deck("getSlide",to+1),$oldprev=$.deck("getSlide",from-1),$oldnext=$.deck("getSlide",from+1),direction=to<from?"reverse":"forward";$.deck("getSlide",to).trigger("deck.becameCurrent",[direction,from,to]),$.deck("getSlide",from).trigger("deck.lostCurrent",[direction,from,to]),$prev&&$prev.trigger("deck.becamePrevious",[direction,from,to]),$next&&$next.trigger("deck.becameNext",[direction,from,to]),$oldprev&&$oldprev.trigger("deck.lostPrevious",[direction,from,to]),$oldnext&&$oldnext.trigger("deck.lostNext",[direction,from,to])})})(jQuery),(($,window)=>{function scaleDeck(){var opts=$.deck("getOptions"),addMarginX=2*opts.fitMarginX,addMarginY=2*opts.fitMarginY,fitMode=opts.fitMode,sdw=opts.designWidth,sdh=opts.designHeight,$container=$.deck("getContainer"),scaleX=$container.hasClass(opts.classes.globalscale)?$container.innerWidth()/(sdw+addMarginX):1,scaleY=$container.hasClass(opts.classes.globalscale)?$container.innerHeight()/(sdh+addMarginY):1,scale=($container.hasClass(opts.classes.globalscale)&&$container.innerWidth(),$container.hasClass(opts.classes.globalscale)&&$container.innerHeight(),scaleX<scaleY?scaleX:scaleY),rootSlides=[];$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el,i){return"."+el}).join(", "),$.each($.deck("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container).length||rootSlides.push($el)}),$.each(rootSlides,function(i,$slide){$slide.width(sdw),$slide.height(sdh),$.each("Webkit Moz O ms Khtml".split(" "),function(i,prefix){1==scale?$slide.css(prefix+"Transform",""):"left top"==fitMode||"top left"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%,50%) translate("+addMarginX/2+"px,"+addMarginY/2+"px)"):"center middle"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%, 50%) translate("+($container.innerWidth()/2/scale-sdw/2)+"px,"+($container.innerHeight()/2/scale-sdh/2)+"px)"):"right bottom"==fitMode||"bottom right"==fitMode?$slide.css(prefix+"Transform","translate(-50%,-50%) scale("+scale+" , "+scale+") translate(50%, 50%) translate("+($container.innerWidth()/scale-sdw-addMarginX/2)+"px,"+($container.innerHeight()/scale-sdh-addMarginY/2)+"px)"):"stretched"==fitMode&&$slide.css(prefix+"Transform","scale("+scaleX+" , "+scaleY+") translate("+($container.innerWidth()-sdw)/2/scaleX+"px,"+($container.innerHeight()-sdh)/2/scaleY+"px)")})})}var timer,$d=$(document),$w=$(window);$.extend(!0,$.deck.defaults,{classes:{globalscale:"deck-globalscale"},keys:{scale:83},designWidth:800,designHeight:600,fitMode:"center middle",fitMarginX:5,fitMarginY:5,scaleDebounce:200}),$.deck("extend","disableScale",function(){$.deck("getContainer").removeClass($.deck("getOptions").classes.globalscale),scaleDeck()}),$.deck("extend","enableScale",function(){$.deck("getContainer").addClass($.deck("getOptions").classes.globalscale),scaleDeck()}),$.deck("extend","toggleScale",function(){var $c=$.deck("getContainer");$.deck($c.hasClass($.deck("getOptions").classes.globalscale)?"disableScale":"enableScale")}),$d.bind("deck.init",function(){var opts=$.deck("getOptions");$w.unbind("resize.deckscale").bind("resize.deckscale",function(){window.clearTimeout(timer),timer=window.setTimeout(scaleDeck,opts.scaleDebounce)}).unbind("load.deckscale").bind("load.deckscale",scaleDeck),$d.unbind("keydown.deckscale").bind("keydown.deckscale",function(e){(e.which===opts.keys.scale||-1<$.inArray(e.which,opts.keys.scale))&&($.deck("toggleScale"),e.preventDefault())}),$.deck("enableScale")})})(jQuery,this),($=>{var rootSlides,$d=$(document);$.extend(!0,$.deck.defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),$.deck("extend","showMenu",function(){var $c=$.deck("getContainer"),opts=$.deck("getOptions");$c.hasClass(opts.classes.menu)||($c.addClass([opts.classes.loading,opts.classes.menu].join(" ")),Modernizr.csstransforms&&$.each(rootSlides,function(i,$slide){$slide.data("oldStyle",$slide.attr("style")),$slide.css({position:"absolute",left:i%4*25+2+"%",top:33*Math.floor(i/4)+"%"})}),window.setTimeout(function(){$c.removeClass(opts.classes.loading).scrollTop($.deck("getSlide").offset().top)},0))}),$.deck("extend","hideMenu",function(){var $c=$.deck("getContainer"),opts=$.deck("getOptions");$c.hasClass(opts.classes.menu)&&($c.removeClass(opts.classes.menu),$c.addClass(opts.classes.loading),Modernizr.csstransforms&&$.each(rootSlides,function(i,$slide){var oldStyle=$slide.data("oldStyle");$slide.attr("style",oldStyle||"")}),window.setTimeout(function(){$c.removeClass(opts.classes.loading).scrollTop(0)},0))}),$.deck("extend","toggleMenu",function(){$.deck("getContainer").hasClass($.deck("getOptions").classes.menu)?$.deck("hideMenu"):$.deck("showMenu")}),$d.bind("deck.init",function(){var currentSlide,opts=$.deck("getOptions"),touchEndTime=0,slideTest=$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el,i){return"."+el}).join(", ");rootSlides=[],$.each($.deck("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container,slideTest).length||rootSlides.push($el)}),$d.unbind("keydown.deckmenu").bind("keydown.deckmenu",function(e){(e.which===opts.keys.menu||-1<$.inArray(e.which,opts.keys.menu))&&($.deck("toggleMenu"),e.preventDefault())}),$.deck("getContainer").unbind("touchstart.deckmenu").bind("touchstart.deckmenu",function(e){currentSlide=$.deck("getSlide")}).unbind("touchend.deckmenu").bind("touchend.deckmenu",function(e){var now=Date.now();currentSlide===$.deck("getSlide")&&(now-touchEndTime<opts.touch.doubletapWindow&&($.deck("toggleMenu"),e.preventDefault()),touchEndTime=now)}),$.each($.deck("getSlides"),function(i,$s){$s.unbind("click.deckmenu").bind("click.deckmenu",function(e){$.deck("getContainer").hasClass(opts.classes.menu)&&($.deck("go",i),$.deck("hideMenu"),e.stopPropagation(),e.preventDefault())})})}).bind("deck.change",function(e,from,to){var container=$.deck("getContainer");container.hasClass($.deck("getOptions").classes.menu)&&container.scrollTop($.deck("getSlide",to).offset().top)})})(jQuery),(($,window)=>{function goByHash(str){var id=str.substr(str.indexOf("#")+1),str=$.deck("getSlides");$.each(str,function(i,$el){if($el.attr("id")===id)return $.deck("go",i),!1}),$.deck("getContainer").scrollLeft(0).scrollTop(0)}var $internals,$d=$(document),$window=$(window);$.extend(!0,$.deck.defaults,{selectors:{hashLink:".deck-permalink"},hashPrefix:"slide-",preventFragmentScroll:!0}),$d.bind("deck.init",function(){var opts=$.deck("getOptions"),slides=($internals=$(),$.deck("getSlides"));$.each(slides,function(i,$el){$el.attr("id")&&$el.data("deckAssignedId")!==$el.attr("id")||($el.attr("id",opts.hashPrefix+i),$el.data("deckAssignedId",opts.hashPrefix+i)),($el="#"+$el.attr("id"))===window.location.hash&&setTimeout(function(){$.deck("go",i)},1),$internals=$internals.add('a[href="'+$el+'"]')}),Modernizr.hashchange||$internals.unbind("click.deckhash").bind("click.deckhash",function(e){goByHash($(this).attr("href"))}),slides.length&&$.deck("getContainer").addClass(opts.classes.onPrefix+$.deck("getSlide").attr("id"))}).bind("deck.change",function(e,from,to){var hash="#"+$.deck("getSlide",to).attr("id"),hash=window.location.href.replace(/#.*/,"")+hash,opts=$.deck("getOptions"),osp=opts.classes.onPrefix,$c=$.deck("getContainer");$c.removeClass(osp+$.deck("getSlide",from).attr("id")),$c.addClass(osp+$.deck("getSlide",to).attr("id")),$(opts.selectors.hashLink).attr("href",hash),Modernizr.history&&window.history.replaceState({},"",hash)}),$window.bind("hashchange.deckhash",function(e){e.originalEvent&&e.originalEvent.newURL?goByHash(e.originalEvent.newURL):goByHash(window.location.hash)}).bind("load",function(){$.deck("getOptions").preventFragmentScroll&&$.deck("getContainer").scrollLeft(0).scrollTop(0)})})(jQuery,window),($=>{var $d=$(document),findAndReplaceDOMText=($.extend(!0,$.deck.defaults,{classes:{notes:"deck-notes",handout:"deck-handout",notesContainer:"deck-notes-container",handoutContainer:"deck-handout-container"},keys:{notes:78,handout:72},selectors:{}}),(()=>{var PORTION_MODE_RETAIN="retain",doc=document;function exposed(){return function(regex,node,replacement,captureGroup,elFilter){if(node&&!node.nodeType&&arguments.length<=2)return!1;var isReplacementFunction="function"==typeof replacement;isReplacementFunction&&(replacement=(original=>function(portion,match){return original(portion.text,match.startIndex)})(replacement));var instance=findAndReplaceDOMText(node,{find:regex,wrap:isReplacementFunction?null:replacement,replace:isReplacementFunction?replacement:"$"+(captureGroup||"&"),prepMatch:function(m,mi){var cg;if(m[0])return 0<captureGroup&&(cg=m[captureGroup],m.index+=m[0].indexOf(cg),m[0]=cg),m.endIndex=m.index+m[0].length,m.startIndex=m.index,m.index=mi,m;throw"findAndReplaceDOMText cannot handle zero-length matches"},filterElements:elFilter});return exposed.revert=function(){return instance.revert()},!0}.apply(null,arguments)||findAndReplaceDOMText.apply(null,arguments)}function findAndReplaceDOMText(node,options){return new Finder(node,options)}function Finder(node,options){options.portionMode=options.portionMode||PORTION_MODE_RETAIN,this.node=node,this.options=options,this.prepMatch=options.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return(exposed.Finder=Finder).prototype={search:function(){var match,matchIndex=0,regex=this.options.find,text=this.getAggregateText(),matches=[];if((regex="string"==typeof regex?RegExp(String(regex).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"):regex).global)for(;match=regex.exec(text);)matches.push(this.prepMatch(match,matchIndex++));else(match=text.match(regex))&&matches.push(this.prepMatch(match,0));return matches},prepMatch:function(match,matchIndex){if(match[0])return match.endIndex=match.index+match[0].length,match.startIndex=match.index,match.index=matchIndex,match;throw new Error("findAndReplaceDOMText cannot handle zero-length matches")},getAggregateText:function(){var elementFilter=this.options.filterElements;return function getText(node){if(3===node.nodeType)return node.data;if(elementFilter&&!elementFilter(node))return"";var txt="";if(node=node.firstChild)for(;txt+=getText(node),node=node.nextSibling;);return txt}(this.node)},processMatches:function(){var startPortion,endPortion,doAvoidNode,matches=this.matches,node=this.node,elementFilter=this.options.filterElements,innerPortions=[],curNode=node,match=matches.shift(),atIndex=0,portionIndex=0;out:for(;;){if(3===curNode.nodeType&&(!endPortion&&curNode.length+atIndex>=match.endIndex?endPortion={node:curNode,index:portionIndex++,text:curNode.data.substring(match.startIndex-atIndex,match.endIndex-atIndex),indexInMatch:atIndex-match.startIndex,indexInNode:match.startIndex-atIndex,endIndexInNode:match.endIndex-atIndex,isEnd:!0}:startPortion&&innerPortions.push({node:curNode,index:portionIndex++,text:curNode.data,indexInMatch:atIndex-match.startIndex,indexInNode:0}),!startPortion&&curNode.length+atIndex>match.startIndex&&(startPortion={node:curNode,index:portionIndex++,indexInMatch:0,indexInNode:match.startIndex-atIndex,endIndexInNode:match.endIndex-atIndex,text:curNode.data.substring(match.startIndex-atIndex,match.endIndex-atIndex)}),atIndex+=curNode.data.length),doAvoidNode=1===curNode.nodeType&&elementFilter&&!elementFilter(curNode),startPortion&&endPortion){if(curNode=this.replaceMatch(match,startPortion,innerPortions,endPortion),atIndex-=endPortion.node.data.length-endPortion.endIndexInNode,endPortion=startPortion=null,innerPortions=[],portionIndex=0,!(match=matches.shift()))break}else if(!doAvoidNode&&(curNode.firstChild||curNode.nextSibling)){curNode=curNode.firstChild||curNode.nextSibling;continue}for(;;){if(curNode.nextSibling){curNode=curNode.nextSibling;break}if(curNode.parentNode===node)break out;curNode=curNode.parentNode}}},revert:function(){for(var l=this.reverts.length;l--;)this.reverts[l]();this.reverts=[]},prepareReplacementString:function(string,portion,match,matchIndex){var portionMode=this.options.portionMode;return"first"===portionMode&&0<portion.indexInMatch?"":(string=string.replace(/\$(\d+|&|`|')/g,function($0,t){var replacement;switch(t){case"&":replacement=match[0];break;case"`":replacement=match.input.substring(0,match.startIndex);break;case"'":replacement=match.input.substring(match.endIndex);break;default:replacement=match[+t]}return replacement}),"first"===portionMode?string:portion.isEnd?string.substring(portion.indexInMatch):string.substring(portion.indexInMatch,portion.indexInMatch+portion.text.length))},getPortionReplacementNode:function(portion,match,matchIndex){var clone,replacement=this.options.replace||"$&",wrapper=this.options.wrap;return wrapper&&wrapper.nodeType&&((clone=doc.createElement("div")).innerHTML=wrapper.outerHTML||(new XMLSerializer).serializeToString(wrapper),wrapper=clone.firstChild),"function"==typeof replacement?(replacement=replacement(portion,match,matchIndex))&&replacement.nodeType?replacement:doc.createTextNode(String(replacement)):(clone="string"==typeof wrapper?doc.createElement(wrapper):wrapper,replacement=doc.createTextNode(this.prepareReplacementString(replacement,portion,match,matchIndex)),clone?(clone.appendChild(replacement),clone):replacement)},replaceMatch:function(match,startPortion,innerPortions,endPortion){var node,newNode,matchStartNode=startPortion.node,matchEndNode=endPortion.node;if(matchStartNode===matchEndNode)return node=matchStartNode,0<startPortion.indexInNode&&(preceedingTextNode=doc.createTextNode(node.data.substring(0,startPortion.indexInNode)),node.parentNode.insertBefore(preceedingTextNode,node)),newNode=this.getPortionReplacementNode(endPortion,match),node.parentNode.insertBefore(newNode,node),endPortion.endIndexInNode<node.length&&(followingTextNode=doc.createTextNode(node.data.substring(endPortion.endIndexInNode)),node.parentNode.insertBefore(followingTextNode,node)),node.parentNode.removeChild(node),this.reverts.push(function(){preceedingTextNode===newNode.previousSibling&&preceedingTextNode.parentNode.removeChild(preceedingTextNode),followingTextNode===newNode.nextSibling&&followingTextNode.parentNode.removeChild(followingTextNode),newNode.parentNode.replaceChild(node,newNode)}),newNode;for(var preceedingTextNode=doc.createTextNode(matchStartNode.data.substring(0,startPortion.indexInNode)),followingTextNode=doc.createTextNode(matchEndNode.data.substring(endPortion.endIndexInNode)),firstNode=this.getPortionReplacementNode(startPortion,match),innerNodes=[],i=0,l=innerPortions.length;i<l;++i){var portion=innerPortions[i],innerNode=this.getPortionReplacementNode(portion,match);portion.node.parentNode.replaceChild(innerNode,portion.node),this.reverts.push(((portion,innerNode)=>function(){innerNode.parentNode.replaceChild(portion.node,innerNode)})(portion,innerNode)),innerNodes.push(innerNode)}var lastNode=this.getPortionReplacementNode(endPortion,match);return matchStartNode.parentNode.insertBefore(preceedingTextNode,matchStartNode),matchStartNode.parentNode.insertBefore(firstNode,matchStartNode),matchStartNode.parentNode.removeChild(matchStartNode),matchEndNode.parentNode.insertBefore(lastNode,matchEndNode),matchEndNode.parentNode.insertBefore(followingTextNode,matchEndNode),matchEndNode.parentNode.removeChild(matchEndNode),this.reverts.push(function(){preceedingTextNode.parentNode.removeChild(preceedingTextNode),firstNode.parentNode.replaceChild(matchStartNode,firstNode),followingTextNode.parentNode.removeChild(followingTextNode),lastNode.parentNode.replaceChild(matchEndNode,lastNode)}),lastNode}},exposed})());$.deck("extend","showNotes",function(){($notesEl=$("."+$.deck("getOptions").classes.notes)).show(),$(".notes-header-tex",$notesEl).hide(),$notesEl.hasClass("large-format")?$(".deck-container").css({transform:"translate(300px,-200px) scale(0.5,0.5)"}):$(".deck-container").css({transform:"translate(100px) scale(.8)"})}),$.deck("extend","showNotesExport",function(){($notesEl=$("."+$.deck("getOptions").classes.notes)).show(),$notesEl.addClass("notes-export"),$(".notes",$notesEl).show(),$(".notes-header-tex",$notesEl).show(),$(".notes-header",$notesEl).hide(),$(".deck-container").hide()}),$.deck("extend","showHandoutExport",function(){($handoutEl=$("."+$.deck("getOptions").classes.handout)).show(),$(".deck-container").hide()}),$.deck("extend","hideNotes",function(){$("."+$.deck("getOptions").classes.notes).hide(),$(".deck-container").css({transform:"translate(0)"})}),$.deck("extend","hideNotesExport",function(){($notesEl=$("."+$.deck("getOptions").classes.notes)).hide(),$notesEl.removeClass("notes-export"),$(".deck-container").show()}),$.deck("extend","hideHandoutExport",function(){($handoutEl=$("."+$.deck("getOptions").classes.handout)).hide(),$(".deck-container").show()}),$.deck("extend","toggleNotes",function(){$("."+$.deck("getOptions").classes.notes).is(":visible")?$.deck("hideNotes"):$.deck("showNotes")}),$.deck("extend","toggleNotesExport",function(){$("."+$.deck("getOptions").classes.notes).hasClass("notes-export")?$.deck("hideNotesExport"):$.deck("showNotesExport")}),$.deck("extend","toggleHandoutExport",function(){$("."+$.deck("getOptions").classes.handout).is(":visible")?$.deck("hideHandoutExport"):$.deck("showHandoutExport")}),$d.bind("deck.init",function(){var slide_id,opts=$.deck("getOptions"),show_notes=($.deck("getContainer"),-1!=window.location.search.search(/[\?&]notes([&=]|$)/)),large_notes=-1!=window.location.search.search(/[\?&]largenotes([&=]|$)/),$notesContainer=(large_notes&&($notesEl=$("."+$.deck("getOptions").classes.notes)).toggleClass("large-format"),(show_notes||large_notes)&&$.deck("toggleNotes"),$d.unbind("keydown.decknotes").bind("keydown.decknotes",function(e){(e.which===opts.keys.notes||-1<$.inArray(e.which,opts.keys.notes))&&(e.altKey&&($notesEl=$("."+$.deck("getOptions").classes.notes)).toggleClass("large-format"),e.shiftKey?$.deck("toggleNotesExport"):$.deck("toggleNotes"),e.preventDefault()),(e.which===opts.keys.handout||-1<$.inArray(e.which,opts.keys.handout))&&($.deck("toggleHandoutExport"),e.preventDefault())}),$("."+$.deck("getOptions").classes.notesContainer)),$notes=$(".deck-container .notes"),last_slide_id=-1,$handoutContainer=($notes.each(function(idx,note){var note=$(note),$slide=note.parents(".slide").first(),previous=note.siblings().splice(0,note.index()),previous=$(previous).filter(".slide").last(),$slide=(0<previous.length&&($slide=previous),slide_id=$slide.attr("id"),-1!=last_slide_id&&last_slide_id!=slide_id&&$notesContainer.append('<div class="divider for-'+last_slide_id+'">--------</div>'),-1!=last_slide_id&&last_slide_id!=slide_id&&(previous=(slide_id+"").replace(/_/g,"\\_"),$notesContainer.append('<div class="notes-header-tex for-'+slide_id+'">\\subsection{'+previous+"}</div>")),note.attr("class")+" for-"+slide_id);$notesContainer.append('<div class="'+$slide+'">'+note.html().trim()+"</div>"),$notes.eq(idx+1).hasClass("ctd")||$notesContainer.append('<div class="notes for-'+slide_id+'">&nbsp;</div>'),last_slide_id=slide_id}),findAndReplaceDOMText($notesContainer[0],{find:/&/g,replace:"\\&"}),$("."+$.deck("getOptions").classes.handoutContainer)),$handouts=$(".deck-container .handout").not(".handout .handout"),$exercises=($handouts.each(function(idx,handout){var handout=$(handout);0<handout.not("img").length&&0<handout.not(".img").length?($handoutContainer.append('<div class="handout">'+handout.html().trim()+"</div>"),$handouts.eq(idx+1).hasClass("ctd")||$handoutContainer.append("<div>&nbsp;</div>")):(idx=handout.attr("src")||handout.attr("data-src"),handout=handout.attr("data-scale")||handout.attr("scale")||"0.3",$.each(["\\begin{center}","\\includegraphics[scale="+handout+"]{"+idx+"}","\\end{center}"],function(idx,txt){$handoutContainer.append("<div>"+txt+"</div>")}))}),$(".deck-container .exercises"));0<($exercises=document.title.match(/^Fast/)?$(".deck-container .exercises_fast"):$exercises).length&&($handoutContainer.append("<div>\\vfill</div>"),$handoutContainer.append("<div>\\begin{minipage}{\\columnwidth}</div>"),$handoutContainer.append("<div>\\section{Exercises}</div>"),$handoutContainer.append("<div>These exercises will be discussed in seminars the week after this lecture.</div>"),$handoutContainer.append("<div>The numbers below refer to the numbered exercises in the course textbook, e.g.\\ `1.1' refers to exercise 1.1. on page 39 of the second edition of \\emph{Language, Proof and Logic}.  Exercises marked `*' are optional.</div>"),$handoutContainer.append("<div>&nbsp;</div>"),$handoutContainer.append("<div>\\begin{quote}</div>"),$exercises.each(function(idx,ex){ex=$(ex);$handoutContainer.append('<div class="handout exercise">'+ex.html()+"</div>"),$exercises.eq(idx+1).hasClass("ctd")||$handoutContainer.append("<div>&nbsp;</div>")}),$handoutContainer.append("<div>\\end{quote}</div>"),$handoutContainer.append("<div>\\end{minipage}</div>")),findAndReplaceDOMText($handoutContainer[0],{find:/&/g,replace:"\\&"}),findAndReplaceDOMText($handoutContainer[0],{find:/â«¤â¨/g,replace:"$\\leftmodels\\models$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â«¤/g,replace:"$\\leftmodels$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â¨TT/g,replace:"$\\vDash _{TT}$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â¨/g,replace:"$\\vDash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â­TT/g,replace:"$\\nvDash _{TT}$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â¥/g,replace:"$\\bot$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â¢/g,replace:"$\\vdash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â¬/g,replace:"$\\nvdash$"}),findAndReplaceDOMText($handoutContainer[0],{find:/â­/g,replace:"$\\nvDash$"})}),$d.bind("deck.change",function(e,from,to){var to=$.deck("getSlide",to),$notesContainer=$("."+$.deck("getOptions").classes.notesContainer),to=($(".notes",$notesContainer).hide(),$(".divider, .notes-header, .notes-header-tex",$notesContainer).hide(),$(to).attr("id"));$(".for-"+to,$notesContainer).not(".notes-header-tex").show()})})(jQuery),($=>{var $d=$(document),SENTINEL_RE=/^\s*insert-transcript#([a-f0-9-]+)-here\s*$/i;function latexMap(s){return s&&s.replace(/&/g,"\\&").replace(/â«¤â¨/g,"$\\leftmodels\\models$").replace(/â«¤/g,"$\\leftmodels$").replace(/â¨TT/g,"$\\vDash _{TT}$").replace(/â¨/g,"$\\vDash$").replace(/â­TT/g,"$\\nvDash _{TT}$").replace(/â¥/g,"$\\bot$").replace(/â¢/g,"$\\vdash$").replace(/â¬/g,"$\\nvdash$").replace(/â­/g,"$\\nvDash$")}function ensurePanel(opts){var cls=opts.classes.transcripts,$panel=$("."+cls);return 0===$panel.length&&(cls=$("<section>").addClass(cls).attr({role:"complementary","aria-live":"polite"}).append($("<div>").addClass(opts.classes.transcriptsContainer)),opts=$.deck("getContainer"),cls.insertBefore(opts),$panel=cls),$panel}function applyLiveTransform(opts){var scale,w,opts=$("."+opts.classes.transcripts),$deckContainer=$(".deck-container");!opts.is(":visible")||opts.hasClass("export")?$deckContainer.css({transform:""}):(w=opts.outerWidth()||0,scale=(opts=opts.hasClass("large-format"))?.55:.8,w=-Math.round(w/2+(opts?100:0)),$deckContainer.css({transform:"translate("+w+"px,0px) scale("+scale+","+scale+")"}))}function getPanelContainer(opts){return $("."+opts.classes.transcripts+" ."+opts.classes.transcriptsContainer)}function slideHasTranscript($slide){return $slide&&$slide.length&&0<$slide.find(".transcript").length}function getEffectiveSlideForTranscripts($current){if($current&&$current.length){if(slideHasTranscript($current))return $current;try{if($.deck&&$.deck("getToplevelSlideOf")){var $top=$.deck("getToplevelSlideOf",$current);if(slideHasTranscript($top))return $top}}catch(e){}for(var $p=$current.parent();$p&&$p.length&&!$p.is("body");){if($p.hasClass("slide")&&slideHasTranscript($p))return $p;$p=$p.parent()}}return $()}function renderPanelForSlide($slide,index,opts){var $container=getPanelContainer(opts);$container.empty(),$slide&&$slide.length&&($slide.find(".transcript").each(function(){var id=this.getAttribute(opts.idAttr||"id"),text=index[id],val=null!=text?text:"[no transcript]";null==text&&$d.trigger("deck.transcripts.missingId",[{id:id,element:this}]),$('<div class="transcript">').text(val).appendTo($container)}),$d.trigger("deck.transcripts.renderedForSlide",[{slideId:$slide.attr("id")}]))}$.extend(!0,$.deck.defaults,{classes:{transcripts:"deck-transcripts",transcriptsContainer:"deck-transcripts-container"},keys:{transcripts:84},transcriptsUrl:"auto",idAttr:"id",render:{allowHtml:!1,markdown:!1,latexExportEscapes:!0},behavior:{showCurrentSlideOnly:!0,fillPlaceholders:!0,removeMissing:!1},load:{strategy:"onInit",delayMs:250}});var state={index:{},loaded:!1,loading:!1,exportMode:!1};function doLoad(opts,overrideUrl){if(state.loaded||state.loading)return state.promise||$.Deferred().resolve().promise();state.loading=!0;var url=overrideUrl||("auto"===opts.transcriptsUrl?(()=>{try{var path=window.location.pathname||"";return/\.html(\?.*)?$/i.test(path)?path.replace(/\.html(\?.*)?$/i,".json"):/\.json(\?.*)?$/i.test(path)?path:path.endsWith("/")?path+"index.json":path+".json"}catch(e){return null}})():opts.transcriptsUrl),dfd=$.Deferred();function onSuccess(items){state.index=(items=>{var idx={};return $.isArray(items)&&$.each(items,function(i,it){it&&null!=it.transcript_id&&(idx[it.transcript_id]=null!=it.transcript_text?String(it.transcript_text):"")}),idx})(items||[]),state.loaded=!0,state.loading=!1,$d.trigger("deck.transcripts.loaded",[{count:Object.keys(state.index).length}]);try{((index,opts)=>{var idAttr;opts.behavior&&!1===opts.behavior.fillPlaceholders||(idAttr=opts.idAttr||"id",$(".deck-container .transcript").each(function(){var text,raw,looksLikeSentinel,el=this,id=el.getAttribute(idAttr);id&&(text=index[id],raw=(el.textContent||"").trim(),looksLikeSentinel=SENTINEL_RE.test(raw),0!==raw.length&&!looksLikeSentinel||(null!=text?el.textContent=text:(el.textContent="[no transcript]",el.classList.add("transcript-missing"),$d.trigger("deck.transcripts.missingId",[{id:id,element:el}]))))}))})(state.index,opts)}catch(e){}dfd.resolve()}function onError(err){state.loading=!1,console.error("deck.transcripts: failed to load",url,err),$d.trigger("deck.transcripts.loadFailed",[{url:url,error:err}]),dfd.reject(err)}state.promise=dfd.promise();try{"function"==typeof fetch?fetch(url,{credentials:"same-origin"}).then(function(res){if(res.ok)return res.json();throw new Error("HTTP "+res.status)}).then(onSuccess).catch(onError):$.ajax({url:url,dataType:"json"}).done(onSuccess).fail(onError)}catch(e){onError(e)}return dfd.promise()}$.deck("extend","loadTranscripts",function(url){return doLoad($.deck("getOptions"),url)}),$.deck("extend","getTranscript",function(id){return state.index[id]}),$.deck("extend","showTranscripts",function(){var opts=$.deck("getOptions");ensurePanel(opts).show();state.exportMode=!1,applyLiveTransform(opts),renderPanelForSlide(getEffectiveSlideForTranscripts($.deck("getSlide")),state.index,opts)}),$.deck("extend","hideTranscripts",function(){var opts=$.deck("getOptions");$("."+opts.classes.transcripts).hide().removeClass("export"),$(".deck-container").css({transform:""}).show(),state.exportMode=!1}),$.deck("extend","toggleTranscripts",function(){var opts=$.deck("getOptions");$("."+opts.classes.transcripts).is(":visible")?$.deck("hideTranscripts"):$.deck("showTranscripts")}),$.deck("extend","showTranscriptsExport",function(){var opts=$.deck("getOptions");ensurePanel(opts).addClass("export").show();$(".deck-container").hide().css({transform:""}),state.exportMode=!0,((index,opts)=>{var $container=getPanelContainer(opts);$container.empty(),$($(".deck-container .slide")).each(function(){var slideId,texId,$slide=$(this);slideHasTranscript($slide)&&(texId=((slideId=$slide.attr("id")||"")+"").replace(/_/g,"\\_"),$('<div class="transcripts-header-tex">').text("\\subsection{"+texId+"}").appendTo($container),$slide.find(".transcript").each(function(){var id=this.getAttribute(opts.idAttr||"id"),id=index[id],id=null!=id?id:"[no transcript]";$('<div class="transcript for-'+slideId+'">').text(id).appendTo($container)}),$('<div class="transcript">').html("&nbsp;").appendTo($container))}),opts.render&&opts.render.latexExportEscapes&&$container.contents().each(function(){3===this.nodeType?this.nodeValue=latexMap(this.nodeValue):1===this.nodeType&&(this.textContent=latexMap(this.textContent))})})(state.index,opts)}),$.deck("extend","hideTranscriptsExport",function(){var opts=$.deck("getOptions");$("."+opts.classes.transcripts).removeClass("export").hide(),$(".deck-container").show(),state.exportMode=!1}),$.deck("extend","toggleTranscriptsExport",function(){var opts=$.deck("getOptions");$("."+opts.classes.transcripts).hasClass("export")?$.deck("hideTranscriptsExport"):$.deck("showTranscriptsExport")}),$d.bind("deck.init",function(){var delay,opts=$.deck("getOptions");ensurePanel(opts),$d.unbind("keydown.decktranscripts").bind("keydown.decktranscripts",function(e){var key=opts.keys.transcripts;(e.which===key||-1<$.inArray(e.which,key))&&(e.altKey&&$("."+opts.classes.transcripts).toggleClass("large-format"),e.shiftKey?$.deck("toggleTranscriptsExport"):$.deck("toggleTranscripts"),e.preventDefault())}),opts.load&&"onInit"===opts.load.strategy&&(delay=null==opts.load.delayMs?250:opts.load.delayMs,setTimeout(function(){doLoad(opts)},delay))}),$d.bind("deck.change",function(e,from,to){var opts=$.deck("getOptions");state.exportMode||($("."+opts.classes.transcripts).is(":visible")&&applyLiveTransform(opts),renderPanelForSlide(getEffectiveSlideForTranscripts($.deck("getSlide",to)),state.index,opts))})})(jQuery),($=>{$(".slide-clone").each(function(i,el){var $el=$(el);$el.parents(".slide").first().one("deck.becameCurrent",function(_,direction,from,to){var selector=$el.attr("data-which"),$to_clone=$(selector),theClone=$to_clone.clone();0===$to_clone.length&&(theClone=$("<p>[*not found, selector="+selector+"*]</p>")),console.log("cloning: found = "+$to_clone.length),$(theClone).find(".slide.deck-before").removeClass("slide").removeClass("deck-before"),$(theClone).find(".notes.show").removeClass("notes"),$(theClone).find(".handout.show").removeClass("handout"),$(theClone).find(".notes").remove(),$(theClone).find(".handout").remove(),$el.html(theClone.html())})})})(jQuery),($=>{function myInArray(el,arr){for(var i in arr)if(arr[i].is(el))return+i;return-1}var $d=$(document);$.extend(!0,$.deck.defaults,{keys:{next:null,previous:null}}),$.extend(!0,$.deck.defaults,{selectors:{subslidesToNotify:".slide,.onshowtoplevel"},keys:{previous:[8,37,34],next:[13,32,39,33],previousTopLevel:[38],nextTopLevel:[40]},countNested:!1}),$.deck("extend","getToplevelSlideOf",function(node){var opts=$.deck("getOptions"),slides=$.deck("getSlides"),last={node:$(node),index:myInArray(node,slides)};return $(node).parentsUntil(opts.selectors.container).each(function(ii,v){var ind=myInArray(v,slides);-1!=ind&&(last={node:$(v),index:ind})}),last}),$.deck("extend","getToplevelSlideOfIndex",function(ind){return $.deck("getToplevelSlideOf",$.deck("getSlide",ind))}),$.deck("extend","previousTopLevelSlide",function(){var current=$.deck("getSlide"),currentParent=$.deck("getToplevelSlideOf",current),toGo=currentParent.index;current.is(currentParent.node)&&0<toGo&&(toGo=$.deck("getToplevelSlideOfIndex",toGo-1).index),$.deck("go",toGo)}),$.deck("extend","nextTopLevelSlide",function(){for(var current=$.deck("getSlide"),currentParent=$.deck("getToplevelSlideOf",current),icur=currentParent.index;icur<$.deck("getSlides").length;icur++)if(!$.deck("getToplevelSlideOfIndex",icur).node.is(currentParent.node)){$.deck("go",icur);break}}),$d.bind("deck.init",function(){$d.unbind("keydown.decknexttoplevel").bind("keydown.decknexttoplevel",function(e){var key=$.deck("getOptions").keys.nextTopLevel;(e.which===key||-1<$.inArray(e.which,key))&&(e.preventDefault(),$.deck("nextTopLevelSlide"))}),$d.unbind("keydown.deckprevioustoplevel").bind("keydown.deckprevioustoplevel",function(e){var key=$.deck("getOptions").keys.previousTopLevel;(e.which===key||-1<$.inArray(e.which,key))&&(e.preventDefault(),$.deck("previousTopLevelSlide"))})}),$d.bind("deck.change",function(e,from,to){(1<Math.abs(from-to)||!$.deck("getToplevelSlideOfIndex",to).node.is($.deck("getToplevelSlideOfIndex",from).node))&&((from,to)=>{var direction="forward",from=(to<from&&(direction="reverse"),$.deck("getOptions"));$($.deck("getToplevelSlideOfIndex",to).node.find(from.selectors.subslidesToNotify).get().reverse()).trigger("deck.toplevelBecameCurrent",direction);for(var icur=$.deck("getToplevelSlideOfIndex",to).index+1;icur<to+1;icur++)$.deck("getSlides")[icur].trigger("deck.afterToplevelBecameCurrent","forward")})(from,to)})})(jQuery),(($,undefined)=>{function create_default_undo($el,c,action_id){return function(){try{actions_undo[action_id]()}catch(e){}}}var $d=$(document),slides=window.__deckVelocitySlides||[],elements_to_actions=(window.__deckVelocitySlides=slides,{"dv-velocity":{create_doit:function($el,c,action_id){var options,$targets=c.$targets,css=c.css;return"object"!=typeof css?function(){}:(options=c.options,function(){(($elements,css,options,action_id)=>{var fn_sequence=[],save_clip=css&&("clipTop"in css||"clipRight"in css||"clipBottom"in css||"clipLeft"in css);$elements.each(function(idx,el){var clip_rect,$el=$(el),old_css={},old_options=(save_clip&&(clip_rect=$el.css("clip"),fn_sequence.push(function(){$el.css("clip",clip_rect)})),$.each(css,function(key,val){var old_val;-1===$.inArray(key,css_do_not_undo)&&(void 0===(old_val=$el.css(key))&&(old_val=$.Velocity.hook($el,key)),old_css[key]=old_val)}),$.extend({},options));old_options.duration=0,options&&"visibility"in options&&(old_options.visibility=$el.css("visibility")),options&&"display"in options&&(old_options.display=$el.css("display")),fn_sequence.push(function(){$.isEmptyObject(old_css)||(JSON.stringify(old_css),JSON.stringify(old_options),$el.velocity(old_css,old_options))})}),actions_undo[action_id]=function(){$.each(fn_sequence,function(idx,fn){fn()})}})($targets,css,options,action_id),$targets.velocity(css,options)})},create_undoit:create_default_undo},"dv-style":{create_doit:function($el,c,action_id){var $targets=c.$targets,css=c.css;return"object"!=typeof css?function(){}:function(){(($elements,css,action_id)=>{var fn_sequence=[];$elements.each(function(idx,el){var $el=$(el),old_css={};$.each(css,function(key,val){var old_val=$el.css(key);old_css[key]=old_val}),fn_sequence.push(function(){JSON.stringify(old_css),$el.attr("class"),$el.velocity("stop"),setTimeout(function(){$el.css(old_css)},100)})}),actions_undo[action_id]=function(){$.each(fn_sequence,function(idx,fn){fn()})}})($targets,css,action_id),$targets.css(css)}},create_undoit:create_default_undo},"dv-addclass":{create_doit:function($el,c,action_id){var $targets=c.$targets,cls=c.cls;return function(){var undo_sequence=[];$targets.each(function(idx,target){var $target=$(target),old_cls=$target.attr("class")||"";undo_sequence.push(function(){$target.attr("class",old_cls)}),$target.addClass(cls)}),actions_undo[action_id]=function(){$.each(undo_sequence,function(_,fn){fn()})}}},create_undoit:create_default_undo},"dv-removeclass":{create_doit:function($el,c,action_id){var to_rm_re,$targets=c.$targets,cls=c.cls;return-1!==cls.indexOf("*")&&(to_rm_re=new RegExp("\\b"+cls.replace(/\*/g,"\\S+").replace(/\s+/g,"|\\b"),"g")),function(){var undo_sequence=[];$targets.length,$targets.each(function(idx,target){var $target=$(target),old_cls=$target.attr("class")||"";undo_sequence.push(function(){$target.attr("class",old_cls)})}),actions_undo[action_id]=function(){$.each(undo_sequence,function(_,fn){fn()})},to_rm_re?$targets.removeClass(function(idx,theClasses){return(theClasses.match(to_rm_re)||[]).join(" ")}):$targets.removeClass(cls)}},create_undoit:create_default_undo},"dv-attr":{create_doit:function($el,c,action_id){var $targets=c.$targets,key=c.attr,value=c.value;return function(){var undo_sequence=[];$targets.each(function(idx,target){var $target=$(target),old_value=$target.attr(key);undo_sequence.push(function(){$target.attr(key,old_value)}),$target.attr(key,value)}),actions_undo[action_id]=function(){$.each(undo_sequence,function(_,fn){fn()})}}},create_undoit:create_default_undo},"dv-connect":{create_doit:function($el,c,action_id){return actions_undo[action_id]=function(){},function(){$.deck("disableScale");var $top_slide=$el.parents(".slide").last(),previous_strokeStyle=jsPlumb.Defaults.PaintStyle.strokeStyle;jsPlumb.Defaults.PaintStyle.strokeStyle=c.color,jsPlumb.connect({source:c.from,target:c.to,anchors:[c.fromAnchor,c.toAnchor],container:$top_slide}),jsPlumb.Defaults.PaintStyle.strokeStyle=previous_strokeStyle,$.deck("enableScale")}},create_undoit:function($el,c,action_id){return function(){jsPlumb.detachAllConnections(c.from)}}}}),actions_undo={},css_do_not_undo=["clipTop","clipRight","clipBottom","clipLeft"];function str_to_obj(str){try{return JSON.parse(str)}catch(e){return undefined}}function getAction($el,action_id){var the_action,clss=($el.attr("class")||"").split(" ");return $.each(clss,function(idx,cls){var c;cls in elements_to_actions&&(cls=elements_to_actions[cls],c=($el=>{var $top_slide=$el.parents(".slide").last();return{$targets:$($el.attr("data-what"),$top_slide),css:str_to_obj($el.attr("data-css")),options:str_to_obj($el.attr("data-options")),cls:$el.attr("data-cls")||"",attr:$el.attr("data-attr")||"",value:$el.attr("data-value")||"",from:$($el.attr("data-from")),fromAnchor:$el.attr("data-from-anchor")||"RightMiddle",to:$($el.attr("data-to")),toAnchor:$el.attr("data-to-anchor")||"RightMiddle",color:$el.attr("data-color")||"rgba(255,255,0,1)",lineWidth:$el.attr("data-width")||"3"}})($el),the_action={doit:cls.create_doit($el,c,action_id),undoit:cls.create_undoit($el,c,action_id)})}),the_action}function doInit(){slides=$.deck("getSlides"),(window.__deckVelocitySlides=slides).length,$.deck("getSlideIndex"),$.each(slides,function(i,$slide){$slide=($slide=>{var $sub_slides=$(".slide",$slide),$sub_slides=$(".dv",$sub_slides),$sub_slides=$(".dv",$slide).not($sub_slides),actions=[];return $sub_slides.each(function(i,el){el=$(el),i=$slide.attr("id")+"_act-"+i,el=getAction(el,i);el&&actions.push(el)}),actions})($slide);$.each($slide,function(_ignore,action){$.deck("addSlideAction",i,action)})}),$(document).trigger("deckVelocityInit")}$d.bind("deckslideActionsInit",function(event){setTimeout(doInit,10),$d.unbind(event)})})(jQuery),($=>{function slideActionsInit(){function getSlideIndex($slide){void 0===$slide&&($slide=$.deck("getSlide"));for(var slides=window.__deckVelocitySlides||[],idx=0;idx<slides.length&&!slides[idx].is($slide);idx++);return idx}$.deck("extend","getSlideIndex",getSlideIndex),$.deck("extend","forceRefresh",function(){var idx=getSlideIndex();$d.trigger("deck.change",[idx,0]),$d.trigger("deck.change",[0,idx])});var slideActions=[];$.deck("extend","addSlideAction",function(slideIdx,fn){slideActions[slideIdx]=slideActions[slideIdx]||[],slideActions[slideIdx].push(fn)}),$.deck("extend","getSlideActions",function(){return slideActions}),$d.bind("deck.change",function(event,from,to){if(to-from==1&&(0<to&&$.each(prevSlideActions=slideActions[to-1]||[],function(i,action){void 0!==action.doAfter&&action.doAfter()}),$.each(actions=slideActions[to]||[],function(i,action){void 0!==action.doit&&action.doit()})),1<to-from)for(var idx=from+1;idx<=to;idx++){var prevSlideActions=slideActions[idx-1]||[],actions=($.each(prevSlideActions,function(i,action){void 0!==action.doAfter&&action.doAfter()}),slideActions[idx]||[]);$.each(actions,function(i,action){void 0!==action.doit&&action.doit()})}if(to-from<0)for(idx=to+1;idx<=from;idx++)for(var idx2=(actions=slideActions[idx]||[]).length-1;0<=idx2;idx2-=1){var action=actions[idx2];void 0!==action.undoit&&action.undoit()}}),$d.trigger("deckslideActionsInit")}var $d=$(document);$d.bind("deck.init",function(event){setTimeout(slideActionsInit,10),$d.unbind(event)})})(jQuery),$(function(){$.deck(".slide",{fitMode:"center middle",designWidth:800,designHeight:600,fitMarginX:0,fitMarginY:0});function addCustomActions(){window.deckSlideActions=window.deckSlideActions||[],$.each(deckSlideActions,function(i,action){var scriptEl=action.scriptEl,scriptEl=($slide=$(scriptEl).parents(".slide").first(),$.deck("getSlideIndex",$slide));$.deck("addSlideAction",scriptEl,action)}),$.deck("forceRefresh")}$(document).bind("deckVelocityInit",function(event){setTimeout(addCustomActions,10),$(document).unbind(event)})}),"undefined"!=typeof jsPlumb&&(jsPlumb.Defaults.PaintStyle={lineWidth:2,strokeStyle:"rgba(255,255,0,1)",outlineColor:"black",outlineWidth:1},jsPlumb.Defaults.Endpoints=[["Dot",{radius:3}],["Dot",{radius:3}]],$(document).ready(function(){jsPlumb.ready(function(){jsPlumb.importDefaults({PaintStyle:{lineWidth:2,strokeStyle:"rgba(255,255,0,1)",outlineColor:"black",outlineWidth:1}})})})),window.scaleDeck=function(baseHeight){var opts=$.deck("getOptions"),slideTest=($.deck("getContainer"),$.map([opts.classes.before,opts.classes.previous,opts.classes.current,opts.classes.next,opts.classes.after],function(el,i){return"."+el}).join(", ")),rootSlides=[];$.each($.deck("getSlides"),function(i,$el){$el.parentsUntil(opts.selectors.container,slideTest).length||rootSlides.push($el)}),$.each(rootSlides,function(i,$slide){var slideHeight=$slide.innerHeight(),$scaler=$slide;scale=baseHeight/slideHeight,$.each("Webkit Moz O ms Khtml".split(" "),function(i,prefix){1===scale?$scaler.css(prefix+"Transform",""):$scaler.css(prefix+"Transform","scale("+scale+")")})})};